/*! For license information please see main.4eaff438.js.LICENSE.txt */
(()=>{var e={43(e,t,r){"use strict";e.exports=r(202)},153(e,t,r){"use strict";var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},173(e,t,r){e.exports=r(497)()},202(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!S.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:j.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===s?"."+N(l,0):s,x(i)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),C(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=C(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,a,u=s+N(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:j};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,r))c<a&&0>s(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function x(e){if(g=!1,w(e),!m)if(null!==n(c))m=!0,A(k);else{var t=n(u);null!==t&&I(x,t.startTime-e)}}function k(e,r){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var s=f;try{for(w(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!C());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&a(c),w(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&I(x,d.startTime-r),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,S=!1,_=null,E=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function O(){if(null!==_){var e=t.unstable_now();N=e;var r=!0;try{r=_(!0,e)}finally{r?j():(S=!1,_=null)}}else S=!1}if("function"===typeof b)j=function(){b(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=O,j=function(){R.postMessage(null)}}else j=function(){y(O,0)};function A(e){_=e,S||(S=!0,j())}function I(e,r){E=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(u,e),null===n(c)&&e===n(u)&&(g?(v(E),E=-1):g=!0,I(x,s-i))):(e.sortIndex=o,r(c,e),m||p||(m=!0,A(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},245(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=u(r(173)),s=u(r(742)),i=u(r(612)),o=r(43),l=u(o),c=u(r(686));function u(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},h=(0,o.forwardRef)(function(e,t){var r=e.bgColor,a=void 0===r?"#FFFFFF":r,o=e.fgColor,u=void 0===o?"#000000":o,d=e.level,h=void 0===d?"L":d,f=e.size,p=void 0===f?256:f,m=e.value,g=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["bgColor","fgColor","level","size","value"]),y=new i.default(-1,s.default[h]);y.addData(m),y.make();var v=y.modules;return l.default.createElement(c.default,n({},g,{bgColor:a,bgD:v.map(function(e,t){return e.map(function(e,r){return e?"":"M "+r+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:u,fgD:v.map(function(e,t){return e.map(function(e,r){return e?"M "+r+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:v.length}))});h.displayName="QRCode",h.propTypes=d,t.Ay=h},343(e,t,r){var n=r(957);function a(e){this.mode=n.MODE_8BIT_BYTE,this.data=e}a.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},e.exports=a},391(e,t,r){"use strict";var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},392(e,t,r){var n=r(460);function a(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}a.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<e.getLength();s++)t[r+s]^=n.gexp(n.glog(this.get(r))+n.glog(e.get(s)));return new a(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=n.glog(this.get(0))-n.glog(e.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(s=0;s<e.getLength();s++)r[s]^=n.gexp(n.glog(e.get(s))+t);return new a(r,0).mod(e)}},e.exports=a},436(e,t,r){var n=r(742);function a(e,t){this.totalCount=e,this.dataCount=t}a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var r=a.getRsBlockTable(e,t);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,s=new Array,i=0;i<n;i++)for(var o=r[3*i+0],l=r[3*i+1],c=r[3*i+2],u=0;u<o;u++)s.push(new a(l,c));return s},a.getRsBlockTable=function(e,t){switch(t){case n.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case n.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case n.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case n.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},e.exports=a},460(e){for(var t={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)t.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)t.EXP_TABLE[r]=t.EXP_TABLE[r-4]^t.EXP_TABLE[r-5]^t.EXP_TABLE[r-6]^t.EXP_TABLE[r-8];for(r=0;r<255;r++)t.LOG_TABLE[t.EXP_TABLE[r]]=r;e.exports=t},497(e,t,r){"use strict";var n=r(218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,s,i){if(i!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return r.PropTypes=r,r}},579(e,t,r){"use strict";e.exports=r(153)},612(e,t,r){var n=r(343),a=r(436),s=r(813),i=r(898),o=r(392);function l(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=l.prototype;c.addData=function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},c.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),r=new s,n=0,o=0;o<t.length;o++)n+=t[o].dataCount;for(o=0;o<this.dataList.length;o++){var l=this.dataList[o];r.put(l.mode,4),r.put(l.getLength(),i.getLengthInBits(l.mode,e)),l.write(r)}if(r.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},c.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},c.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=i.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},c.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var a=0;a<this.modules.length;a++)for(var s=1*a,i=0;i<this.modules[a].length;i++){var o=1*i;this.modules[a][i]&&(n.beginFill(0,100),n.moveTo(o,s),n.lineTo(o+1,s),n.lineTo(o+1,s+1),n.lineTo(o,s+1),n.endFill())}return n},c.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},c.setupPositionAdjustPattern=function(){for(var e=i.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],a=e[r];if(null==this.modules[n][a])for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)this.modules[n+s][a+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o}},c.setupTypeNumber=function(e){for(var t=i.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},c.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=i.getBCHTypeInfo(r),a=0;a<15;a++){var s=!e&&1==(n>>a&1);a<6?this.modules[a][8]=s:a<8?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(a=0;a<15;a++){s=!e&&1==(n>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=s:a<9?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!e},c.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,a=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var l=0;l<2;l++)if(null==this.modules[n][o-l]){var c=!1;s<e.length&&(c=1==(e[s]>>>a&1)),i.getMask(t,n,o-l)&&(c=!c),this.modules[n][o-l]=c,-1==--a&&(s++,a=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(e,t,r){for(var n=a.getRSBlocks(e,t),o=new s,c=0;c<r.length;c++){var u=r[c];o.put(u.mode,4),o.put(u.getLength(),i.getLengthInBits(u.mode,e)),u.write(o)}var d=0;for(c=0;c<n.length;c++)d+=n[c].dataCount;if(o.getLengthInBits()>8*d)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*d+")");for(o.getLengthInBits()+4<=8*d&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*d)&&(o.put(l.PAD0,8),!(o.getLengthInBits()>=8*d));)o.put(l.PAD1,8);return l.createBytes(o,n)},l.createBytes=function(e,t){for(var r=0,n=0,a=0,s=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var u=t[c].dataCount,d=t[c].totalCount-u;n=Math.max(n,u),a=Math.max(a,d),s[c]=new Array(u);for(var h=0;h<s[c].length;h++)s[c][h]=255&e.buffer[h+r];r+=u;var f=i.getErrorCorrectPolynomial(d),p=new o(s[c],f.getLength()-1).mod(f);l[c]=new Array(f.getLength()-1);for(h=0;h<l[c].length;h++){var m=h+p.getLength()-l[c].length;l[c][h]=m>=0?p.get(m):0}}var g=0;for(h=0;h<t.length;h++)g+=t[h].totalCount;var y=new Array(g),v=0;for(h=0;h<n;h++)for(c=0;c<t.length;c++)h<s[c].length&&(y[v++]=s[c][h]);for(h=0;h<a;h++)for(c=0;c<t.length;c++)h<l[c].length&&(y[v++]=l[c][h]);return y},e.exports=l},686(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=o(r(173)),s=r(43),i=o(s);function o(e){return e&&e.__esModule?e:{default:e}}var l={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},c=(0,s.forwardRef)(function(e,t){var r=e.bgColor,a=e.bgD,s=e.fgD,o=e.fgColor,l=e.size,c=e.title,u=e.viewBoxSize,d=e.xmlns,h=void 0===d?"http://www.w3.org/2000/svg":d,f=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",n({},f,{height:l,ref:t,viewBox:"0 0 "+u+" "+u,width:l,xmlns:h}),c?i.default.createElement("title",null,c):null,i.default.createElement("path",{d:a,fill:r}),i.default.createElement("path",{d:s,fill:o}))});c.displayName="QRCodeSvg",c.propTypes=l,t.default=c},730(e,t,r){"use strict";var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var z,L=Object.assign;function B(e){if(void 0===z)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?B(e):""}function F(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case _:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Se=null;function _e(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Ee(e){je?Se?Se.push(e):Se=[e]:je=e}function Te(){if(je){var e=je,t=Se;if(Se=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Oe=!1;function Pe(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Ne(e,t,r)}finally{Oe=!1,(null!==je||null!==Se)&&(Ce(),Te())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=xa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ae=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Ae=!1}function De(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var ze=!1,Le=null,Be=!1,Me=null,Ue={onError:function(e){ze=!0,Le=e}};function Fe(e,t,r,n,a,s,i,o,l){ze=!1,Le=null,De.apply(Ue,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return He(a),e;if(i===n)return He(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,$e=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~a;0!==o?n=dt(o):0!==(s&=i)&&(n=dt(s))}else 0!==(i=r&~a)?n=dt(i):0!==s&&(n=dt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-it(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,jt,St,_t,Et=!1,Tt=[],Nt=null,Ct=null,Ot=null,Pt=new Map,Rt=new Map,At=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function zt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void _t(e.priority,function(){jt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&kt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Mt(e,t,r){Bt(e)&&r.delete(t)}function Ut(){Et=!1,null!==Nt&&Bt(Nt)&&(Nt=null),null!==Ct&&Bt(Ct)&&(Ct=null),null!==Ot&&Bt(Ot)&&(Ot=null),Pt.forEach(Mt),Rt.forEach(Mt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Ft(t,e)}if(0<Tt.length){Ft(Tt[0],e);for(var r=1;r<Tt.length;r++){var n=Tt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&Ft(Nt,e),null!==Ct&&Ft(Ct,e),null!==Ot&&Ft(Ot,e),Pt.forEach(t),Rt.forEach(t),r=0;r<At.length;r++)(n=At[r]).blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&null===(r=At[0]).blockedOn;)Lt(r),null===r.blockedOn&&At.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=a,Wt.transition=s}}function Kt(e,t,r,n){var a=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=a,Wt.transition=s}}function Gt(e,t,r,n){if(Ht){var a=Qt(e,t,r,n);if(null===a)Hn(e,t,n,Jt,r),Dt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Nt=zt(Nt,e,t,r,n,a),!0;case"dragenter":return Ct=zt(Ct,e,t,r,n,a),!0;case"mouseover":return Ot=zt(Ot,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,zt(Pt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Rt.set(s,zt(Rt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&xt(s),null===(s=Qt(e,t,r,n))&&Hn(e,t,n,Jt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Jt=null;function Qt(e,t,r,n){if(Jt=null,null!==(e=va(e=xe(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=L({},lr,{view:0,detail:0}),dr=ar(ur),hr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),fr=ar(hr),pr=ar(L({},hr,{dataTransfer:0})),mr=ar(L({},ur,{relatedTarget:0})),gr=ar(L({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=L({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ar(yr),br=ar(L({},lr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Sr(){return jr}var _r=L({},ur,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Er=ar(_r),Tr=ar(L({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ar(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Cr=ar(L({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=L({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=ar(Or),Rr=[9,13,27,32],Ar=u&&"CompositionEvent"in window,Ir=null;u&&"documentMode"in document&&(Ir=document.documentMode);var Dr=u&&"TextEvent"in window&&!Ir,zr=u&&(!Ar||Ir&&8<Ir&&11>=Ir),Lr=String.fromCharCode(32),Br=!1;function Mr(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ee(n),0<(t=Kn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Kr=null;function Gr(e){Bn(e,0)}function Jr(e){if(G(wa(e)))return e}function Qr(e,t){if("change"===e)return t}var $r=!1;if(u){var Yr;if(u){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Yr=Xr}else Yr=!1;$r=Yr&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Kr=Vr=null)}function tn(e){if("value"===e.propertyName&&Jr(Kr)){var t=[];Hr(t,Kr,e,xe(e)),Pe(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Kr)}function an(e,t){if("click"===e)return Jr(t)}function sn(e,t){if("input"===e||"change"===e)return Jr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=un(r,s);var i=un(r,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,yn=null,vn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==J(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Kn(yn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function xn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},jn={},Sn={};function _n(e){if(jn[e])return jn[e];if(!kn[e])return e;var t,r=kn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return jn[e]=r[t];return e}u&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var En=_n("animationend"),Tn=_n("animationiteration"),Nn=_n("animationstart"),Cn=_n("transitionend"),On=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){On.set(e,t),l(t,[e])}for(var An=0;An<Pn.length;An++){var In=Pn[An];Rn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Rn(En,"onAnimationEnd"),Rn(Tn,"onAnimationIteration"),Rn(Nn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Cn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,i,o,l,c){if(Fe.apply(this,arguments),ze){if(!ze)throw Error(s(198));var u=Le;ze=!1,Le=null,Be||(Be=!0,Me=u)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ln(a,o,c),s=l}}}if(Be)throw e=Me,Be=!1,Me=null,e}function Mn(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Fn]){e[Fn]=!0,i.forEach(function(t){"selectionchange"!==t&&(zn.has(t)||Un(t,!1,e),Un(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fn]||(t[Fn]=!0,Un("selectionchange",!1,t))}}function Wn(e,t,r,n){switch($t(t)){case 1:var a=Vt;break;case 4:a=Kt;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=va(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}Pe(function(){var n=s,a=xe(r),i=[];e:{var o=On.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Er;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nr;break;case En:case Tn:case Nn:l=gr;break;case Cn:l=Cr;break;case"scroll":l=dr;break;case"wheel":l=Pr;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tr}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Vn(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,r,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===we||!(c=r.relatedTarget||r.fromElement)||!va(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?va(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==c?o:wa(c),(o=new u(m,p+"leave",l,r,a)).target=d,o.relatedTarget=f,m=null,va(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gn(f))p++;for(f=0,m=h;m;m=Gn(m))f++;for(;0<p-f;)u=Gn(u),p--;for(;0<f-p;)h=Gn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gn(u),h=Gn(h)}u=null}else u=null;null!==l&&Jn(i,o,l,u,!1),null!==c&&null!==d&&Jn(i,d,c,u,!0)}if("select"===(l=(o=n?wa(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qr;else if(Wr(o))if($r)g=sn;else{g=nn;var y=rn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(i,g,r,a):(y&&y(e,o,n),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=n?wa(n):window,e){case"focusin":(Wr(y)||"true"===y.contentEditable)&&(gn=y,yn=n,vn=null);break;case"focusout":vn=yn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(i,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(i,r,a)}var v;if(Ar)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fr?Mr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(zr&&"ko"!==r.locale&&(Fr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fr&&(v=er()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Fr=!0)),0<(y=Kn(n,b)).length&&(b=new br(b,e,null,r,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Ur(r))&&(b.data=v))),(v=Dr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Br=!0,Lr);case"textInput":return(e=t.data)===Lr&&Br?null:e;default:return null}}(e,r):function(e,t){if(Fr)return"compositionend"===e||!Ar&&Mr(e,t)?(e=er(),Zt=Xt=Yt=null,Fr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=v))}Bn(i,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Re(e,r))&&n.unshift(Vn(e,s,a)),null!=(s=Re(e,t))&&n.push(Vn(e,s,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jn(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Re(r,s))&&i.unshift(Vn(r,l,o)):a||null!=(l=Re(r,s))&&i.push(Vn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Qn=/\r\n?/g,$n=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace($n,"")}function Xn(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[ha])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var ka=[],ja=-1;function Sa(e){return{current:e}}function _a(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Ea(e,t){ja++,ka[ja]=e.current,e.current=t}var Ta={},Na=Sa(Ta),Ca=Sa(!1),Oa=Ta;function Pa(e,t){var r=e.type.contextTypes;if(!r)return Ta;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){_a(Ca),_a(Na)}function Ia(e,t,r){if(Na.current!==Ta)throw Error(s(168));Ea(Na,t),Ea(Ca,r)}function Da(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return L({},r,n)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Oa=Na.current,Ea(Na,e),Ea(Ca,Ca.current),!0}function La(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Da(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,_a(Ca),_a(Na),Ea(Na,e)):_a(Ca),Ea(Ca,r)}var Ba=null,Ma=!1,Ua=!1;function Fa(e){null===Ba?Ba=[e]:Ba.push(e)}function qa(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=bt;try{var r=Ba;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ba=null,Ma=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ge(Ze,qa),a}finally{bt=t,Ua=!1}}return null}var Wa=[],Ha=0,Va=null,Ka=0,Ga=[],Ja=0,Qa=null,$a=1,Ya="";function Xa(e,t){Wa[Ha++]=Ka,Wa[Ha++]=Va,Va=e,Ka=t}function Za(e,t,r){Ga[Ja++]=$a,Ga[Ja++]=Ya,Ga[Ja++]=Qa,Qa=e;var n=$a;e=Ya;var a=32-it(n)-1;n&=~(1<<a),r+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,$a=1<<32-it(t)+a|r<<a|n,Ya=s+e}else $a=1<<s|r<<a|n,Ya=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,Ka=Wa[--Ha],Wa[Ha]=null;for(;e===Qa;)Qa=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null,$a=Ga[--Ja],Ga[Ja]=null}var rs=null,ns=null,as=!1,ss=null;function is(e,t){var r=Oc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qa?{id:$a,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Oc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&os(e,t)?is(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ds(e){if(e!==rs)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=ca(e.nextSibling)}function fs(){ns=rs=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=zc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===j?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&vs(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Ac(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(r=Ac(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case k:return(t=Lc(t,e.mode,r)).return=e,t;case R:return h(e,(0,t._init)(t._payload),r)}if(te(t)||D(t))return(t=Ic(t,e.mode,r,null)).return=e,t;ys(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===a?c(e,t,r,n):null;case k:return r.key===a?u(e,t,r,n):null;case R:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||D(r))return null!==a?null:d(e,t,r,n,null);ys(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case R:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||D(n))return d(t,e=e.get(r)||null,n,a,null);ys(t,n)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return r(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=n(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function g(a,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return r(a,m),as&&Xa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return as&&Xa(a,g),u}for(m=n(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(n,s,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){r(n,u.sibling),(s=a(u,i.props.children)).return=n,n=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&vs(c)===u.type){r(n,u.sibling),(s=a(u,i.props)).ref=gs(n,u,i),s.return=n,n=s;break e}r(n,u);break}t(n,u),u=u.sibling}i.type===j?((s=Ic(i.props.children,n.mode,l,i.key)).return=n,n=s):((l=Ac(i.type,i.key,i.props,null,n.mode,l)).ref=gs(n,s,i),l.return=n,n=l)}return o(n);case k:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(n,s.sibling),(s=a(s,i.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Lc(i,n.mode,l)).return=n,n=s}return o(n);case R:return e(n,s,(u=i._init)(i._payload),l)}if(te(i))return m(n,s,i,l);if(D(i))return g(n,s,i,l);ys(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,i)).return=n,n=s):(r(n,s),(s=zc(i,n.mode,l)).return=n,n=s),o(n)):r(n,s)}}var ws=bs(!0),xs=bs(!1),ks=Sa(null),js=null,Ss=null,_s=null;function Es(){_s=Ss=js=null}function Ts(e){var t=ks.current;_a(ks),e._currentValue=t}function Ns(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cs(e,t){js=e,_s=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===js)throw Error(s(308));Ss=e,js.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ps=null;function Rs(e){null===Ps?Ps=[e]:Ps.push(e)}function As(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Rs(t)):(r.next=a.next,a.next=r),t.interleaved=r,Is(e,n)}function Is(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ds=!1;function zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Is(e,r)}return null===(a=n.interleaved)?(t.next=t,Rs(n)):(t.next=a.next,a.next=t),n.interleaved=t,Is(e,r)}function Us(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function Fs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,n){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=d}}function Ws(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},Vs=Sa(Hs),Ks=Sa(Hs),Gs=Sa(Hs);function Js(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(Ea(Gs,t),Ea(Ks,e),Ea(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(Vs),Ea(Vs,t)}function $s(){_a(Vs),_a(Ks),_a(Gs)}function Ys(e){Js(Gs.current);var t=Js(Vs.current),r=le(t,e.type);t!==r&&(Ea(Ks,e),Ea(Vs,r))}function Xs(e){Ks.current===e&&(_a(Vs),_a(Ks))}var Zs=Sa(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function mi(e,t,r,n,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Xi:Zi,e=r(n,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=r(n,a)}while(ui)}if(ni.current=Yi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=vi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=oi,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ii.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Dl|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xi(e){var t=vi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);on(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ki(){}function ji(e,t){var r=ii,n=vi(),a=t(),i=!on(n.memoizedState,a);if(i&&(n.memoizedState=a,bo=!0),n=n.queue,Di(Ei.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Oi(9,_i.bind(null,r,n,a,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&si)||Si(r,t,a)}return a}function Si(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _i(e,t,r,n){t.value=r,t.getSnapshot=n,Ti(t)&&Ni(e)}function Ei(e,t,r){return r(function(){Ti(t)&&Ni(e)})}function Ti(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ni(e){var t=Is(e,1);null!==t&&tc(t,e,1,-1)}function Ci(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Oi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Pi(){return vi().memoizedState}function Ri(e,t,r,n){var a=yi();ii.flags|=e,a.memoizedState=Oi(1|t,r,void 0,void 0===n?null:n)}function Ai(e,t,r,n){var a=vi();n=void 0===n?null:n;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==n&&pi(n,i.deps))return void(a.memoizedState=Oi(t,r,s,n))}ii.flags|=e,a.memoizedState=Oi(1|t,r,s,n)}function Ii(e,t){return Ri(8390656,8,e,t)}function Di(e,t){return Ai(2048,8,e,t)}function zi(e,t){return Ai(4,2,e,t)}function Li(e,t){return Ai(4,4,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ai(4,4,Bi.bind(null,t,e),r)}function Ui(){}function Fi(e,t){var r=vi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qi(e,t){var r=vi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&pi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=r):(on(r,t)||(r=mt(),ii.lanes|=r,Dl|=r,e.baseState=!0),t)}function Hi(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=r,ai.transition=n}}function Vi(){return vi().memoizedState}function Ki(e,t,r){var n=ec(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ji(e))Qi(t,r);else if(null!==(r=As(e,t,r,n))){tc(r,e,n,Zl()),$i(r,t,n)}}function Gi(e,t,r){var n=ec(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Qi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(a.next=a,Rs(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=As(e,t,a,n))&&(tc(r,e,n,a=Zl()),$i(r,t,n))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){ui=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $i(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Yi={readContext:Os,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Os,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Ii,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4194308,4,Bi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var r=yi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ci,useDebugValue:Ui,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ci(!1),t=e[0];return e=Hi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ii,a=yi();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Nl)throw Error(s(349));0!==(30&si)||Si(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ii(Ei.bind(null,n,i,e),[e]),n.flags|=2048,Oi(9,_i.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yi(),t=Nl.identifierPrefix;if(as){var r=Ya;t=":"+t+"R"+(r=($a&~(1<<32-it($a)-1)).toString(32)+r),0<(r=di++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Os,useCallback:Fi,useContext:Os,useEffect:Di,useImperativeHandle:Mi,useInsertionEffect:zi,useLayoutEffect:Li,useMemo:qi,useReducer:wi,useRef:Pi,useState:function(){return wi(bi)},useDebugValue:Ui,useDeferredValue:function(e){return Wi(vi(),oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],vi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:Vi,unstable_isNewReconciler:!1},eo={readContext:Os,useCallback:Fi,useContext:Os,useEffect:Di,useImperativeHandle:Mi,useInsertionEffect:zi,useLayoutEffect:Li,useMemo:qi,useReducer:xi,useRef:Pi,useState:function(){return xi(bi)},useDebugValue:Ui,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[xi(bi)[0],vi().memoizedState]},useMutableSource:ki,useSyncExternalStore:ji,useId:Vi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zl(),a=ec(e),s=Bs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Ms(e,s,a))&&(tc(t,e,a,n),Us(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zl(),a=ec(e),s=Bs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Ms(e,s,a))&&(tc(t,e,a,n),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),n=ec(e),a=Bs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,n))&&(tc(t,e,n,r),Us(t,e,n))}};function ao(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function so(e,t,r){var n=!1,a=Ta,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(a=Ra(t)?Oa:Na.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Pa(e,a):Ta),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},zs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Os(s):(s=Ra(t)?Oa:Na.current,a.context=Pa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),qs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",n=t;do{r+=F(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=Bs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,Hl=n),uo(0,t)},r}function po(e,t,r){(r=Bs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof n&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mo(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ho;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Bs(-1,1)).tag=2,Ms(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=w.ReactCurrentOwner,bo=!1;function wo(e,t,r,n){t.child=null===e?xs(t,null,r,n):ws(t,e.child,r,n)}function xo(e,t,r,n,a){r=r.render;var s=t.ref;return Cs(t,a),n=mi(e,t,r,n,s,a),r=gi(),null===e||bo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function ko(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ac(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jo(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Rc(s,n)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return Eo(e,t,r,n,a)}function So(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Rl,Pl),Pl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ea(Rl,Pl),Pl|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ea(Rl,Pl),Pl|=n;return wo(e,t,a,r),t.child}function _o(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,r,n,a){var s=Ra(r)?Oa:Na.current;return s=Pa(t,s),Cs(t,a),r=mi(e,t,r,n,s,a),n=gi(),null===e||bo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function To(e,t,r,n,a){if(Ra(r)){var s=!0;za(t)}else s=!1;if(Cs(t,a),null===t.stateNode)qo(e,t),so(t,r,n),oo(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Pa(t,c=Ra(r)?Oa:Na.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Ds=!1;var h=t.memoizedState;i.state=h,qs(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Ca.current||Ds?("function"===typeof u&&(ro(t,r,u,n),l=t.memoizedState),(o=Ds||ao(t,r,o,n,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Os(l):l=Pa(t,l=Ra(r)?Oa:Na.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,n,l),Ds=!1,h=t.memoizedState,i.state=h,qs(t,n,i,a);var p=t.memoizedState;o!==d||h!==p||Ca.current||Ds?("function"===typeof f&&(ro(t,r,f,n),p=t.memoizedState),(c=Ds||ao(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return No(e,t,r,n,s,a)}function No(e,t,r,n,a,s){_o(e,t);var i=0!==(128&t.flags);if(!n&&!i)return a&&La(t,r,!1),Wo(e,t,s);n=t.stateNode,vo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=n.state,a&&La(t,r,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Qs(e,t.containerInfo)}function Oo(e,t,r,n,a){return fs(),ps(a),t.flags|=256,wo(e,t,r,n),t.child}var Po,Ro,Ao,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,r){var n,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,a,0,null),e=Ic(e,a,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(r),t.memoizedState=Io,e):Lo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,a,i,o){if(r)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,n=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Dc({mode:"visible",children:n.children},a,0,null),(i=Ic(i,a,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bo(e,t,o,n=co(i=Error(s(419)),n,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(n=Nl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),tc(n,e,a,-1))}return pc(),Bo(e,t,o,n=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ga[Ja++]=$a,Ga[Ja++]=Ya,Ga[Ja++]=Qa,$a=e.id,Ya=e.overflow,Qa=t),t=Lo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,i,r);if(o){o=a.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Rc(n,o):(o=Ic(o,l,r,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Lo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,r,n){return null!==n&&ps(n),ws(t,e.child,null,r),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ns(e.return,t,r)}function Uo(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Fo(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(wo(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,r,t);else if(19===e.tag)Mo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ea(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Uo(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Uo(t,!0,r,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ho(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ko(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ra(t.type)&&Aa(),Vo(t),null;case 3:return n=t.stateNode,$s(),_a(Ca),_a(Na),ri(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Vo(t),null;case 5:Xs(t);var a=Js(Gs.current);if(r=t.type,null!==e&&null!=t.stateNode)Ro(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Js(Vs.current),ds(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ha]=t,n[fa]=i,e=0!==(1&t.mode),r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Mn(Dn[a],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":$(n,i),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Mn("invalid",n);break;case"textarea":ae(n,i),Mn("invalid",n)}for(var l in ve(r,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mn("scroll",n)}switch(r){case"input":K(n),Z(n,i,!0);break;case"textarea":K(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Po(e,t),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Mn("cancel",e),Mn("close",e),a=n;break;case"iframe":case"object":case"embed":Mn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)Mn(Dn[a],e);a=n;break;case"source":Mn("error",e),a=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),a=n;break;case"details":Mn("toggle",e),a=n;break;case"input":$(e,n),a=Q(e,n),Mn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=L({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Mn("invalid",e)}for(i in ve(r,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mn("scroll",e):null!=u&&b(e,i,u,l))}switch(r){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Ao(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Js(Gs.current),Js(Vs.current),ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(i=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Vo(t),null;case 13:if(_a(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Al&&(Al=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return $s(),null===e&&qn(t.stateNode.containerInfo),Vo(t),null;case 10:return Ts(t.type._context),Vo(t),null;case 19:if(_a(Zs),null===(i=t.memoizedState))return Vo(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ho(i,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ea(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Fl&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Ye()-i.renderingStartTime>Fl&&1073741824!==r&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,r=Zs.current,Ea(Zs,n?1&r|2:1&r),t):(Vo(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Ra(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),_a(Ca),_a(Na),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(_a(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Zs),null;case 4:return $s(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Po=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ro=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Js(Vs.current);var s,i=null;switch(r){case"input":a=Q(e,a),n=Q(e,n),i=[];break;case"select":a=L({},a,{value:void 0}),n=L({},n,{value:void 0}),i=[];break;case"textarea":a=ne(e,a),n=ne(e,n),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ve(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ao=function(e,t,r,n){r!==n&&(t.flags|=4)};var Jo=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Yo=null;function Xo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){jc(e,t,n)}else r.current=null}function Zo(e,t,r){try{r()}catch(n){jc(e,t,n)}}var el=!1;function tl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zo(t,r,s)}a=a.next}while(a!==n)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ol(e,t,r),e=e.sibling;null!==e;)ol(e,t,r),e=e.sibling}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var cl=null,ul=!1;function dl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(o){}switch(r.tag){case 5:Qo||Xo(r,t);case 6:var n=cl,a=ul;cl=null,dl(e,t,r),ul=a,null!==(cl=n)&&(ul?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(ul?(e=cl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),qt(e)):la(cl,r.stateNode));break;case 4:n=cl,a=ul,cl=r.stateNode.containerInfo,ul=!0,dl(e,t,r),cl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(r,t,i),a=a.next}while(a!==n)}dl(e,t,r);break;case 1:if(!Qo&&(Xo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){jc(r,t,o)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?(Qo=(n=Qo)||null!==r.memoizedState,dl(e,t,r),Qo=n):dl(e,t,r);break;default:dl(e,t,r)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $o),t.forEach(function(t){var n=Tc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(i,o,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&n){try{tl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&n&&null!==r&&Xo(r,r.return);break;case 5:if(pl(t,e),gl(e),512&n&&null!==r&&Xo(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(a,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){jc(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){jc(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Ye())),4&n&&fl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(u=Qo)||d,pl(t,e),Qo=u):pl(t,e),gl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Yo=e,d=e.child;null!==d;){for(h=Yo=d;null!==Yo;){switch(p=(f=Yo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(n,r,g)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Yo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&n&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=n.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){jc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Yo=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Yo;){var a=Yo,s=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||Jo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Jo;var c=Qo;if(Jo=i,(Qo=l)&&!c)for(Yo=a;null!==Yo;)l=(i=Yo).child,22===i.tag&&null!==i.memoizedState?xl(a):null!==l?(l.return=i,Yo=l):xl(a);for(;null!==s;)Yo=s,vl(s,t,r),s=s.sibling;Yo=a,Jo=o,Qo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yo=s):bl(e)}}function bl(e){for(;null!==Yo;){var t=Yo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qo)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ws(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&nl(t)}catch(f){jc(t,t.return,f)}}if(t===e){Yo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Yo=r;break}Yo=t.return}}function wl(e){for(;null!==Yo;){var t=Yo;if(t===e){Yo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Yo=r;break}Yo=t.return}}function xl(e){for(;null!==Yo;){var t=Yo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(l){jc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){jc(t,a,l)}}var s=t.return;try{nl(t)}catch(l){jc(t,s,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){jc(t,i,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Yo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Yo=o;break}Yo=t.return}}var kl,jl=Math.ceil,Sl=w.ReactCurrentDispatcher,_l=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Tl=0,Nl=null,Cl=null,Ol=0,Pl=0,Rl=Sa(0),Al=0,Il=null,Dl=0,zl=0,Ll=0,Bl=null,Ml=null,Ul=0,Fl=1/0,ql=null,Wl=!1,Hl=null,Vl=null,Kl=!1,Gl=null,Jl=0,Ql=0,$l=null,Yl=-1,Xl=0;function Zl(){return 0!==(6&Tl)?Ye():-1!==Yl?Yl:Yl=Ye()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,r,n){if(50<Ql)throw Ql=0,$l=null,Error(s(185));yt(e,r,n),0!==(2&Tl)&&e===Nl||(e===Nl&&(0===(2&Tl)&&(zl|=r),4===Al&&ic(e,Ol)),rc(e,n),1===r&&0===Tl&&0===(1&t.mode)&&(Fl=Ye()+500,Ma&&qa()))}function rc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&r)&&0===(o&n)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=ht(e,e===Nl?Ol:0);if(0===n)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Je(r),1===t)0===e.tag?function(e){Ma=!0,Fa(e)}(oc.bind(null,e)):Fa(oc.bind(null,e)),ia(function(){0===(6&Tl)&&qa()}),r=null;else{switch(wt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Nc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Yl=-1,Xl=0,0!==(6&Tl))throw Error(s(327));var r=e.callbackNode;if(xc()&&e.callbackNode!==r)return null;var n=ht(e,e===Nl?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var a=Tl;Tl|=2;var i=fc();for(Nl===e&&Ol===t||(ql=null,Fl=Ye()+500,dc(e,t));;)try{yc();break}catch(l){hc(e,l)}Es(),Sl.current=i,Tl=a,null!==Cl?t=0:(Nl=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=ac(e,a))),1===t)throw r=Il,dc(e,0),ic(e,n),rc(e,Ye()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,n))&&(0!==(i=pt(e))&&(n=i,t=ac(e,i))),1===t))throw r=Il,dc(e,0),ic(e,n),rc(e,Ye()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ml,ql);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Ul+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Ml,ql),t);break}wc(e,Ml,ql);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Ml,ql),n);break}wc(e,Ml,ql);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===r?nc.bind(null,e):null}function ac(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ml,Ml=r,null!==t&&sc(t)),e}function sc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~Ll,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(0!==(6&Tl))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var r=mc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Il,dc(e,0),ic(e,t),rc(e,Ye()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ml,ql),rc(e,Ye()),null}function lc(e,t){var r=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=r)&&(Fl=Ye()+500,Ma&&qa())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&xc();var t=Tl;Tl|=1;var r=El.transition,n=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=n,El.transition=r,0===(6&(Tl=t))&&qa()}}function uc(){Pl=Rl.current,_a(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Cl)for(r=Cl.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Aa();break;case 3:$s(),_a(Ca),_a(Na),ri();break;case 5:Xs(n);break;case 4:$s();break;case 13:case 19:_a(Zs);break;case 10:Ts(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Nl=e,Cl=e=Rc(e.current,null),Ol=Pl=t,Al=0,Il=null,Ll=zl=Dl=0,Ml=Bl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(n=(r=Ps[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var i=s.next;s.next=a,n.next=i}r.pending=n}Ps=null}return e}function hc(e,t){for(;;){var r=Cl;try{if(Es(),ni.current=Yi,ci){for(var n=ii.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,_l.current=null,null===r||null===r.return){Al=1,Il=t,Cl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Al&&(Al=2),null===Bl?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,fo(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(w){t=w,Cl===r&&null!==r&&(Cl=r=r.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Yi,null===e?Yi:e}function pc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Nl||0===(268435455&Dl)&&0===(268435455&zl)||ic(Nl,Ol)}function mc(e,t){var r=Tl;Tl|=2;var n=fc();for(Nl===e&&Ol===t||(ql=null,dc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Es(),Tl=r,Sl.current=n,null!==Cl)throw Error(s(261));return Nl=null,Ol=0,Al}function gc(){for(;null!==Cl;)vc(Cl)}function yc(){for(;null!==Cl&&!Qe();)vc(Cl)}function vc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Cl=t,_l.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ko(r,t,Pl)))return void(Cl=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Cl=r);if(null===e)return Al=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,r){var n=bt,a=El.transition;try{El.transition=null,bt=1,function(e,t,r,n){do{xc()}while(null!==Gl);if(0!==(6&Tl))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-it(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,i),e===Nl&&(Cl=Nl=null,Ol=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Nc(tt,function(){return xc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=El.transition,El.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,_l.current=null,function(e,t){if(ea=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(x){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Yo=t;null!==Yo;)if(e=(t=Yo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yo=e;else for(;null!==Yo;){t=Yo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){jc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Yo=e;break}Yo=t.return}m=el,el=!1}(e,r),ml(r,e),pn(ta),Ht=!!ea,ta=ea=null,e.current=r,yl(r,e,a),$e(),Tl=l,bt=o,El.transition=i}else e.current=r;if(Kl&&(Kl=!1,Gl=e,Jl=a),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),rc(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xc(),i=e.pendingLanes,0!==(1&i)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,qa()}(e,t,r,n)}finally{El.transition=a,bt=n}return null}function xc(){if(null!==Gl){var e=wt(Jl),t=El.transition,r=bt;try{if(El.transition=null,bt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Tl))throw Error(s(331));var a=Tl;for(Tl|=4,Yo=e.current;null!==Yo;){var i=Yo,o=i.child;if(0!==(16&Yo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Yo=u;null!==Yo;){var d=Yo;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Yo=h;else for(;null!==Yo;){var f=(d=Yo).sibling,p=d.return;if(al(d),d===u){Yo=null;break}if(null!==f){f.return=p,Yo=f;break}Yo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Yo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Yo=o;else e:for(;null!==Yo;){if(0!==(2048&(i=Yo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Yo=v;break e}Yo=i.return}}var b=e.current;for(Yo=b;null!==Yo;){var w=(o=Yo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Yo=w;else e:for(o=b;null!==Yo;){if(0!==(2048&(l=Yo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){jc(l,l.return,k)}if(l===o){Yo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Yo=x;break e}Yo=l.return}}if(Tl=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}n=!0}return n}finally{bt=r,El.transition=t}}return!1}function kc(e,t,r){e=Ms(e,t=fo(0,t=lo(r,t),1),1),t=Zl(),null!==e&&(yt(e,1,t),rc(e,t))}function jc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vl||!Vl.has(n))){t=Ms(t,e=po(t,e=lo(r,e),1),1),e=Zl(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,Nl===e&&(Ol&r)===r&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Ye()-Ul?dc(e,0):Ll|=r),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=Zl();null!==(e=Is(e,t))&&(yt(e,t,r),rc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Tc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),_c(e,r)}function Nc(e,t){return Ge(e,t)}function Cc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,r,n){return new Cc(e,t,r,n)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ac(e,t,r,n,a,i){var o=2;if(n=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Ic(r.children,a,i,t);case S:o=8,a|=8;break;case _:return(e=Oc(12,r,t,2|a)).elementType=_,e.lanes=i,e;case C:return(e=Oc(13,r,t,a)).elementType=C,e.lanes=i,e;case O:return(e=Oc(19,r,t,a)).elementType=O,e.lanes=i,e;case A:return Dc(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case T:o=9;break e;case N:o=11;break e;case P:o=14;break e;case R:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(o,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Ic(e,t,r,n){return(e=Oc(7,e,n,t)).lanes=r,e}function Dc(e,t,r,n){return(e=Oc(22,e,n,t)).elementType=A,e.lanes=r,e.stateNode={isHidden:!1},e}function zc(e,t,r){return(e=Oc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,r,n,a,s,i,o,l){return e=new Bc(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zs(s),e}function Uc(e){if(!e)return Ta;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ra(r))return Da(e,r,t)}return t}function Fc(e,t,r,n,a,s,i,o,l){return(e=Mc(r,n,!0,e,0,s,0,o,l)).context=Uc(null),r=e.current,(s=Bs(n=Zl(),a=ec(r))).callback=void 0!==t&&null!==t?t:null,Ms(r,s,a),e.current.lanes=a,yt(e,a,n),rc(e,n),e}function qc(e,t,r,n){var a=t.current,s=Zl(),i=ec(a);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Bs(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ms(a,t,i))&&(tc(e,a,i,s),Us(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)bo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bo=!1,function(e,t,r){switch(t.tag){case 3:Co(t),fs();break;case 5:Ys(t);break;case 1:Ra(t.type)&&za(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ea(ks,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ea(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?zo(e,t,r):(Ea(Zs,1&Zs.current),null!==(e=Wo(e,t,r))?e.sibling:null);Ea(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Fo(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,So(e,t,r)}return Wo(e,t,r)}(e,t,r);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qo(e,t),e=t.pendingProps;var a=Pa(t,Na.current);Cs(t,r),a=mi(null,t,n,e,a,r);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(n)?(i=!0,za(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,zs(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,r),t=No(null,t,n,!0,i,r)):(t.tag=0,as&&i&&es(t),wo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(n),e=to(n,e),a){case 0:t=Eo(null,t,n,e,r);break e;case 1:t=To(null,t,n,e,r);break e;case 11:t=xo(null,t,n,e,r);break e;case 14:t=ko(null,t,n,to(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Eo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 1:return n=t.type,a=t.pendingProps,To(e,t,n,a=t.elementType===n?a:to(n,a),r);case 3:e:{if(Co(t),null===e)throw Error(s(387));n=t.pendingProps,a=(i=t.memoizedState).element,Ls(e,t),qs(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,n,r,a=lo(Error(s(423)),t));break e}if(n!==a){t=Oo(e,t,n,r,a=lo(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=xs(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===a){t=Wo(e,t,r);break e}wo(e,t,n,r)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ra(n,a)?o=null:null!==i&&ra(n,i)&&(t.flags|=32),_o(e,t),wo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return zo(e,t,r);case 4:return Qs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ws(t,null,n,r):wo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,xo(e,t,n,a=t.elementType===n?a:to(n,a),r);case 7:return wo(e,t,t.pendingProps,r),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ea(ks,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===a.children&&!Ca.current){t=Wo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Bs(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ns(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ns(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Cs(t,r),n=n(a=Os(a)),t.flags|=1,wo(e,t,n,r),t.child;case 14:return a=to(n=t.type,t.pendingProps),ko(e,t,n,a=to(n.type,a),r);case 15:return jo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),qo(e,t),t.tag=1,Ra(n)?(e=!0,za(t)):e=!1,Cs(t,r),so(t,n,a),oo(t,n,a,r),No(null,t,n,!0,e,r);case 19:return Fo(e,t,r);case 22:return So(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Xc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}qc(t,i,e,a)}else i=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Wc(i);s.call(e)}}var i=Fc(t,n,e,0,null,!1,0,"",Yc);return e._reactRootContainer=i,e[pa]=i.current,qn(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=l,e[pa]=l.current,qn(8===e.nodeType?e.parentNode:e),cc(function(){qc(t,l,r,n)}),l}(r,t,e,a,n);return Wc(i)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){qc(null,e,null,null)}),t[pa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<At.length&&0!==t&&t<At[r].priority;r++);At.splice(r,0,e),0===r&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(vt(t,1|r),rc(t,Ye()),0===(6&Tl)&&(Fl=Ye()+500,qa()))}break;case 13:cc(function(){var t=Is(e,1);if(null!==t){var r=Zl();tc(t,e,1,r)}}),Vc(e,1)}},kt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=ec(e),r=Is(e,t);if(null!==r)tc(r,e,t,Zl());Vc(e,t)}},St=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},ke=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=xa(n);if(!a)throw Error(s(90));G(n),X(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ne=lc,Ce=cc;var Zc={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ee,Te,lc]},eu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(tu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,qn(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,r){if(!$c(t))throw Error(s(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,i="",o=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Fc(t,null,e,1,null!=r?r:null,a,0,i,o),e[pa]=t.current,qn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jc(t)},t.render=function(e,t,r){if(!$c(t))throw Error(s(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$c(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},742(e){e.exports={L:1,M:0,Q:3,H:2}},813(e){function t(){this.buffer=new Array,this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},853(e,t,r){"use strict";e.exports=r(234)},898(e,t,r){var n=r(957),a=r(392),s=r(460),i=0,o=1,l=2,c=3,u=4,d=5,h=6,f=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case i:return(t+r)%2==0;case o:return t%2==0;case l:return r%3==0;case c:return(t+r)%3==0;case u:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case d:return t*r%2+t*r%3==0;case h:return(t*r%2+t*r%3)%2==0;case f:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new a([1],0),r=0;r<e;r++)t=t.multiply(new a([1,s.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var a=0;a<t;a++){for(var s=0,i=e.isDark(n,a),o=-1;o<=1;o++)if(!(n+o<0||t<=n+o))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==o&&0==l||i==e.isDark(n+o,a+l)&&s++;s>5&&(r+=3+s-5)}for(n=0;n<t-1;n++)for(a=0;a<t-1;a++){var c=0;e.isDark(n,a)&&c++,e.isDark(n+1,a)&&c++,e.isDark(n,a+1)&&c++,e.isDark(n+1,a+1)&&c++,0!=c&&4!=c||(r+=3)}for(n=0;n<t;n++)for(a=0;a<t-6;a++)e.isDark(n,a)&&!e.isDark(n,a+1)&&e.isDark(n,a+2)&&e.isDark(n,a+3)&&e.isDark(n,a+4)&&!e.isDark(n,a+5)&&e.isDark(n,a+6)&&(r+=40);for(a=0;a<t;a++)for(n=0;n<t-6;n++)e.isDark(n,a)&&!e.isDark(n+1,a)&&e.isDark(n+2,a)&&e.isDark(n+3,a)&&e.isDark(n+4,a)&&!e.isDark(n+5,a)&&e.isDark(n+6,a)&&(r+=40);var u=0;for(a=0;a<t;a++)for(n=0;n<t;n++)e.isDark(n,a)&&u++;return r+=10*(Math.abs(100*u/t/t-50)/5)}};e.exports=p},950(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},957(e){e.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(s,i),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Jt,navigator:()=>Kt,origin:()=>Qt});var t,n=r(43),a=r.t(n,2),s=r(391),i=r(950),o=r.t(i,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,r,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,d=t.Pop,m=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){d=t.Pop;let e=y(),r=null==e?null:e-g;g=e,m&&m({action:d,location:w.location,delta:r})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:p(e);return r=r.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let w={get action(){return d},get location(){return e(s,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),m=e,()=>{s.removeEventListener(c,v),m=null}},createHref:e=>r(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){d=t.Push;let a=f(w.location,e,r);n&&n(a,e),g=y()+1;let l=h(a,g),c=w.createHref(a);try{o.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}i&&m&&m({action:d,location:w.location,delta:1})},replace:function(e,r){d=t.Replace;let a=f(w.location,e,r);n&&n(a,e),g=y();let s=h(a,g),l=w.createHref(a);o.replaceState(s,"",l),i&&m&&m({action:d,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),b(e,t,r,!1)}function b(e,t,r,n){let a=A(("string"===typeof t?m(t):t).pathname||"/",r);if(null==a)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=R(a);i=O(s[o],e,n)}return i}function w(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=F([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of x(e.path))a(e,t,n);else a(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=x(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,j=3,S=2,_=1,E=10,T=-2,N=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(N)&&(n+=T),t&&(n+=S),r.filter(e=>!N(e)).reduce((e,t)=>e+(k.test(t)?j:""===t?_:E),n)}function O(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:F([s,u.pathname]),pathnameBase:q(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}const I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D(e,t){void 0===t&&(t="/");let r,{pathname:n,search:a="",hash:s=""}="string"===typeof e?m(e):e;if(n)if(i=n,I.test(i))r=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),d(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}r=n.startsWith("/")?z(n.substring(1),"/"):z(n,t)}else r=t;var i;return{pathname:r,search:W(a),hash:H(s)}}function z(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function L(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let r=B(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function U(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=m(e):(a=l({},e),u(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=D(a,s),d=o&&"/"!==o&&o.endsWith("/"),h=(i||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],G=(new Set(K),["get",...K]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}const Q=n.createContext(null);const $=n.createContext(null);const Y=n.createContext(null);const X=n.createContext(null);const Z=n.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=n.createContext(null);function te(){return null!=n.useContext(X)}function re(){return te()||u(!1),n.useContext(X).location}function ne(e){n.useContext(Y).static||n.useLayoutEffect(e)}function ae(){let{isDataRoute:e}=n.useContext(Z);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=ye(pe.UseNavigateStable),r=n.useRef(!1);return ne(()=>{r.current=!0}),n.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,J({fromRouteId:t},a)))},[e,t])}():function(){te()||u(!1);let e=n.useContext(Q),{basename:t,future:r,navigator:a}=n.useContext(Y),{matches:s}=n.useContext(Z),{pathname:i}=re(),o=JSON.stringify(M(s,r.v7_relativeSplatPath)),l=n.useRef(!1);return ne(()=>{l.current=!0}),n.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void a.go(r);let s=U(r,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[t,a,o,i,e])}()}function se(){let{matches:e}=n.useContext(Z),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=n.useContext(Y),{matches:s}=n.useContext(Z),{pathname:i}=re(),o=JSON.stringify(M(s,a.v7_relativeSplatPath));return n.useMemo(()=>U(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function oe(e,r,a,s){te()||u(!1);let{navigator:i}=n.useContext(Y),{matches:o}=n.useContext(Z),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=re();if(r){var p;let e="string"===typeof r?m(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let w=he(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,a,s);return r&&w?n.createElement(X.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},w):w}function le(){let e=function(){var e;let t=n.useContext(ee),r=ge(pe.UseRouteError),a=ye(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:s},r):null,null)}const ce=n.createElement(le,null);class ue extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Z.Provider,{value:this.props.routeContext},n.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:a}=e,s=n.useContext(Q);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(Z.Provider,{value:t},a)}function he(e,t,r,a){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===a&&(a=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let i,u=!1,h=null,f=null;var p;r&&(i=l&&a.route.id?l[a.route.id]:void 0,h=a.route.errorElement||ce,c&&(d<0&&0===s?(p="route-fallback",!1||ve[p]||(ve[p]=!0),u=!0,f=null):d===s&&(u=!0,f=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?h:u?f:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(de,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?n.createElement(ue,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function me(e){let t=n.useContext(Q);return t||u(!1),t}function ge(e){let t=n.useContext($);return t||u(!1),t}function ye(e){let t=function(){let e=n.useContext(Z);return e||u(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||u(!1),r.route.id}const ve={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function we(e){let{to:t,replace:r,state:a,relative:s}=e;te()||u(!1);let{future:i,static:o}=n.useContext(Y),{matches:l}=n.useContext(Z),{pathname:c}=re(),d=ae(),h=U(t,M(l,i.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(h);return n.useEffect(()=>d(JSON.parse(f),{replace:r,state:a,relative:s}),[d,f,s,r,a]),null}function xe(e){u(!1)}function ke(e){let{basename:r="/",children:a=null,location:s,navigationType:i=t.Pop,navigator:o,static:l=!1,future:c}=e;te()&&u(!1);let d=r.replace(/^\/*/,"/"),h=n.useMemo(()=>({basename:d,navigator:o,static:l,future:J({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=n.useMemo(()=>{let e=A(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:i}},[d,f,p,g,y,v,i]);return null==b?null:n.createElement(Y.Provider,{value:h},n.createElement(X.Provider,{children:a,value:b}))}function je(e){let{children:t,location:r}=e;return oe(Se(t),r)}new Promise(()=>{});n.Component;function Se(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let s=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,Se(e.props.children,s));e.type!==xe&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,s)),r.push(i)}),r}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Te=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Gl){}new Map;const Ne=a.startTransition;o.flushSync,a.useId;function Ce(e){let{basename:t,children:r,future:a,window:s}=e,i=n.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return f("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=i.current,[c,u]=n.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},h=n.useCallback(e=>{d&&Ne?Ne(()=>u(e)):u(e)},[u,d]);return n.useLayoutEffect(()=>l.listen(h),[l,h]),n.useEffect(()=>be(a),[a]),n.createElement(ke,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:a})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=n.forwardRef(function(e,t){let r,{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=Ee(e,Te),{basename:g}=n.useContext(Y),y=!1;if("string"===typeof d&&Pe.test(d)&&(r=d,Oe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=A(t.pathname,g);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:y=!0}catch(Gl){}let v=function(e,t){let{relative:r}=void 0===t?{}:t;te()||u(!1);let{basename:a,navigator:s}=n.useContext(Y),{hash:i,pathname:o,search:l}=ie(e,{relative:r}),c=o;return"/"!==a&&(c="/"===o?a:F([a,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),b=function(e,t){let{target:r,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ae(),u=re(),d=ie(e,{relative:o});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==a?a:p(u)===p(d);c(e,{replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,a,s,r,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});return n.createElement("a",_e({},m,{href:r||v,onClick:y||i?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ae,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));function De(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Le}=Object,{iterator:Be,toStringTag:Me}=Symbol,Ue=(Fe=Object.create(null),e=>{const t=ze.call(e);return Fe[t]||(Fe[t]=t.slice(8,-1).toLowerCase())});var Fe;const qe=e=>(e=e.toLowerCase(),t=>Ue(t)===e),We=e=>t=>typeof t===e,{isArray:He}=Array,Ve=We("undefined");function Ke(e){return null!==e&&!Ve(e)&&null!==e.constructor&&!Ve(e.constructor)&&Qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ge=qe("ArrayBuffer");const Je=We("string"),Qe=We("function"),$e=We("number"),Ye=e=>null!==e&&"object"===typeof e,Xe=e=>{if("object"!==Ue(e))return!1;const t=Le(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Me in e)&&!(Be in e)},Ze=qe("Date"),et=qe("File"),tt=qe("Blob"),rt=qe("FileList"),nt=qe("URLSearchParams"),[at,st,it,ot]=["ReadableStream","Request","Response","Headers"].map(qe);function lt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),He(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Ke(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(r=0;r<s;r++)i=n[r],t.call(null,e[i],i,e)}}function ct(e,t){if(Ke(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,dt=e=>!Ve(e)&&e!==ut;const ht=(ft="undefined"!==typeof Uint8Array&&Le(Uint8Array),e=>ft&&e instanceof ft);var ft;const pt=qe("HTMLFormElement"),mt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),gt=qe("RegExp"),yt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};lt(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)};const vt=qe("AsyncFunction"),bt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ut.addEventListener("message",e=>{let{source:t,data:a}=e;t===ut&&a===r&&n.length&&n.shift()()},!1),e=>{n.push(e),ut.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Qe(ut.postMessage)),wt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ut):"undefined"!==typeof process&&process.nextTick||bt,xt={isArray:He,isArrayBuffer:Ge,isBuffer:Ke,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qe(e.append)&&("formdata"===(t=Ue(e))||"object"===t&&Qe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ge(e.buffer),t},isString:Je,isNumber:$e,isBoolean:e=>!0===e||!1===e,isObject:Ye,isPlainObject:Xe,isEmptyObject:e=>{if(!Ye(e)||Ke(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Gl){return!1}},isReadableStream:at,isRequest:st,isResponse:it,isHeaders:ot,isUndefined:Ve,isDate:Ze,isFile:et,isBlob:tt,isRegExp:gt,isFunction:Qe,isStream:e=>Ye(e)&&Qe(e.pipe),isURLSearchParams:nt,isTypedArray:ht,isFileList:rt,forEach:lt,merge:function e(){const{caseless:t,skipUndefined:r}=dt(this)&&this||{},n={},a=(a,s)=>{const i=t&&ct(n,s)||s;Xe(n[i])&&Xe(a)?n[i]=e(n[i],a):Xe(a)?n[i]=e({},a):He(a)?n[i]=a.slice():r&&Ve(a)||(n[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&lt(arguments[s],a);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return lt(t,(t,n)=>{r&&Qe(t)?e[n]=De(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&Le(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ue,kindOfTest:qe,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(He(e))return e;let t=e.length;if(!$e(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Be]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:pt,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:yt,freezeMethods:e=>{yt(e,(t,r)=>{if(Qe(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Qe(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return He(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ct,global:ut,isContextDefined:dt,isSpecCompliantForm:function(e){return!!(e&&Qe(e.append)&&"FormData"===e[Me]&&e[Be])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Ye(e)){if(t.indexOf(e)>=0)return;if(Ke(e))return e;if(!("toJSON"in e)){t[n]=e;const a=He(e)?[]:{};return lt(e,(e,t)=>{const s=r(e,n+1);!Ve(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:vt,isThenable:e=>e&&(Ye(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),setImmediate:bt,asap:wt,isIterable:e=>null!=e&&Qe(e[Be])};function kt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}xt.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xt.toJSONObject(this.config),code:this.code,status:this.status}}});const jt=kt.prototype,St={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{St[e]={value:e}}),Object.defineProperties(kt,St),Object.defineProperty(jt,"isAxiosError",{value:!0}),kt.from=(e,t,r,n,a,s)=>{const i=Object.create(jt);xt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return kt.call(i,o,l,r,n,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const _t=kt;function Et(e){return xt.isPlainObject(e)||xt.isArray(e)}function Tt(e){return xt.endsWith(e,"[]")?e.slice(0,-2):e}function Nt(e,t,r){return e?e.concat(t).map(function(e,t){return e=Tt(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Ct=xt.toFlatObject(xt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ot=function(e,t,r){if(!xt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=xt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!xt.isUndefined(t[e])})).metaTokens,a=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&xt.isSpecCompliantForm(t);if(!xt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(xt.isDate(e))return e.toISOString();if(xt.isBoolean(e))return e.toString();if(!o&&xt.isBlob(e))throw new _t("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(e)||xt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let o=e;if(e&&!a&&"object"===typeof e)if(xt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(xt.isArray(e)&&function(e){return xt.isArray(e)&&!e.some(Et)}(e)||(xt.isFileList(e)||xt.endsWith(r,"[]"))&&(o=xt.toArray(e)))return r=Tt(r),o.forEach(function(e,n){!xt.isUndefined(e)&&null!==e&&t.append(!0===i?Nt([r],n,s):null===i?r:r+"[]",l(e))}),!1;return!!Et(e)||(t.append(Nt(a,r,s),l(e)),!1)}const u=[],d=Object.assign(Ct,{defaultVisitor:c,convertValue:l,isVisitable:Et});if(!xt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!xt.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),xt.forEach(r,function(r,s){!0===(!(xt.isUndefined(r)||null===r)&&a.call(t,r,xt.isString(s)?s.trim():s,n,d))&&e(r,n?n.concat(s):[s])}),u.pop()}}(e),t};function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Rt(e,t){this._pairs=[],e&&Ot(e,this,t)}const At=Rt.prototype;At.append=function(e,t){this._pairs.push([e,t])},At.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const It=Rt;function Dt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zt(e,t,r){if(!t)return e;const n=r&&r.encode||Dt;xt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):xt.isURLSearchParams(t)?t.toString():new It(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Lt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Ut(e){var t=function(e,t){if("object"!=Mt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mt(t)?t:t+""}function Ft(e,t,r){return(t=Ut(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach(function(t){Ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ht={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:It,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt="undefined"!==typeof window&&"undefined"!==typeof document,Kt="object"===typeof navigator&&navigator||void 0,Gt=Vt&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),Jt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Qt=Vt&&window.location.href||"http://localhost",$t=Wt(Wt({},e),Ht);const Yt=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&xt.isArray(n)?n.length:s,o)return xt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!i;n[s]&&xt.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&xt.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!i}if(xt.isFormData(e)&&xt.isFunction(e.entries)){const r={};return xt.forEachEntry(e,(e,n)=>{t(function(e){return xt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Xt={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=xt.isObject(e);a&&xt.isHTMLForm(e)&&(e=new FormData(e));if(xt.isFormData(e))return n?JSON.stringify(Yt(e)):e;if(xt.isArrayBuffer(e)||xt.isBuffer(e)||xt.isStream(e)||xt.isFile(e)||xt.isBlob(e)||xt.isReadableStream(e))return e;if(xt.isArrayBufferView(e))return e.buffer;if(xt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ot(e,new $t.classes.URLSearchParams,Wt({visitor:function(e,t,r,n){return $t.isNode&&xt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=xt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ot(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(xt.isString(e))try{return(t||JSON.parse)(e),xt.trim(e)}catch(Gl){if("SyntaxError"!==Gl.name)throw Gl}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Xt.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(xt.isResponse(e)||xt.isReadableStream(e))return e;if(e&&xt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(Gl){if(r){if("SyntaxError"===Gl.name)throw _t.from(Gl,_t.ERR_BAD_RESPONSE,this,null,this.response);throw Gl}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xt.forEach(["delete","get","head","post","put","patch"],e=>{Xt.headers[e]={}});const Zt=Xt,er=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tr=Symbol("internals");function rr(e){return e&&String(e).trim().toLowerCase()}function nr(e){return!1===e||null==e?e:xt.isArray(e)?e.map(nr):String(e)}function ar(e,t,r,n,a){return xt.isFunction(n)?n.call(this,t,r):(a&&(t=r),xt.isString(t)?xt.isString(n)?-1!==t.indexOf(n):xt.isRegExp(n)?n.test(t):void 0:void 0)}class sr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=rr(t);if(!a)throw new Error("header name must be a non-empty string");const s=xt.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=nr(e))}const s=(e,t)=>xt.forEach(e,(e,r)=>a(e,r,t));if(xt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(xt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&er[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(xt.isObject(e)&&xt.isIterable(e)){let r,n,a={};for(const t of e){if(!xt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?xt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=rr(e)){const r=xt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(xt.isFunction(t))return t.call(this,e,r);if(xt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rr(e)){const r=xt.findKey(this,e);return!(!r||void 0===this[r]||t&&!ar(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=rr(e)){const a=xt.findKey(r,e);!a||t&&!ar(0,r[a],a,t)||(delete r[a],n=!0)}}return xt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!ar(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return xt.forEach(this,(n,a)=>{const s=xt.findKey(r,a);if(s)return t[s]=nr(n),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();i!==a&&delete t[a],t[i]=nr(n),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return xt.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&xt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[tr]=this[tr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=rr(e);t[n]||(!function(e,t){const r=xt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return xt.isArray(e)?e.forEach(n):n(e),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xt.reduceDescriptors(sr.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),xt.freezeMethods(sr);const ir=sr;function or(e,t){const r=this||Zt,n=t||r,a=ir.from(n.headers);let s=n.data;return xt.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function lr(e){return!(!e||!e.__CANCEL__)}function cr(e,t,r){_t.call(this,null==e?"canceled":e,_t.ERR_CANCELED,t,r),this.name="CanceledError"}xt.inherits(cr,_t,{__CANCEL__:!0});const ur=cr;function dr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new _t("Request failed with status code "+r.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const hr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];a||(a=l),r[s]=o,n[s]=l;let u=i,d=0;for(;u!==s;)d+=r[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const fr=function(e,t){let r,n,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,n||(n=setTimeout(()=>{n=null,i(r)},s-t)))},()=>r&&i(r)]},pr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=hr(50,250);return fr(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-n,l=a(o);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},mr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},gr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xt.asap(()=>e(...r))},yr=$t.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$t.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,vr=$t.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];xt.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),xt.isString(n)&&o.push("path=".concat(n)),xt.isString(a)&&o.push("domain=".concat(a)),!0===s&&o.push("secure"),xt.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function br(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const wr=e=>e instanceof ir?Wt({},e):e;function xr(e,t){t=t||{};const r={};function n(e,t,r,n){return xt.isPlainObject(e)&&xt.isPlainObject(t)?xt.merge.call({caseless:n},e,t):xt.isPlainObject(t)?xt.merge({},t):xt.isArray(t)?t.slice():t}function a(e,t,r,a){return xt.isUndefined(t)?xt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!xt.isUndefined(t))return n(void 0,t)}function i(e,t){return xt.isUndefined(t)?xt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>a(wr(e),wr(t),0,!0)};return xt.forEach(Object.keys(Wt(Wt({},e),t)),function(n){const s=l[n]||a,i=s(e[n],t[n],n);xt.isUndefined(i)&&s!==o||(r[n]=i)}),r}const kr=e=>{const t=xr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=ir.from(i),t.url=zt(br(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),xt.isFormData(r))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(xt.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&i.set(r,n)})}if($t.hasStandardBrowserEnv&&(n&&xt.isFunction(n)&&(n=n(t)),n||!1!==n&&yr(t.url))){const e=a&&s&&vr.read(s);e&&i.set(a,e)}return t},jr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=kr(e);let a=n.data;const s=ir.from(n.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=ir.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());dr(function(e){t(e),p()},function(e){r(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new _t("Request aborted",_t.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const n=t&&t.message?t.message:"Network Error",a=new _t(n,_t.ERR_NETWORK,e,m);a.event=t||null,r(a),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Bt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new _t(t,a.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,m)),m=null},void 0===a&&s.setContentType(null),"setRequestHeader"in m&&xt.forEach(s.toJSON(),function(e,t){m.setRequestHeader(t,e)}),xt.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),d&&"json"!==d&&(m.responseType=n.responseType),f&&([l,u]=pr(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=pr(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{m&&(r(!t||t.type?new ur(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===$t.protocols.indexOf(y)?r(new _t("Unsupported protocol "+y+":",_t.ERR_BAD_REQUEST,e)):m.send(a||null)})},Sr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof _t?t:new ur(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new _t("timeout ".concat(t," of ms exceeded"),_t.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=n;return o.unsubscribe=()=>xt.asap(i),o}};function _r(e,t){this.v=e,this.k=t}function Er(e){return function(){return new Tr(e.apply(this,arguments))}}function Tr(e){var t,r;function n(t,r){try{var s=e[t](r),i=s.value,o=i instanceof _r;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}a(s.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Nr(e){return new _r(e,0)}function Cr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new _r(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Or(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Pr(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Pr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Pr=function(e){this.s=e,this.n=e.next},Pr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Pr(e)}Tr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Tr.prototype.next=function(e){return this._invoke("next",e)},Tr.prototype.throw=function(e){return this._invoke("throw",e)},Tr.prototype.return=function(e){return this._invoke("return",e)};const Rr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Ar=function(){var e=Er(function*(e,t){var r,n=!1,a=!1;try{for(var s,i=Or(Ir(e));n=!(s=yield Nr(i.next())).done;n=!1){const e=s.value;yield*Cr(Or(Rr(e,t)))}}catch(o){a=!0,r=o}finally{try{n&&null!=i.return&&(yield Nr(i.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Ir=function(){var e=Er(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cr(Or(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Nr(t.read());if(e)break;yield r}}finally{yield Nr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Dr=(e,t,r,n)=>{const a=Ar(e,t);let s,i=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let s=n.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:zr}=xt,Lr=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(xt.global),{ReadableStream:Br,TextEncoder:Mr}=xt.global,Ur=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Gl){return!1}},Fr=e=>{e=xt.merge.call({skipUndefined:!0},Lr,e);const{fetch:t,Request:r,Response:n}=e,a=t?zr(t):"function"===typeof fetch,s=zr(r),i=zr(n);if(!a)return!1;const o=a&&zr(Br),l=a&&("function"===typeof Mr?(c=new Mr,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const u=s&&o&&Ur(()=>{let e=!1;const t=new r($t.origin,{body:new Br,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&o&&Ur(()=>xt.isReadableStream(new n("").body)),h={stream:d&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new _t("Response type '".concat(e,"' is not supported"),_t.ERR_NOT_SUPPORT,r)})});const f=async(e,t)=>{const n=xt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(xt.isBlob(e))return e.size;if(xt.isSpecCompliantForm(e)){const t=new r($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return xt.isArrayBufferView(e)||xt.isArrayBuffer(e)?e.byteLength:(xt.isURLSearchParams(e)&&(e+=""),xt.isString(e)?(await l(e)).byteLength:void 0)})(t):n};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=kr(e),x=t||fetch;y=y?(y+"").toLowerCase():"text";let k=Sr([l,c&&c.toAbortSignal()],p),j=null;const S=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let _;try{if(g&&u&&"get"!==i&&"head"!==i&&0!==(_=await f(v,o))){let e,t=new r(a,{method:"POST",body:o,duplex:"half"});if(xt.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,r]=mr(_,pr(gr(g)));o=Dr(t.body,65536,e,r)}}xt.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in r.prototype,l=Wt(Wt({},w),{},{signal:k,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});j=s&&new r(a,l);let c=await(s?x(j,w):x(a,l));const p=d&&("stream"===y||"response"===y);if(d&&(m||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=xt.toFiniteNumber(c.headers.get("content-length")),[r,a]=m&&mr(t,pr(gr(m),!0))||[];c=new n(Dr(c.body,65536,r,()=>{a&&a(),S&&S()}),e)}y=y||"text";let E=await h[xt.findKey(h,y)||"text"](c,e);return!p&&S&&S(),await new Promise((t,r)=>{dr(t,r,{data:E,headers:ir.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:j})})}catch(E){if(S&&S(),E&&"TypeError"===E.name&&/Load failed|fetch/i.test(E.message))throw Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,j),{cause:E.cause||E});throw _t.from(E,E&&E.code,e,j)}}},qr=new Map,Wr=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i,o,l=s.length,c=qr;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:Fr(t)),c=o;return o},Hr=(Wr(),{http:null,xhr:jr,fetch:{get:Wr}});xt.forEach(Hr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Gl){}Object.defineProperty(e,"adapterName",{value:t})}});const Vr=e=>"- ".concat(e),Kr=e=>xt.isFunction(e)||null===e||!1===e;const Gr={getAdapter:function(e,t){e=xt.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){let r;if(n=e[i],a=n,!Kr(n)&&(a=Hr[(r=String(n)).toLowerCase()],void 0===a))throw new _t("Unknown adapter '".concat(r,"'"));if(a&&(xt.isFunction(a)||(a=a.get(t))))break;s[r||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Vr).join("\n"):" "+Vr(e[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:Hr};function Jr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ur(null,e)}function Qr(e){Jr(e),e.headers=ir.from(e.headers),e.data=or.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gr.getAdapter(e.adapter||Zt.adapter,e)(e).then(function(t){return Jr(e),t.data=or.call(e,e.transformResponse,t),t.headers=ir.from(t.headers),t},function(t){return lr(t)||(Jr(e),t&&t.response&&(t.response.data=or.call(e,e.transformResponse,t.response),t.response.headers=ir.from(t.response.headers))),Promise.reject(t)})}const $r="1.13.2",Yr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xr={};Yr.transitional=function(e,t,r){function n(e,t){return"[Axios v"+$r+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new _t(n(a," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!Xr[a]&&(Xr[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Yr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const Zr={assertOptions:function(e,t,r){if("object"!==typeof e)throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new _t("option "+s+" must be "+r,_t.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}},validators:Yr},en=Zr.validators;class tn{constructor(e){this.defaults=e||{},this.interceptors={request:new Lt,response:new Lt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Gl){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=xr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&Zr.assertOptions(r,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),null!=n&&(xt.isFunction(n)?t.paramsSerializer={serialize:n}:Zr.assertOptions(n,{encode:en.function,serialize:en.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zr.assertOptions(t,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&xt.merge(a.common,a[t.method]);a&&xt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=ir.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[Qr.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Qr.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return zt(br((e=xr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}xt.forEach(["delete","get","head","options"],function(e){tn.prototype[e]=function(t,r){return this.request(xr(r||{},{method:e,url:t,data:(r||{}).data}))}}),xt.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(xr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}tn.prototype[e]=t(),tn.prototype[e+"Form"]=t(!0)});const rn=tn;class nn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new ur(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nn(function(t){e=t}),cancel:e}}}const an=nn;const sn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sn).forEach(e=>{let[t,r]=e;sn[r]=t});const on=sn;const ln=function e(t){const r=new rn(t),n=De(rn.prototype.request,r);return xt.extend(n,rn.prototype,r,{allOwnKeys:!0}),xt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(xr(t,r))},n}(Zt);ln.Axios=rn,ln.CanceledError=ur,ln.CancelToken=an,ln.isCancel=lr,ln.VERSION=$r,ln.toFormData=Ot,ln.AxiosError=_t,ln.Cancel=ln.CanceledError,ln.all=function(e){return Promise.all(e)},ln.spread=function(e){return function(t){return e.apply(null,t)}},ln.isAxiosError=function(e){return xt.isObject(e)&&!0===e.isAxiosError},ln.mergeConfig=xr,ln.AxiosHeaders=ir,ln.formToJSON=e=>Yt(xt.isHTMLForm(e)?new FormData(e):e),ln.getAdapter=Gr.getAdapter,ln.HttpStatusCode=on,ln.default=ln;const cn=ln;var un=r(579);const dn=(0,n.createContext)(),hn=()=>{const e=(0,n.useContext)(dn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},fn=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(a(JSON.parse(t)),cn.defaults.headers.common.Authorization="Bearer ".concat(e)),i(!1)},[]);const o={user:r,login:async(e,t)=>{try{const r=await cn.post("/api/auth/login",{username:e,password:t}),{token:n,user:s}=r.data;return localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),cn.defaults.headers.common.Authorization="Bearer ".concat(n),a(s),{success:!0}}catch(s){var r,n;return{success:!1,error:(null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Login failed"}}},register:async e=>{try{const t=await cn.post("/api/auth/register",e),{token:r,user:n}=t.data;return localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(n)),cn.defaults.headers.common.Authorization="Bearer ".concat(r),a(n),{success:!0}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Registration failed"}}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),delete cn.defaults.headers.common.Authorization,a(null)},loading:s};return(0,un.jsx)(dn.Provider,{value:o,children:!s&&t})},pn=(0,n.createContext)(),mn=()=>{const e=(0,n.useContext)(pn);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},gn=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(()=>{const e=localStorage.getItem("agrisync-theme");return!!e&&JSON.parse(e)});(0,n.useEffect)(()=>{localStorage.setItem("agrisync-theme",JSON.stringify(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]);const s={isDark:r,toggleTheme:()=>{a(!r)},theme:r?"dark":"light"};return(0,un.jsx)(pn.Provider,{value:s,children:t})},yn={en:{nav:{home:"Home",dashboard:"Dashboard",marketplace:"Marketplace",orders:"Orders",analytics:"Analytics",settings:"Settings",newBatch:"New Batch",login:"Login",register:"Register",logout:"Logout"},home:{title:"Farm to Table Traceability",subtitle:"Empower small producers with digital supply chain transparency through QR-based traceability and AI-powered insights",getStarted:"Get Started Free",goToDashboard:"Go to Dashboard",whyChoose:"Why Choose AgriSync?",howItWorks:"How It Works",readyToTransform:"Ready to Transform Your Supply Chain?",joinThousands:"Join thousands of producers building trust and accessing premium markets",startFree:"Start Free Today"},features:{qrTraceability:"QR Code Traceability",qrDesc:"Generate unique QR codes for each batch. Buyers can instantly verify product origin and journey.",trustTransparency:"Trust & Transparency",trustDesc:"Build trust with buyers through transparent supply chain records and certification tracking.",mobileFriendly:"AI-Powered Mobile",mobileDesc:"Works on any device with offline support, AI chat assistance for rural areas.",premiumMarkets:"Premium Markets",premiumDesc:"Access premium markets by proving ethical practices and sustainable farming methods.",smallProducers:"Built for Small Producers",smallDesc:"Designed specifically for smallholder farmers with AI guidance and minimal tech literacy.",globalStandards:"Global Standards",globalDesc:"Supports international certification standards and compliance requirements."},steps:{step1:"Create & Track",step1Desc:"Register your harvest with AI-assisted data entry.",step2:"Smart Events",step2Desc:"Log processing steps with photo recognition and GPS tracking.",step3:"Verify & Trust",step3Desc:"Buyers scan QR codes for instant verification with trust scores."},dashboard:{welcome:"Welcome back",manageBatches:"Manage your batches and track your supply chain",totalBatches:"Total Batches",qrScans:"QR Scans",recentHarvests:"Recent Harvests",yourBatches:"Your Batches",noBatches:"No batches yet",createFirst:"Create your first batch to start tracking your products",createFirstBatch:"Create First Batch",viewDetails:"View Details",created:"Created",createNewBatch:"Create New Batch"},batch:{createNew:"Create New Batch",registerNew:"Register a new product batch with AI-powered traceability",productName:"Product Name",productType:"Product Type",quantity:"Quantity",unit:"Unit",harvestDate:"Harvest Date",location:"Location",description:"Description",photo:"Product Photo (Optional)",cancel:"Cancel",create:"Create Batch",success:"Batch created successfully!",selectType:"Select type",fruits:"Fruits",vegetables:"Vegetables",grains:"Grains",herbs:"Herbs",dairy:"Dairy",meat:"Meat",processedFood:"Processed Food",other:"Other",aiEnhanced:"AI-Enhanced Batch Creation"},marketplace:{title:"B2B Marketplace",subtitle:"Connect directly with verified producers. All products are traceable and quality-assured.",searchPlaceholder:"Search products or producers...",allCategories:"All Categories",featured:"Featured Products",allProducts:"All Products",addToCart:"Add to Cart",available:"available",trust:"Trust",noProducts:"No products found",adjustSearch:"Try adjusting your search or filters",emptyMarketplace:"No products in marketplace yet",emptyMarketplaceDesc:"Be the first to list your products! Create a batch from your dashboard.",goToDashboard:"Go to Dashboard",sortNewest:"Newest First",sortPriceLow:"Price: Low to High",sortPriceHigh:"Price: High to Low",sortRating:"Highest Rated",sortTrust:"Trust Score",reviews:"reviews",by:"by"},orders:{title:"Order Management",subtitle:"Track and manage your B2B orders from buyers",totalOrders:"Total Orders",completedRevenue:"Completed Revenue",pendingRevenue:"Pending Revenue",fulfillmentRate:"Fulfillment Rate",allOrders:"All Orders",pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",viewDetails:"View Details",contactBuyer:"Contact Buyer",invoice:"Invoice",noOrders:"No orders found",products:"Products",ordered:"Ordered",tracking:"Tracking",estDelivery:"Est. Delivery",createOrder:"Create Order",createFirstOrder:"Create your first order to start tracking sales",buyerName:"Buyer Name",addProduct:"Add Product",selectProduct:"Select Product",notes:"Notes"},analytics:{title:"Analytics Dashboard",subtitle:"Track your supply chain performance and buyer engagement",totalScans:"Total QR Scans",activeBatches:"Active Batches",avgTrustScore:"Avg Trust Score",estRevenue:"Est. Revenue",uniqueBuyers:"Unique Buyers",premiumRate:"Premium Rate",scansThisWeek:"QR Scans This Week",topProducts:"Top Performing Products",geoDistribution:"Geographic Distribution",deviceBreakdown:"Device Breakdown",recentActivity:"Recent Activity",scans:"scans",last7Days:"Last 7 days",last30Days:"Last 30 days",last90Days:"Last 90 days",lastYear:"Last year",qrScan:"QR Scan",newOrder:"New Order",verification:"Verification",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun",northIndia:"North India",southIndia:"South India",westIndia:"West India",eastIndia:"East India",others:"Others",mobile:"Mobile",desktop:"Desktop",tablet:"Tablet"},settings:{title:"Settings",subtitle:"Manage your account settings and preferences",profile:"Profile",notifications:"Notifications",security:"Security",appearance:"Appearance",billing:"Billing",apiKeys:"API Keys",profileSettings:"Profile Settings",changePhoto:"Change Photo",username:"Username",email:"Email",organization:"Organization",phone:"Phone",bio:"Bio",website:"Website",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",language:"Language",saveChanges:"Save Changes",saved:"Saved!",currentPlan:"Current Plan",paymentMethod:"Payment Method",twoFactor:"Two-Factor Authentication",loginAlerts:"Login Alerts",changePassword:"Change Password",photoHint:"JPG, PNG or GIF. Max 2MB.",cityCountry:"City, Country",bioPlaceholder:"Tell buyers about your farm or organization...",notificationPrefs:"Notification Preferences",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",orderUpdates:"Order Updates",orderUpdatesDesc:"Receive emails when you get new orders or order status changes",qrScanAlerts:"QR Scan Alerts",qrScanAlertsDesc:"Get notified when your products are scanned",marketingTips:"Marketing & Tips",marketingTipsDesc:"Receive tips, product updates, and promotional content",orderAlerts:"Order Alerts",orderAlertsDesc:"Instant push notifications for new orders",scanNotifications:"Scan Notifications",scanNotificationsDesc:"Real-time alerts when products are verified",twoFactorDesc:"Add an extra layer of security to your account",loginAlertsDesc:"Get notified when someone logs into your account",sessionTimeout:"Session Timeout",minutes:"minutes",hour:"hour",hours:"hours",never:"Never",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",billingSubscription:"Billing & Subscription",proPlan:"Pro Plan",renewsOn:"Renews",expires:"Expires",update:"Update",viewBillingHistory:"View Billing History",apiKeysDesc:"Use API keys to integrate AgriSync with your existing systems",productionKey:"Production Key",testKey:"Test Key",copy:"Copy",generateNewKey:"Generate New Key",languageChangeHint:"The app will display in the selected language"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",sortBy:"Sort by",newest:"Newest First",oldest:"Oldest First",currency:"\u20b9",minAgo:"min ago",hourAgo:"hour ago",hoursAgo:"hours ago"},auth:{welcomeBack:"Welcome Back",signIn:"Sign in to your AgriSync account",signUp:"Create your producer account",joinAgriSync:"Join AgriSync",usernameOrEmail:"Username or Email",password:"Password",confirmPassword:"Confirm Password",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",signUpHere:"Sign up here",signInHere:"Sign in here",createAccount:"Create Account"}},hi:{nav:{home:"\u0939\u094b\u092e",dashboard:"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921",marketplace:"\u092c\u093e\u091c\u093c\u093e\u0930",orders:"\u0911\u0930\u094d\u0921\u0930",analytics:"\u0935\u093f\u0936\u094d\u0932\u0947\u0937\u0923",settings:"\u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938",newBatch:"\u0928\u092f\u093e \u092c\u0948\u091a",login:"\u0932\u0949\u0917\u093f\u0928",register:"\u0930\u091c\u093f\u0938\u094d\u091f\u0930",logout:"\u0932\u0949\u0917\u0906\u0909\u091f"},home:{title:"\u0916\u0947\u0924 \u0938\u0947 \u092e\u0947\u091c \u0924\u0915 \u091f\u094d\u0930\u0947\u0938\u0947\u092c\u093f\u0932\u093f\u091f\u0940",subtitle:"QR-\u0906\u0927\u093e\u0930\u093f\u0924 \u091f\u094d\u0930\u0947\u0938\u0947\u092c\u093f\u0932\u093f\u091f\u0940 \u0914\u0930 AI-\u0938\u0902\u091a\u093e\u0932\u093f\u0924 \u0905\u0902\u0924\u0930\u094d\u0926\u0943\u0937\u094d\u091f\u093f \u0915\u0947 \u092e\u093e\u0927\u094d\u092f\u092e \u0938\u0947 \u091b\u094b\u091f\u0947 \u0909\u0924\u094d\u092a\u093e\u0926\u0915\u094b\u0902 \u0915\u094b \u0921\u093f\u091c\u093f\u091f\u0932 \u0906\u092a\u0942\u0930\u094d\u0924\u093f \u0936\u094d\u0930\u0943\u0902\u0916\u0932\u093e \u092a\u093e\u0930\u0926\u0930\u094d\u0936\u093f\u0924\u093e \u092a\u094d\u0930\u0926\u093e\u0928 \u0915\u0930\u0947\u0902",getStarted:"\u092e\u0941\u092b\u094d\u0924 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902",goToDashboard:"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921 \u092a\u0930 \u091c\u093e\u090f\u0902",whyChoose:"AgriSync \u0915\u094d\u092f\u094b\u0902 \u091a\u0941\u0928\u0947\u0902?",howItWorks:"\u092f\u0939 \u0915\u0948\u0938\u0947 \u0915\u093e\u092e \u0915\u0930\u0924\u093e \u0939\u0948",readyToTransform:"\u0905\u092a\u0928\u0940 \u0906\u092a\u0942\u0930\u094d\u0924\u093f \u0936\u094d\u0930\u0943\u0902\u0916\u0932\u093e \u0915\u094b \u092c\u0926\u0932\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0924\u0948\u092f\u093e\u0930 \u0939\u0948\u0902?",joinThousands:"\u0939\u091c\u093e\u0930\u094b\u0902 \u0909\u0924\u094d\u092a\u093e\u0926\u0915\u094b\u0902 \u0938\u0947 \u091c\u0941\u0921\u093c\u0947\u0902 \u091c\u094b \u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u092c\u0928\u093e \u0930\u0939\u0947 \u0939\u0948\u0902 \u0914\u0930 \u092a\u094d\u0930\u0940\u092e\u093f\u092f\u092e \u092c\u093e\u091c\u093e\u0930\u094b\u0902 \u0924\u0915 \u092a\u0939\u0941\u0902\u091a \u0930\u0939\u0947 \u0939\u0948\u0902",startFree:"\u0906\u091c \u092e\u0941\u092b\u094d\u0924 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902"},features:{qrTraceability:"QR \u0915\u094b\u0921 \u091f\u094d\u0930\u0947\u0938\u0947\u092c\u093f\u0932\u093f\u091f\u0940",qrDesc:"\u092a\u094d\u0930\u0924\u094d\u092f\u0947\u0915 \u092c\u0948\u091a \u0915\u0947 \u0932\u093f\u090f \u0905\u0926\u094d\u0935\u093f\u0924\u0940\u092f QR \u0915\u094b\u0921 \u092c\u0928\u093e\u090f\u0902\u0964 \u0916\u0930\u0940\u0926\u093e\u0930 \u0924\u0941\u0930\u0902\u0924 \u0909\u0924\u094d\u092a\u093e\u0926 \u0915\u0940 \u0909\u0924\u094d\u092a\u0924\u094d\u0924\u093f \u0914\u0930 \u092f\u093e\u0924\u094d\u0930\u093e \u0938\u0924\u094d\u092f\u093e\u092a\u093f\u0924 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964",trustTransparency:"\u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u0914\u0930 \u092a\u093e\u0930\u0926\u0930\u094d\u0936\u093f\u0924\u093e",trustDesc:"\u092a\u093e\u0930\u0926\u0930\u094d\u0936\u0940 \u0906\u092a\u0942\u0930\u094d\u0924\u093f \u0936\u094d\u0930\u0943\u0902\u0916\u0932\u093e \u0930\u093f\u0915\u0949\u0930\u094d\u0921 \u0914\u0930 \u092a\u094d\u0930\u092e\u093e\u0923\u0928 \u091f\u094d\u0930\u0948\u0915\u093f\u0902\u0917 \u0915\u0947 \u092e\u093e\u0927\u094d\u092f\u092e \u0938\u0947 \u0916\u0930\u0940\u0926\u093e\u0930\u094b\u0902 \u0915\u0947 \u0938\u093e\u0925 \u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u092c\u0928\u093e\u090f\u0902\u0964",mobileFriendly:"AI-\u0938\u0902\u091a\u093e\u0932\u093f\u0924 \u092e\u094b\u092c\u093e\u0907\u0932",mobileDesc:"\u0917\u094d\u0930\u093e\u092e\u0940\u0923 \u0915\u094d\u0937\u0947\u0924\u094d\u0930\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u0911\u092b\u0932\u093e\u0907\u0928 \u0938\u092a\u094b\u0930\u094d\u091f \u0914\u0930 AI \u091a\u0948\u091f \u0938\u0939\u093e\u092f\u0924\u093e \u0915\u0947 \u0938\u093e\u0925 \u0915\u093f\u0938\u0940 \u092d\u0940 \u0921\u093f\u0935\u093e\u0907\u0938 \u092a\u0930 \u0915\u093e\u092e \u0915\u0930\u0924\u093e \u0939\u0948\u0964",premiumMarkets:"\u092a\u094d\u0930\u0940\u092e\u093f\u092f\u092e \u092c\u093e\u091c\u093e\u0930",premiumDesc:"\u0928\u0948\u0924\u093f\u0915 \u092a\u094d\u0930\u0925\u093e\u0913\u0902 \u0914\u0930 \u091f\u093f\u0915\u093e\u090a \u0916\u0947\u0924\u0940 \u0935\u093f\u0927\u093f\u092f\u094b\u0902 \u0915\u094b \u0938\u093e\u092c\u093f\u0924 \u0915\u0930\u0915\u0947 \u092a\u094d\u0930\u0940\u092e\u093f\u092f\u092e \u092c\u093e\u091c\u093e\u0930\u094b\u0902 \u0924\u0915 \u092a\u0939\u0941\u0902\u091a\u0947\u0902\u0964",smallProducers:"\u091b\u094b\u091f\u0947 \u0909\u0924\u094d\u092a\u093e\u0926\u0915\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e",smallDesc:"AI \u092e\u093e\u0930\u094d\u0917\u0926\u0930\u094d\u0936\u0928 \u0914\u0930 \u0928\u094d\u092f\u0942\u0928\u0924\u092e \u0924\u0915\u0928\u0940\u0915\u0940 \u0938\u093e\u0915\u094d\u0937\u0930\u0924\u093e \u0915\u0947 \u0938\u093e\u0925 \u091b\u094b\u091f\u0947 \u0915\u093f\u0938\u093e\u0928\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u0935\u093f\u0936\u0947\u0937 \u0930\u0942\u092a \u0938\u0947 \u0921\u093f\u091c\u093c\u093e\u0907\u0928 \u0915\u093f\u092f\u093e \u0917\u092f\u093e\u0964",globalStandards:"\u0935\u0948\u0936\u094d\u0935\u093f\u0915 \u092e\u093e\u0928\u0915",globalDesc:"\u0905\u0902\u0924\u0930\u094d\u0930\u093e\u0937\u094d\u091f\u094d\u0930\u0940\u092f \u092a\u094d\u0930\u092e\u093e\u0923\u0928 \u092e\u093e\u0928\u0915\u094b\u0902 \u0914\u0930 \u0905\u0928\u0941\u092a\u093e\u0932\u0928 \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e\u0913\u0902 \u0915\u093e \u0938\u092e\u0930\u094d\u0925\u0928 \u0915\u0930\u0924\u093e \u0939\u0948\u0964"},steps:{step1:"\u092c\u0928\u093e\u090f\u0902 \u0914\u0930 \u091f\u094d\u0930\u0948\u0915 \u0915\u0930\u0947\u0902",step1Desc:"AI-\u0938\u0939\u093e\u092f\u0924\u093e \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0921\u0947\u091f\u093e \u092a\u094d\u0930\u0935\u093f\u0937\u094d\u091f\u093f \u0915\u0947 \u0938\u093e\u0925 \u0905\u092a\u0928\u0940 \u092b\u0938\u0932 \u092a\u0902\u091c\u0940\u0915\u0943\u0924 \u0915\u0930\u0947\u0902\u0964",step2:"\u0938\u094d\u092e\u093e\u0930\u094d\u091f \u0907\u0935\u0947\u0902\u091f\u094d\u0938",step2Desc:"\u092b\u094b\u091f\u094b \u092a\u0939\u091a\u093e\u0928 \u0914\u0930 GPS \u091f\u094d\u0930\u0948\u0915\u093f\u0902\u0917 \u0915\u0947 \u0938\u093e\u0925 \u092a\u094d\u0930\u094b\u0938\u0947\u0938\u093f\u0902\u0917 \u091a\u0930\u0923\u094b\u0902 \u0915\u094b \u0932\u0949\u0917 \u0915\u0930\u0947\u0902\u0964",step3:"\u0938\u0924\u094d\u092f\u093e\u092a\u093f\u0924 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u0915\u0930\u0947\u0902",step3Desc:"\u0916\u0930\u0940\u0926\u093e\u0930 \u091f\u094d\u0930\u0938\u094d\u091f \u0938\u094d\u0915\u094b\u0930 \u0915\u0947 \u0938\u093e\u0925 \u0924\u0924\u094d\u0915\u093e\u0932 \u0938\u0924\u094d\u092f\u093e\u092a\u0928 \u0915\u0947 \u0932\u093f\u090f QR \u0915\u094b\u0921 \u0938\u094d\u0915\u0948\u0928 \u0915\u0930\u0924\u0947 \u0939\u0948\u0902\u0964"},dashboard:{welcome:"\u0935\u093e\u092a\u0938 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948",manageBatches:"\u0905\u092a\u0928\u0947 \u092c\u0948\u091a\u094b\u0902 \u0915\u093e \u092a\u094d\u0930\u092c\u0902\u0927\u0928 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0905\u092a\u0928\u0940 \u0906\u092a\u0942\u0930\u094d\u0924\u093f \u0936\u094d\u0930\u0943\u0902\u0916\u0932\u093e \u0915\u094b \u091f\u094d\u0930\u0948\u0915 \u0915\u0930\u0947\u0902",totalBatches:"\u0915\u0941\u0932 \u092c\u0948\u091a",qrScans:"QR \u0938\u094d\u0915\u0948\u0928",recentHarvests:"\u0939\u093e\u0932 \u0915\u0940 \u092b\u0938\u0932\u0947\u0902",yourBatches:"\u0906\u092a\u0915\u0947 \u092c\u0948\u091a",noBatches:"\u0905\u092d\u0940 \u0924\u0915 \u0915\u094b\u0908 \u092c\u0948\u091a \u0928\u0939\u0940\u0902",createFirst:"\u0905\u092a\u0928\u0947 \u0909\u0924\u094d\u092a\u093e\u0926\u094b\u0902 \u0915\u094b \u091f\u094d\u0930\u0948\u0915 \u0915\u0930\u0928\u093e \u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u092a\u0939\u0932\u093e \u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902",createFirstBatch:"\u092a\u0939\u0932\u093e \u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902",viewDetails:"\u0935\u093f\u0935\u0930\u0923 \u0926\u0947\u0916\u0947\u0902",created:"\u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e",createNewBatch:"\u0928\u092f\u093e \u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902"},batch:{createNew:"\u0928\u092f\u093e \u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902",registerNew:"AI-\u0938\u0902\u091a\u093e\u0932\u093f\u0924 \u091f\u094d\u0930\u0947\u0938\u0947\u092c\u093f\u0932\u093f\u091f\u0940 \u0915\u0947 \u0938\u093e\u0925 \u090f\u0915 \u0928\u092f\u093e \u0909\u0924\u094d\u092a\u093e\u0926 \u092c\u0948\u091a \u092a\u0902\u091c\u0940\u0915\u0943\u0924 \u0915\u0930\u0947\u0902",productName:"\u0909\u0924\u094d\u092a\u093e\u0926 \u0915\u093e \u0928\u093e\u092e",productType:"\u0909\u0924\u094d\u092a\u093e\u0926 \u092a\u094d\u0930\u0915\u093e\u0930",quantity:"\u092e\u093e\u0924\u094d\u0930\u093e",unit:"\u0907\u0915\u093e\u0908",harvestDate:"\u092b\u0938\u0932 \u0915\u0940 \u0924\u093e\u0930\u0940\u0916",location:"\u0938\u094d\u0925\u093e\u0928",description:"\u0935\u093f\u0935\u0930\u0923",photo:"\u0909\u0924\u094d\u092a\u093e\u0926 \u092b\u094b\u091f\u094b (\u0935\u0948\u0915\u0932\u094d\u092a\u093f\u0915)",cancel:"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902",create:"\u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902",success:"\u092c\u0948\u091a \u0938\u092b\u0932\u0924\u093e\u092a\u0942\u0930\u094d\u0935\u0915 \u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e!",selectType:"\u092a\u094d\u0930\u0915\u093e\u0930 \u091a\u0941\u0928\u0947\u0902",fruits:"\u092b\u0932",vegetables:"\u0938\u092c\u094d\u091c\u093f\u092f\u093e\u0902",grains:"\u0905\u0928\u093e\u091c",herbs:"\u091c\u0921\u093c\u0940-\u092c\u0942\u091f\u093f\u092f\u093e\u0902",dairy:"\u0921\u0947\u092f\u0930\u0940",meat:"\u092e\u093e\u0902\u0938",processedFood:"\u092a\u094d\u0930\u0938\u0902\u0938\u094d\u0915\u0943\u0924 \u0916\u093e\u0926\u094d\u092f",other:"\u0905\u0928\u094d\u092f",aiEnhanced:"AI-\u0938\u0902\u0935\u0930\u094d\u0927\u093f\u0924 \u092c\u0948\u091a \u0928\u093f\u0930\u094d\u092e\u093e\u0923"},marketplace:{title:"B2B \u092c\u093e\u091c\u093c\u093e\u0930",subtitle:"\u0938\u0924\u094d\u092f\u093e\u092a\u093f\u0924 \u0909\u0924\u094d\u092a\u093e\u0926\u0915\u094b\u0902 \u0938\u0947 \u0938\u0940\u0927\u0947 \u091c\u0941\u0921\u093c\u0947\u0902\u0964 \u0938\u092d\u0940 \u0909\u0924\u094d\u092a\u093e\u0926 \u091f\u094d\u0930\u0947\u0938 \u0915\u0930\u0928\u0947 \u092f\u094b\u0917\u094d\u092f \u0914\u0930 \u0917\u0941\u0923\u0935\u0924\u094d\u0924\u093e-\u0906\u0936\u094d\u0935\u093e\u0938\u093f\u0924 \u0939\u0948\u0902\u0964",searchPlaceholder:"\u0909\u0924\u094d\u092a\u093e\u0926 \u092f\u093e \u0909\u0924\u094d\u092a\u093e\u0926\u0915 \u0916\u094b\u091c\u0947\u0902...",allCategories:"\u0938\u092d\u0940 \u0936\u094d\u0930\u0947\u0923\u093f\u092f\u093e\u0902",featured:"\u0935\u093f\u0936\u0947\u0937 \u0909\u0924\u094d\u092a\u093e\u0926",allProducts:"\u0938\u092d\u0940 \u0909\u0924\u094d\u092a\u093e\u0926",addToCart:"\u0915\u093e\u0930\u094d\u091f \u092e\u0947\u0902 \u091c\u094b\u0921\u093c\u0947\u0902",available:"\u0909\u092a\u0932\u092c\u094d\u0927",trust:"\u0935\u093f\u0936\u094d\u0935\u093e\u0938",noProducts:"\u0915\u094b\u0908 \u0909\u0924\u094d\u092a\u093e\u0926 \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u093e",adjustSearch:"\u0905\u092a\u0928\u0940 \u0916\u094b\u091c \u092f\u093e \u092b\u093c\u093f\u0932\u094d\u091f\u0930 \u0938\u092e\u093e\u092f\u094b\u091c\u093f\u0924 \u0915\u0930\u0947\u0902",emptyMarketplace:"\u092c\u093e\u091c\u093c\u093e\u0930 \u092e\u0947\u0902 \u0905\u092d\u0940 \u0915\u094b\u0908 \u0909\u0924\u094d\u092a\u093e\u0926 \u0928\u0939\u0940\u0902 \u0939\u0948",emptyMarketplaceDesc:"\u0905\u092a\u0928\u0947 \u0909\u0924\u094d\u092a\u093e\u0926 \u0938\u0942\u091a\u0940\u092c\u0926\u094d\u0927 \u0915\u0930\u0928\u0947 \u0935\u093e\u0932\u0947 \u092a\u0939\u0932\u0947 \u092c\u0928\u0947\u0902! \u0905\u092a\u0928\u0947 \u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921 \u0938\u0947 \u090f\u0915 \u092c\u0948\u091a \u092c\u0928\u093e\u090f\u0902\u0964",goToDashboard:"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921 \u092a\u0930 \u091c\u093e\u090f\u0902",sortNewest:"\u0928\u0935\u0940\u0928\u0924\u092e \u092a\u0939\u0932\u0947",sortPriceLow:"\u0915\u0940\u092e\u0924: \u0915\u092e \u0938\u0947 \u0905\u0927\u093f\u0915",sortPriceHigh:"\u0915\u0940\u092e\u0924: \u0905\u0927\u093f\u0915 \u0938\u0947 \u0915\u092e",sortRating:"\u0909\u091a\u094d\u091a\u0924\u092e \u0930\u0947\u091f\u093f\u0902\u0917",sortTrust:"\u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u0938\u094d\u0915\u094b\u0930",reviews:"\u0938\u092e\u0940\u0915\u094d\u0937\u093e\u090f\u0902",by:"\u0926\u094d\u0935\u093e\u0930\u093e"},orders:{title:"\u0911\u0930\u094d\u0921\u0930 \u092a\u094d\u0930\u092c\u0902\u0927\u0928",subtitle:"\u0916\u0930\u0940\u0926\u093e\u0930\u094b\u0902 \u0938\u0947 \u0905\u092a\u0928\u0947 B2B \u0911\u0930\u094d\u0921\u0930 \u091f\u094d\u0930\u0948\u0915 \u0914\u0930 \u092a\u094d\u0930\u092c\u0902\u0927\u093f\u0924 \u0915\u0930\u0947\u0902",totalOrders:"\u0915\u0941\u0932 \u0911\u0930\u094d\u0921\u0930",completedRevenue:"\u092a\u0942\u0930\u094d\u0923 \u0930\u093e\u091c\u0938\u094d\u0935",pendingRevenue:"\u0932\u0902\u092c\u093f\u0924 \u0930\u093e\u091c\u0938\u094d\u0935",fulfillmentRate:"\u092a\u0942\u0930\u094d\u0924\u093f \u0926\u0930",allOrders:"\u0938\u092d\u0940 \u0911\u0930\u094d\u0921\u0930",pending:"\u0932\u0902\u092c\u093f\u0924",processing:"\u092a\u094d\u0930\u094b\u0938\u0947\u0938\u093f\u0902\u0917",shipped:"\u092d\u0947\u091c \u0926\u093f\u092f\u093e \u0917\u092f\u093e",delivered:"\u0921\u093f\u0932\u0940\u0935\u0930 \u0915\u093f\u092f\u093e \u0917\u092f\u093e",cancelled:"\u0930\u0926\u094d\u0926",viewDetails:"\u0935\u093f\u0935\u0930\u0923 \u0926\u0947\u0916\u0947\u0902",contactBuyer:"\u0916\u0930\u0940\u0926\u093e\u0930 \u0938\u0947 \u0938\u0902\u092a\u0930\u094d\u0915 \u0915\u0930\u0947\u0902",invoice:"\u091a\u093e\u0932\u093e\u0928",noOrders:"\u0915\u094b\u0908 \u0911\u0930\u094d\u0921\u0930 \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u093e",products:"\u0909\u0924\u094d\u092a\u093e\u0926",ordered:"\u0911\u0930\u094d\u0921\u0930 \u0915\u093f\u092f\u093e \u0917\u092f\u093e",tracking:"\u091f\u094d\u0930\u0948\u0915\u093f\u0902\u0917",estDelivery:"\u0905\u0928\u0941\u092e\u093e\u0928\u093f\u0924 \u0921\u093f\u0932\u0940\u0935\u0930\u0940",createOrder:"\u0911\u0930\u094d\u0921\u0930 \u092c\u0928\u093e\u090f\u0902",createFirstOrder:"\u092c\u093f\u0915\u094d\u0930\u0940 \u091f\u094d\u0930\u0948\u0915 \u0915\u0930\u0928\u093e \u0936\u0941\u0930\u0942 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u093e \u092a\u0939\u0932\u093e \u0911\u0930\u094d\u0921\u0930 \u092c\u0928\u093e\u090f\u0902",buyerName:"\u0916\u0930\u0940\u0926\u093e\u0930 \u0915\u093e \u0928\u093e\u092e",addProduct:"\u0909\u0924\u094d\u092a\u093e\u0926 \u091c\u094b\u0921\u093c\u0947\u0902",selectProduct:"\u0909\u0924\u094d\u092a\u093e\u0926 \u091a\u0941\u0928\u0947\u0902",notes:"\u0928\u094b\u091f\u094d\u0938"},analytics:{title:"\u0935\u093f\u0936\u094d\u0932\u0947\u0937\u0923 \u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921",subtitle:"\u0905\u092a\u0928\u0940 \u0906\u092a\u0942\u0930\u094d\u0924\u093f \u0936\u094d\u0930\u0943\u0902\u0916\u0932\u093e \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u0914\u0930 \u0916\u0930\u0940\u0926\u093e\u0930 \u091c\u0941\u0921\u093c\u093e\u0935 \u0915\u094b \u091f\u094d\u0930\u0948\u0915 \u0915\u0930\u0947\u0902",totalScans:"\u0915\u0941\u0932 QR \u0938\u094d\u0915\u0948\u0928",activeBatches:"\u0938\u0915\u094d\u0930\u093f\u092f \u092c\u0948\u091a",avgTrustScore:"\u0914\u0938\u0924 \u0935\u093f\u0936\u094d\u0935\u093e\u0938 \u0938\u094d\u0915\u094b\u0930",estRevenue:"\u0905\u0928\u0941\u092e\u093e\u0928\u093f\u0924 \u0930\u093e\u091c\u0938\u094d\u0935",uniqueBuyers:"\u0905\u0926\u094d\u0935\u093f\u0924\u0940\u092f \u0916\u0930\u0940\u0926\u093e\u0930",premiumRate:"\u092a\u094d\u0930\u0940\u092e\u093f\u092f\u092e \u0926\u0930",scansThisWeek:"\u0907\u0938 \u0938\u092a\u094d\u0924\u093e\u0939 QR \u0938\u094d\u0915\u0948\u0928",topProducts:"\u0936\u0940\u0930\u094d\u0937 \u092a\u094d\u0930\u0926\u0930\u094d\u0936\u0928 \u0915\u0930\u0928\u0947 \u0935\u093e\u0932\u0947 \u0909\u0924\u094d\u092a\u093e\u0926",geoDistribution:"\u092d\u094c\u0917\u094b\u0932\u093f\u0915 \u0935\u093f\u0924\u0930\u0923",deviceBreakdown:"\u0921\u093f\u0935\u093e\u0907\u0938 \u0935\u093f\u0936\u094d\u0932\u0947\u0937\u0923",recentActivity:"\u0939\u093e\u0932 \u0915\u0940 \u0917\u0924\u093f\u0935\u093f\u0927\u093f",scans:"\u0938\u094d\u0915\u0948\u0928",last7Days:"\u092a\u093f\u091b\u0932\u0947 7 \u0926\u093f\u0928",last30Days:"\u092a\u093f\u091b\u0932\u0947 30 \u0926\u093f\u0928",last90Days:"\u092a\u093f\u091b\u0932\u0947 90 \u0926\u093f\u0928",lastYear:"\u092a\u093f\u091b\u0932\u093e \u0935\u0930\u094d\u0937",qrScan:"QR \u0938\u094d\u0915\u0948\u0928",newOrder:"\u0928\u092f\u093e \u0911\u0930\u094d\u0921\u0930",verification:"\u0938\u0924\u094d\u092f\u093e\u092a\u0928",mon:"\u0938\u094b\u092e",tue:"\u092e\u0902\u0917\u0932",wed:"\u092c\u0941\u0927",thu:"\u0917\u0941\u0930\u0941",fri:"\u0936\u0941\u0915\u094d\u0930",sat:"\u0936\u0928\u093f",sun:"\u0930\u0935\u093f",northIndia:"\u0909\u0924\u094d\u0924\u0930 \u092d\u093e\u0930\u0924",southIndia:"\u0926\u0915\u094d\u0937\u093f\u0923 \u092d\u093e\u0930\u0924",westIndia:"\u092a\u0936\u094d\u091a\u093f\u092e \u092d\u093e\u0930\u0924",eastIndia:"\u092a\u0942\u0930\u094d\u0935 \u092d\u093e\u0930\u0924",others:"\u0905\u0928\u094d\u092f",mobile:"\u092e\u094b\u092c\u093e\u0907\u0932",desktop:"\u0921\u0947\u0938\u094d\u0915\u091f\u0949\u092a",tablet:"\u091f\u0948\u092c\u0932\u0947\u091f"},settings:{title:"\u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938",subtitle:"\u0905\u092a\u0928\u0940 \u0916\u093e\u0924\u093e \u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938 \u0914\u0930 \u092a\u094d\u0930\u093e\u0925\u092e\u093f\u0915\u0924\u093e\u090f\u0902 \u092a\u094d\u0930\u092c\u0902\u0927\u093f\u0924 \u0915\u0930\u0947\u0902",profile:"\u092a\u094d\u0930\u094b\u092b\u093c\u093e\u0907\u0932",notifications:"\u0938\u0942\u091a\u0928\u093e\u090f\u0902",security:"\u0938\u0941\u0930\u0915\u094d\u0937\u093e",appearance:"\u0926\u093f\u0916\u093e\u0935\u091f",billing:"\u092c\u093f\u0932\u093f\u0902\u0917",apiKeys:"API \u0915\u0941\u0902\u091c\u093f\u092f\u093e\u0902",profileSettings:"\u092a\u094d\u0930\u094b\u092b\u093c\u093e\u0907\u0932 \u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938",changePhoto:"\u092b\u094b\u091f\u094b \u092c\u0926\u0932\u0947\u0902",username:"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0928\u093e\u092e",email:"\u0908\u092e\u0947\u0932",organization:"\u0938\u0902\u0917\u0920\u0928",phone:"\u092b\u094b\u0928",bio:"\u092a\u0930\u093f\u091a\u092f",website:"\u0935\u0947\u092c\u0938\u093e\u0907\u091f",theme:"\u0925\u0940\u092e",lightMode:"\u0932\u093e\u0907\u091f \u092e\u094b\u0921",darkMode:"\u0921\u093e\u0930\u094d\u0915 \u092e\u094b\u0921",language:"\u092d\u093e\u0937\u093e",saveChanges:"\u092a\u0930\u093f\u0935\u0930\u094d\u0924\u0928 \u0938\u0939\u0947\u091c\u0947\u0902",saved:"\u0938\u0939\u0947\u091c\u093e \u0917\u092f\u093e!",currentPlan:"\u0935\u0930\u094d\u0924\u092e\u093e\u0928 \u092f\u094b\u091c\u0928\u093e",paymentMethod:"\u092d\u0941\u0917\u0924\u093e\u0928 \u0935\u093f\u0927\u093f",twoFactor:"\u0926\u094b-\u0915\u093e\u0930\u0915 \u092a\u094d\u0930\u092e\u093e\u0923\u0940\u0915\u0930\u0923",loginAlerts:"\u0932\u0949\u0917\u093f\u0928 \u0905\u0932\u0930\u094d\u091f",changePassword:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u092c\u0926\u0932\u0947\u0902",photoHint:"JPG, PNG \u092f\u093e GIF. \u0905\u0927\u093f\u0915\u0924\u092e 2MB.",cityCountry:"\u0936\u0939\u0930, \u0926\u0947\u0936",bioPlaceholder:"\u0916\u0930\u0940\u0926\u093e\u0930\u094b\u0902 \u0915\u094b \u0905\u092a\u0928\u0947 \u092b\u093e\u0930\u094d\u092e \u092f\u093e \u0938\u0902\u0917\u0920\u0928 \u0915\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902 \u092c\u0924\u093e\u090f\u0902...",notificationPrefs:"\u0938\u0942\u091a\u0928\u093e \u092a\u094d\u0930\u093e\u0925\u092e\u093f\u0915\u0924\u093e\u090f\u0902",emailNotifications:"\u0908\u092e\u0947\u0932 \u0938\u0942\u091a\u0928\u093e\u090f\u0902",pushNotifications:"\u092a\u0941\u0936 \u0938\u0942\u091a\u0928\u093e\u090f\u0902",orderUpdates:"\u0911\u0930\u094d\u0921\u0930 \u0905\u092a\u0921\u0947\u091f",orderUpdatesDesc:"\u0928\u090f \u0911\u0930\u094d\u0921\u0930 \u092f\u093e \u0911\u0930\u094d\u0921\u0930 \u0938\u094d\u0925\u093f\u0924\u093f \u092c\u0926\u0932\u0928\u0947 \u092a\u0930 \u0908\u092e\u0947\u0932 \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902",qrScanAlerts:"QR \u0938\u094d\u0915\u0948\u0928 \u0905\u0932\u0930\u094d\u091f",qrScanAlertsDesc:"\u091c\u092c \u0906\u092a\u0915\u0947 \u0909\u0924\u094d\u092a\u093e\u0926 \u0938\u094d\u0915\u0948\u0928 \u0915\u093f\u090f \u091c\u093e\u090f\u0902 \u0924\u094b \u0938\u0942\u091a\u0928\u093e \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902",marketingTips:"\u092e\u093e\u0930\u094d\u0915\u0947\u091f\u093f\u0902\u0917 \u0914\u0930 \u091f\u093f\u092a\u094d\u0938",marketingTipsDesc:"\u091f\u093f\u092a\u094d\u0938, \u0909\u0924\u094d\u092a\u093e\u0926 \u0905\u092a\u0921\u0947\u091f \u0914\u0930 \u092a\u094d\u0930\u091a\u093e\u0930 \u0938\u093e\u092e\u0917\u094d\u0930\u0940 \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902",orderAlerts:"\u0911\u0930\u094d\u0921\u0930 \u0905\u0932\u0930\u094d\u091f",orderAlertsDesc:"\u0928\u090f \u0911\u0930\u094d\u0921\u0930 \u0915\u0947 \u0932\u093f\u090f \u0924\u0924\u094d\u0915\u093e\u0932 \u092a\u0941\u0936 \u0938\u0942\u091a\u0928\u093e\u090f\u0902",scanNotifications:"\u0938\u094d\u0915\u0948\u0928 \u0938\u0942\u091a\u0928\u093e\u090f\u0902",scanNotificationsDesc:"\u0909\u0924\u094d\u092a\u093e\u0926 \u0938\u0924\u094d\u092f\u093e\u092a\u093f\u0924 \u0939\u094b\u0928\u0947 \u092a\u0930 \u0930\u0940\u092f\u0932-\u091f\u093e\u0907\u092e \u0905\u0932\u0930\u094d\u091f",twoFactorDesc:"\u0905\u092a\u0928\u0947 \u0916\u093e\u0924\u0947 \u092e\u0947\u0902 \u0938\u0941\u0930\u0915\u094d\u0937\u093e \u0915\u0940 \u090f\u0915 \u0905\u0924\u093f\u0930\u093f\u0915\u094d\u0924 \u092a\u0930\u0924 \u091c\u094b\u0921\u093c\u0947\u0902",loginAlertsDesc:"\u091c\u092c \u0915\u094b\u0908 \u0906\u092a\u0915\u0947 \u0916\u093e\u0924\u0947 \u092e\u0947\u0902 \u0932\u0949\u0917\u093f\u0928 \u0915\u0930\u0947 \u0924\u094b \u0938\u0942\u091a\u0928\u093e \u092a\u094d\u0930\u093e\u092a\u094d\u0924 \u0915\u0930\u0947\u0902",sessionTimeout:"\u0938\u0924\u094d\u0930 \u0938\u092e\u092f \u0938\u0940\u092e\u093e",minutes:"\u092e\u093f\u0928\u091f",hour:"\u0918\u0902\u091f\u093e",hours:"\u0918\u0902\u091f\u0947",never:"\u0915\u092d\u0940 \u0928\u0939\u0940\u0902",currentPassword:"\u0935\u0930\u094d\u0924\u092e\u093e\u0928 \u092a\u093e\u0938\u0935\u0930\u094d\u0921",newPassword:"\u0928\u092f\u093e \u092a\u093e\u0938\u0935\u0930\u094d\u0921",confirmNewPassword:"\u0928\u092f\u093e \u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u092a\u0941\u0937\u094d\u091f\u093f \u0915\u0930\u0947\u0902",updatePassword:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0905\u092a\u0921\u0947\u091f \u0915\u0930\u0947\u0902",billingSubscription:"\u092c\u093f\u0932\u093f\u0902\u0917 \u0914\u0930 \u0938\u0926\u0938\u094d\u092f\u0924\u093e",proPlan:"\u092a\u094d\u0930\u094b \u092a\u094d\u0932\u093e\u0928",renewsOn:"\u0928\u0935\u0940\u0928\u0940\u0915\u0930\u0923",expires:"\u0938\u092e\u093e\u092a\u094d\u0924\u093f",update:"\u0905\u092a\u0921\u0947\u091f",viewBillingHistory:"\u092c\u093f\u0932\u093f\u0902\u0917 \u0907\u0924\u093f\u0939\u093e\u0938 \u0926\u0947\u0916\u0947\u0902",apiKeysDesc:"AgriSync \u0915\u094b \u0905\u092a\u0928\u0947 \u092e\u094c\u091c\u0942\u0926\u093e \u0938\u093f\u0938\u094d\u091f\u092e \u0915\u0947 \u0938\u093e\u0925 \u090f\u0915\u0940\u0915\u0943\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f API \u0915\u0941\u0902\u091c\u093f\u092f\u094b\u0902 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0947\u0902",productionKey:"\u092a\u094d\u0930\u094b\u0921\u0915\u094d\u0936\u0928 \u0915\u0941\u0902\u091c\u0940",testKey:"\u091f\u0947\u0938\u094d\u091f \u0915\u0941\u0902\u091c\u0940",copy:"\u0915\u0949\u092a\u0940",generateNewKey:"\u0928\u0908 \u0915\u0941\u0902\u091c\u0940 \u092c\u0928\u093e\u090f\u0902",languageChangeHint:"\u092d\u093e\u0937\u093e \u092c\u0926\u0932\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926 \u092a\u0942\u0930\u093e \u0910\u092a \u091a\u092f\u0928\u093f\u0924 \u092d\u093e\u0937\u093e \u092e\u0947\u0902 \u0926\u093f\u0916\u0947\u0917\u093e"},common:{loading:"\u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...",error:"\u0924\u094d\u0930\u0941\u091f\u093f",success:"\u0938\u092b\u0932",save:"\u0938\u0939\u0947\u091c\u0947\u0902",cancel:"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902",delete:"\u0939\u091f\u093e\u090f\u0902",edit:"\u0938\u0902\u092a\u093e\u0926\u093f\u0924 \u0915\u0930\u0947\u0902",search:"\u0916\u094b\u091c\u0947\u0902",filter:"\u092b\u093c\u093f\u0932\u094d\u091f\u0930",sortBy:"\u0915\u094d\u0930\u092e\u092c\u0926\u094d\u0927 \u0915\u0930\u0947\u0902",newest:"\u0928\u0935\u0940\u0928\u0924\u092e \u092a\u0939\u0932\u0947",oldest:"\u092a\u0941\u0930\u093e\u0928\u093e \u092a\u0939\u0932\u0947",currency:"\u20b9",minAgo:"\u092e\u093f\u0928\u091f \u092a\u0939\u0932\u0947",hourAgo:"\u0918\u0902\u091f\u093e \u092a\u0939\u0932\u0947",hoursAgo:"\u0918\u0902\u091f\u0947 \u092a\u0939\u0932\u0947"},auth:{welcomeBack:"\u0935\u093e\u092a\u0938 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948",signIn:"\u0905\u092a\u0928\u0947 AgriSync \u0916\u093e\u0924\u0947 \u092e\u0947\u0902 \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902",signUp:"\u0905\u092a\u0928\u093e \u0909\u0924\u094d\u092a\u093e\u0926\u0915 \u0916\u093e\u0924\u093e \u092c\u0928\u093e\u090f\u0902",joinAgriSync:"AgriSync \u0938\u0947 \u091c\u0941\u0921\u093c\u0947\u0902",usernameOrEmail:"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0928\u093e\u092e \u092f\u093e \u0908\u092e\u0947\u0932",password:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921",confirmPassword:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u0915\u0940 \u092a\u0941\u0937\u094d\u091f\u093f \u0915\u0930\u0947\u0902",dontHaveAccount:"\u0916\u093e\u0924\u093e \u0928\u0939\u0940\u0902 \u0939\u0948?",alreadyHaveAccount:"\u092a\u0939\u0932\u0947 \u0938\u0947 \u0916\u093e\u0924\u093e \u0939\u0948?",signUpHere:"\u092f\u0939\u093e\u0902 \u0938\u093e\u0907\u0928 \u0905\u092a \u0915\u0930\u0947\u0902",signInHere:"\u092f\u0939\u093e\u0902 \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902",createAccount:"\u0916\u093e\u0924\u093e \u092c\u0928\u093e\u090f\u0902"}}},vn=(0,n.createContext)(),bn=()=>{const e=(0,n.useContext)(vn);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},wn=e=>{let{children:t}=e;const[r,a]=(0,n.useState)(()=>localStorage.getItem("agrisync-language")||"en");(0,n.useEffect)(()=>{localStorage.setItem("agrisync-language",r),document.documentElement.lang=r},[r]);return(0,un.jsx)(vn.Provider,{value:{language:r,changeLanguage:e=>{a(e)},t:e=>{var t;const n=e.split(".");let a=yn[r];for(const r of n){var s;a=null===(s=a)||void 0===s?void 0:s[r]}return a||(null===(t=yn.en)||void 0===t?void 0:t[e])||e},languages:[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093f\u0902\u0926\u0940"},{code:"es",name:"Spanish",nativeName:"Espa\xf1ol"},{code:"fr",name:"French",nativeName:"Fran\xe7ais"},{code:"de",name:"German",nativeName:"Deutsch"},{code:"zh",name:"Chinese",nativeName:"\u4e2d\u6587"}]},children:t})};var xn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kn=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],jn=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u}=r,d=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(r,kn);return(0,n.createElement)("svg",Wt(Wt({ref:a},xn),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},d),[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]]);var h});return r.displayName="".concat(e),r},Sn=jn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),_n=jn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),En=jn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Tn=jn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Nn=jn("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Cn=jn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),On=jn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Pn=jn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Rn=jn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),An=jn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),In=jn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Dn=jn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zn=jn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ln=()=>{const{user:e,logout:t}=hn(),{isDark:r,toggleTheme:a}=mn(),{t:s}=bn(),i=ae(),o=re(),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),h=()=>{t(),i("/")},f=e=>o.pathname===e,p="buyer"===(null===e||void 0===e?void 0:e.role)?[{path:"/marketplace",label:s("nav.marketplace"),icon:Sn},{path:"/orders",label:"My Orders",icon:_n}]:[{path:"/dashboard",label:s("nav.dashboard"),icon:En},{path:"/marketplace",label:s("nav.marketplace"),icon:Sn},{path:"/orders",label:s("nav.orders"),icon:_n},{path:"/analytics",label:s("nav.analytics"),icon:Tn}];return(0,un.jsxs)("nav",{className:"glass-strong",style:{padding:"0.75rem 0",position:"sticky",top:0,zIndex:50},children:[(0,un.jsxs)("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,un.jsxs)(Re,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"var(--accent-primary)",fontSize:"1.5rem",fontWeight:"bold"},children:[(0,un.jsx)(Nn,{size:32}),"AgriSync"]}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem","@media (max-width: 768px)":{display:"none"}},className:"desktop-nav",children:[(0,un.jsxs)(Re,{to:"/marketplace",className:"btn ".concat(f("/marketplace")?"btn-primary":"btn-secondary"),style:{padding:"0.5rem 1rem"},children:[(0,un.jsx)(Sn,{size:16}),"Marketplace"]}),(0,un.jsx)("button",{onClick:a,className:"btn btn-secondary",style:{padding:"0.5rem"},title:"Switch to ".concat(r?"light":"dark"," mode"),children:r?(0,un.jsx)(Cn,{size:20}):(0,un.jsx)(On,{size:20})}),e?(0,un.jsxs)(un.Fragment,{children:[p.filter(e=>"/marketplace"!==e.path).map(e=>(0,un.jsxs)(Re,{to:e.path,className:"btn ".concat(f(e.path)?"btn-primary":"btn-secondary"),style:{padding:"0.5rem 1rem"},children:[(0,un.jsx)(e.icon,{size:16}),e.label]},e.path)),"producer"===e.role&&(0,un.jsxs)(Re,{to:"/create-batch",className:"btn btn-primary",children:[(0,un.jsx)(Pn,{size:16}),"New Batch"]}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsxs)("button",{onClick:()=>d(!u),className:"glass",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"12px",border:"none",cursor:"pointer",background:"var(--glass-bg)"},children:[(0,un.jsx)("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"0.875rem"},children:e.username.charAt(0).toUpperCase()}),(0,un.jsx)("span",{style:{color:"var(--text-primary)"},children:e.username}),(0,un.jsx)(Rn,{size:16,style:{color:"var(--text-secondary)"}})]}),u&&(0,un.jsxs)("div",{className:"card-glass",style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",minWidth:"200px",padding:"0.5rem",zIndex:100},children:[(0,un.jsxs)(Re,{to:"/settings",className:"btn btn-secondary",style:{width:"100%",justifyContent:"flex-start",marginBottom:"0.25rem"},onClick:()=>d(!1),children:[(0,un.jsx)(An,{size:16}),"Settings"]}),(0,un.jsxs)("button",{onClick:()=>{h(),d(!1)},className:"btn btn-secondary",style:{width:"100%",justifyContent:"flex-start",color:"#ef4444"},children:[(0,un.jsx)(In,{size:16}),"Logout"]})]})]})]}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Re,{to:"/login",className:"btn btn-secondary",children:"Login"}),(0,un.jsx)(Re,{to:"/register",className:"btn btn-primary",children:"Register"})]})]}),(0,un.jsx)("button",{onClick:()=>c(!l),className:"btn btn-secondary mobile-menu-btn",style:{padding:"0.5rem",display:"none"},children:l?(0,un.jsx)(Dn,{size:24}):(0,un.jsx)(zn,{size:24})})]}),l&&(0,un.jsx)("div",{className:"card-glass mobile-menu",style:{position:"absolute",top:"100%",left:0,right:0,padding:"1rem",margin:"0.5rem",borderRadius:"16px"},children:(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,un.jsxs)(Re,{to:"/marketplace",className:"btn btn-secondary",onClick:()=>c(!1),children:[(0,un.jsx)(Sn,{size:16})," Marketplace"]}),e?(0,un.jsxs)(un.Fragment,{children:[p.filter(e=>"/marketplace"!==e.path).map(e=>(0,un.jsxs)(Re,{to:e.path,className:"btn btn-secondary",onClick:()=>c(!1),children:[(0,un.jsx)(e.icon,{size:16})," ",e.label]},e.path)),(0,un.jsxs)(Re,{to:"/create-batch",className:"btn btn-primary",onClick:()=>c(!1),children:[(0,un.jsx)(Pn,{size:16})," New Batch"]}),(0,un.jsxs)(Re,{to:"/settings",className:"btn btn-secondary",onClick:()=>c(!1),children:[(0,un.jsx)(An,{size:16})," Settings"]}),(0,un.jsxs)("button",{onClick:()=>{h(),c(!1)},className:"btn btn-outline",children:[(0,un.jsx)(In,{size:16})," Logout"]})]}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Re,{to:"/login",className:"btn btn-secondary",onClick:()=>c(!1),children:"Login"}),(0,un.jsx)(Re,{to:"/register",className:"btn btn-primary",onClick:()=>c(!1),children:"Register"})]}),(0,un.jsxs)("button",{onClick:a,className:"btn btn-secondary",children:[r?(0,un.jsx)(Cn,{size:16}):(0,un.jsx)(On,{size:16}),r?"Light Mode":"Dark Mode"]})]})}),(0,un.jsx)("style",{children:"\n        @media (max-width: 900px) {\n          .desktop-nav { display: none !important; }\n          .mobile-menu-btn { display: flex !important; }\n        }\n      "})]})},Bn=jn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Mn=jn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Un=jn("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Fn=()=>{const[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([{type:"ai",content:"\u0928\u092e\u0938\u094d\u0924\u0947! I'm your AgriSync AI assistant. I can help you with batch management, supply chain tracking, sustainable farming practices, and accessing premium markets. Ask me anything in English or Hindi! \ud83c\udf31"}]),[s,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(!1),c=(0,n.useRef)(null);(0,n.useEffect)(()=>{(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[r]);const u=async()=>{if(!s.trim()||o)return;const e=s.trim();i(""),a(t=>[...t,{type:"user",content:e}]),l(!0);try{const t=await d(e);setTimeout(()=>{a(e=>[...e,{type:"ai",content:t}]),l(!1)},1e3)}catch(t){a(e=>[...e,{type:"ai",content:"I apologize, but I'm having trouble connecting right now. Please try again later or contact support for assistance."}]),l(!1)}},d=async e=>{try{const t=await fetch("http://localhost:5000/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(t.ok){return(await t.json()).response}throw new Error("API request failed")}catch(t){console.error("AI Chat error:",t);const r={batch:'To create a new batch, go to your dashboard and click "Create New Batch". Fill in your product details like name, type, quantity, and harvest date. The system will automatically generate a unique QR code for traceability.',qr:"QR codes in AgriSync contain a unique link to your product's verification page. Buyers can scan these codes to see the complete supply chain journey, trust score, and producer information.",trust:"Trust scores are calculated based on several factors: number of supply chain events logged, certifications attached, photo evidence provided, and producer verification status. Higher engagement leads to higher trust scores.",certification:"You can add certifications to your batches by going to the batch details page and uploading certificate documents. Supported types include organic, fair trade, and quality certifications.",events:"Supply chain events help track your product journey. Add events like processing, quality checks, packaging, and transport. Include photos and location data for better transparency.",offline:"AgriSync works offline! You can create batches and add events without internet. Data will sync automatically when connection is restored.",help:"I can help you with: Creating batches, Managing QR codes, Understanding trust scores, Adding certifications, Tracking supply chain events, Offline functionality, and General farming advice."},n=e.toLowerCase();for(const[e,s]of Object.entries(r))if(n.includes(e))return s;const a=["For sustainable farming, consider crop rotation to maintain soil health and reduce pest buildup. This practice can improve your product's marketability.","Proper documentation of your farming practices increases buyer trust. Make sure to log all important events in your AgriSync batches.","Consider obtaining organic or sustainable farming certifications to access premium markets and increase your product value.","Regular soil testing helps optimize fertilizer use and can be documented as quality events in your supply chain tracking.","Water conservation techniques not only help the environment but also create compelling stories for your product traceability."];return a[Math.floor(Math.random()*a.length)]}};return(0,un.jsxs)("div",{className:"ai-chat-container",children:[e&&(0,un.jsxs)("div",{className:"ai-chat-window slide-in",children:[(0,un.jsx)("div",{className:"ai-chat-header",children:(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Bn,{size:20}),(0,un.jsx)("span",{children:"AgriSync AI Assistant"})]}),(0,un.jsx)("button",{onClick:()=>t(!1),style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"0.25rem"},children:(0,un.jsx)(Dn,{size:16})})]})}),(0,un.jsxs)("div",{className:"ai-chat-messages",children:[r.map((e,t)=>(0,un.jsx)("div",{className:"ai"===e.type?"ai-message":"user-message",children:e.content},t)),o&&(0,un.jsxs)("div",{className:"ai-message",children:[(0,un.jsx)("div",{className:"loading"}),(0,un.jsx)("span",{style:{marginLeft:"0.5rem"},children:"Thinking..."})]}),(0,un.jsx)("div",{ref:c})]}),(0,un.jsxs)("div",{className:"ai-chat-input",children:[(0,un.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},placeholder:"Ask me anything about AgriSync...",disabled:o}),(0,un.jsx)("button",{onClick:u,disabled:o||!s.trim(),children:(0,un.jsx)(Mn,{size:16})})]})]}),(0,un.jsx)("button",{className:"ai-chat-toggle",onClick:()=>t(!e),title:"AI Assistant",children:e?(0,un.jsx)(Dn,{size:24}):(0,un.jsx)(Un,{size:24})})]})},qn=jn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Wn=jn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Hn=jn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Vn=jn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Kn=jn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Gn=jn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jn=jn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Qn=()=>{const{user:e}=hn(),{t:t}=bn();return(0,un.jsxs)("div",{children:[(0,un.jsxs)("section",{style:{background:"linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%)",color:"white",padding:"6rem 0",textAlign:"center",position:"relative",overflow:"hidden"},children:[(0,un.jsx)("div",{style:{position:"absolute",top:"20%",left:"10%",width:"100px",height:"100px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",animation:"float 6s ease-in-out infinite"}}),(0,un.jsx)("div",{style:{position:"absolute",top:"60%",right:"15%",width:"60px",height:"60px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",animation:"float 4s ease-in-out infinite reverse"}}),(0,un.jsxs)("div",{className:"container",style:{position:"relative",zIndex:1},children:[(0,un.jsx)("div",{className:"float-animation",children:(0,un.jsx)(qn,{size:48,style:{marginBottom:"1rem",opacity:.8}})}),(0,un.jsx)("h1",{style:{fontSize:"3.5rem",fontWeight:"bold",marginBottom:"1rem",background:"linear-gradient(45deg, #ffffff, #f0f9ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t("home.title")}),(0,un.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:"2rem",opacity:.9,maxWidth:"600px",margin:"0 auto 2rem"},children:t("home.subtitle")}),(0,un.jsx)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:e?(0,un.jsx)(Re,{to:"/dashboard",className:"btn",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",fontSize:"1.125rem",padding:"1rem 2rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:"Go to Dashboard"}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Re,{to:"/register",className:"btn",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",fontSize:"1.125rem",padding:"1rem 2rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:"Get Started Free"}),(0,un.jsx)(Re,{to:"/login",className:"btn",style:{background:"transparent",borderColor:"white",color:"white",fontSize:"1.125rem",padding:"1rem 2rem",border:"2px solid rgba(255, 255, 255, 0.5)"},children:"Login"})]})})]})]}),(0,un.jsx)("section",{style:{padding:"6rem 0"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Why Choose AgriSync?"}),(0,un.jsxs)("div",{className:"grid grid-3",children:[(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Wn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"QR Code Traceability"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Generate unique QR codes for each batch. Buyers can instantly verify product origin and journey with our advanced tracking system."})]}),(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Hn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Trust & Transparency"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Build trust with buyers through transparent supply chain records, AI-powered trust scoring, and certification tracking."})]}),(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Vn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"AI-Powered Mobile"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Works on any device with offline support, AI chat assistance, and smart photo recognition for rural areas."})]}),(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Kn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Premium Markets"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Access premium markets by proving ethical practices and sustainable farming methods with data-driven insights."})]}),(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Gn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Built for Small Producers"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Designed specifically for smallholder farmers with AI guidance, voice commands, and minimal tech literacy requirements."})]}),(0,un.jsxs)("div",{className:"card-glass text-center slide-in",children:[(0,un.jsx)(Jn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Global Standards"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Supports international certification standards, blockchain anchoring, and multi-language compliance requirements."})]})]})]})}),(0,un.jsx)("section",{className:"glass",style:{padding:"6rem 0",margin:"2rem 0"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"How It Works"}),(0,un.jsxs)("div",{className:"grid grid-3",children:[(0,un.jsxs)("div",{className:"text-center fade-in",children:[(0,un.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",margin:"0 auto 1rem",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)"},children:"1"}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Create & Track"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Register your harvest with AI-assisted data entry. Our smart system guides you through optimal documentation practices."})]}),(0,un.jsxs)("div",{className:"text-center fade-in",children:[(0,un.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",margin:"0 auto 1rem",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)"},children:"2"}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Smart Events"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Log processing steps with photo recognition, GPS tracking, and AI-powered quality assessments throughout the supply chain."})]}),(0,un.jsxs)("div",{className:"text-center fade-in",children:[(0,un.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",fontWeight:"bold",margin:"0 auto 1rem",boxShadow:"0 8px 25px rgba(5, 150, 105, 0.3)"},children:"3"}),(0,un.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Verify & Trust"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Buyers scan QR codes for instant verification with AI-calculated trust scores, complete journey visualization, and producer connection."})]})]})]})}),(0,un.jsx)("section",{style:{padding:"6rem 0",textAlign:"center"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Transform Your Supply Chain?"}),(0,un.jsx)("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto 2rem"},children:"Join thousands of producers building trust, accessing premium markets, and revolutionizing agriculture with AI-powered traceability"}),!e&&(0,un.jsx)(Re,{to:"/register",className:"btn btn-primary",style:{fontSize:"1.125rem",padding:"1rem 2rem"},children:"Start Free Today"})]})})]})},$n=jn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Yn=()=>{const{t:e}=bn(),[t,r]=(0,n.useState)({username:"",password:""}),[a,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),{login:l}=hn(),c=ae(),u=e=>{r(Wt(Wt({},t),{},{[e.target.name]:e.target.value}))};return(0,un.jsx)("div",{style:{minHeight:"calc(100vh - 80px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem 0"},children:(0,un.jsx)("div",{className:"container",style:{maxWidth:"400px"},children:(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("div",{className:"text-center mb-6",children:[(0,un.jsx)($n,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h1",{className:"text-2xl font-bold",children:e("auth.welcomeBack")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:e("auth.signIn")})]}),a&&(0,un.jsx)("div",{className:"alert alert-error",children:a}),(0,un.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(""),o(!0);const r=await l(t.username,t.password);r.success?c("/dashboard"):s(r.error),o(!1)},children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:e("auth.usernameOrEmail")}),(0,un.jsx)("input",{type:"text",name:"username",value:t.username,onChange:u,className:"form-input",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:e("auth.password")}),(0,un.jsx)("input",{type:"password",name:"password",value:t.password,onChange:u,className:"form-input",required:!0})]}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:i,children:i?(0,un.jsx)("div",{className:"loading"}):e("nav.login")})]}),(0,un.jsx)("div",{className:"text-center mt-6",children:(0,un.jsxs)("p",{style:{color:"var(--text-secondary)"},children:[e("auth.dontHaveAccount")," ",(0,un.jsx)(Re,{to:"/register",style:{color:"var(--accent-primary)",textDecoration:"none"},children:e("auth.signUpHere")})]})})]})})})},Xn=jn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zn=jn("Tractor",[["path",{d:"M3 4h9l1 7",key:"1ftpo8"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M8 10V4",key:"1y5f7n"}],["path",{d:"M18 5c-.6 0-1 .4-1 1v5.6",key:"10zbvr"}],["path",{d:"m10 11 11 .9c.6 0 .9.5.8 1.1l-.8 5h-1",key:"2w242w"}],["circle",{cx:"7",cy:"15",r:".5",key:"fbsjqy"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}]]),ea=jn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ta=jn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ra=jn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),na=jn("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),aa=jn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sa=()=>{const e=ae(),{register:t}=hn(),{t:r}=bn(),[a,s]=(0,n.useState)(1),[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)({userType:"",username:"",email:"",phone:"",password:"",confirmPassword:"",organization:""}),[u,d]=(0,n.useState)({emailOTP:"",phoneOTP:"",emailSent:!1,phoneSent:!1,emailVerified:!1,phoneVerified:!1}),[h,f]=(0,n.useState)({}),p=e=>{c(Wt(Wt({},l),{},{[e.target.name]:e.target.value})),h[e.target.name]&&f(Wt(Wt({},h),{},{[e.target.name]:""}))},m=e=>{d(Wt(Wt({},u),{},{[e.target.name]:e.target.value}))},g=async()=>{try{o(!0);const e=await fetch("http://localhost:5000/api/otp/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email})}),t=await e.json();t.success?(d(Wt(Wt({},u),{},{emailSent:!0})),t.developmentOTP&&alert("Development Mode - Email OTP: ".concat(t.developmentOTP))):f({email:t.error||"Failed to send email OTP"})}catch(e){f({email:"Failed to send email OTP"})}finally{o(!1)}},y=async()=>{try{o(!0);const e=await fetch("http://localhost:5000/api/otp/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:l.phone})}),t=await e.json();t.success?(d(Wt(Wt({},u),{},{phoneSent:!0})),t.developmentOTP&&alert("Development Mode - SMS OTP: ".concat(t.developmentOTP))):f({phone:t.error||"Failed to send SMS OTP"})}catch(e){f({phone:"Failed to send SMS OTP"})}finally{o(!1)}};return(0,un.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem 1rem"},children:(0,un.jsxs)("div",{className:"card-glass",style:{width:"100%",maxWidth:"500px"},children:[(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:[1,2,3].map(e=>(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,un.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:a>=e?"var(--accent-primary)":"var(--border-color)",color:a>=e?"white":"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},children:a>e?(0,un.jsx)(Xn,{size:20}):e}),e<3&&(0,un.jsx)("div",{style:{width:"60px",height:"2px",background:a>e?"var(--accent-primary)":"var(--border-color)",margin:"0 0.5rem"}})]},e))}),1===a&&(0,un.jsxs)(un.Fragment,{children:[(0,un.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,un.jsx)("h1",{className:"text-2xl font-bold mb-2",children:r("auth.joinAgriSync")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:r("auth.signUp")})]}),(0,un.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),(()=>{const e={};return l.userType||(e.userType="Please select your account type"),l.username.trim()||(e.username="Username is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(e.email="Invalid email format"):e.email="Email is required",l.phone.trim()?/^(\+91|91)?[6789]\d{9}$/.test(l.phone.replace(/\s+/g,""))||(e.phone="Invalid Indian phone number"):e.phone="Phone number is required","buyer"!==l.userType||l.organization.trim()||(e.organization="Company/Business name is required for buyers"),l.password?l.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",l.password!==l.confirmPassword&&(e.confirmPassword="Passwords do not match"),f(e),0===Object.keys(e).length})()&&(s(2),await g(),await y())},children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"I am a:"}),(0,un.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"0.5rem"},children:[(0,un.jsxs)("button",{type:"button",onClick:()=>c(Wt(Wt({},l),{},{userType:"farmer"})),style:{padding:"1.5rem",border:"2px solid ".concat("farmer"===l.userType?"var(--accent-primary)":"var(--border-color)"),borderRadius:"12px",background:"farmer"===l.userType?"rgba(16, 185, 129, 0.1)":"var(--glass-bg)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[(0,un.jsx)(Zn,{size:32,style:{color:"farmer"===l.userType?"var(--accent-primary)":"var(--text-secondary)"}}),(0,un.jsx)("span",{style:{fontWeight:"600",color:"farmer"===l.userType?"var(--accent-primary)":"var(--text-primary)"},children:"Farmer/Producer"}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",textAlign:"center"},children:"I grow, produce, or supply agricultural products"})]}),(0,un.jsxs)("button",{type:"button",onClick:()=>c(Wt(Wt({},l),{},{userType:"buyer"})),style:{padding:"1.5rem",border:"2px solid ".concat("buyer"===l.userType?"var(--accent-primary)":"var(--border-color)"),borderRadius:"12px",background:"buyer"===l.userType?"rgba(16, 185, 129, 0.1)":"var(--glass-bg)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[(0,un.jsx)(Sn,{size:32,style:{color:"buyer"===l.userType?"var(--accent-primary)":"var(--text-secondary)"}}),(0,un.jsx)("span",{style:{fontWeight:"600",color:"buyer"===l.userType?"var(--accent-primary)":"var(--text-primary)"},children:"Buyer/Business"}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",textAlign:"center"},children:"I purchase agricultural products for my business"})]})]}),h.userType&&(0,un.jsx)("div",{className:"error-message",children:h.userType})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:r("settings.username")}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(ea,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"text",name:"username",value:l.username,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},required:!0})]}),h.username&&(0,un.jsx)("div",{className:"error-message",children:h.username})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:r("settings.email")}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(ta,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"email",name:"email",value:l.email,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},required:!0})]}),h.email&&(0,un.jsx)("div",{className:"error-message",children:h.email})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:r("settings.phone")}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(ra,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},placeholder:"+91 98765 43210",required:!0})]}),h.phone&&(0,un.jsx)("div",{className:"error-message",children:h.phone})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:["farmer"===l.userType?"Farm/Organization Name":"Company/Business Name","farmer"===l.userType?" (Optional)":" *"]}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(na,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"text",name:"organization",value:l.organization,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},placeholder:"farmer"===l.userType?"e.g., Green Valley Farm":"e.g., Fresh Foods Pvt Ltd",required:"buyer"===l.userType})]}),h.organization&&(0,un.jsx)("div",{className:"error-message",children:h.organization})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:r("auth.password")}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(aa,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"password",name:"password",value:l.password,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},required:!0})]}),h.password&&(0,un.jsx)("div",{className:"error-message",children:h.password})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:r("auth.confirmPassword")}),(0,un.jsxs)("div",{style:{position:"relative"},children:[(0,un.jsx)(aa,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:p,className:"form-input",style:{paddingLeft:"3rem"},required:!0})]}),h.confirmPassword&&(0,un.jsx)("div",{className:"error-message",children:h.confirmPassword})]}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:i,children:i?"Processing...":"Continue to Verification"})]})]}),2===a&&(0,un.jsxs)(un.Fragment,{children:[(0,un.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,un.jsx)(Hn,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Verify Your Details"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"We've sent verification codes to your email and phone number"})]}),(0,un.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u.emailOTP&&u.phoneOTP?await(async()=>{try{o(!0);const e=await fetch("http://localhost:5000/api/otp/verify-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,phone:l.phone,emailOTP:u.emailOTP,phoneOTP:u.phoneOTP})}),t=await e.json();if(t.success)d(Wt(Wt({},u),{},{emailVerified:t.emailVerified,phoneVerified:t.phoneVerified})),s(3);else{const e={};t.emailVerified||(e.emailOTP=t.emailError||"Invalid email OTP"),t.phoneVerified||(e.phoneOTP=t.phoneError||"Invalid phone OTP"),f(e)}}catch(e){f({general:"Verification failed. Please try again."})}finally{o(!1)}})():f({general:"Please enter both OTPs"})},children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Email OTP"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,un.jsx)(ta,{size:16,style:{color:"var(--text-secondary)"}}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:l.email}),u.emailSent&&(0,un.jsx)(Xn,{size:16,style:{color:"var(--accent-primary)"}})]}),(0,un.jsx)("input",{type:"text",name:"emailOTP",value:u.emailOTP,onChange:m,className:"form-input",placeholder:"Enter 6-digit code",maxLength:"6",required:!0}),h.emailOTP&&(0,un.jsx)("div",{className:"error-message",children:h.emailOTP}),!u.emailSent&&(0,un.jsx)("button",{type:"button",onClick:g,className:"btn btn-outline",style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:"Resend Email OTP"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Phone OTP"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,un.jsx)(ra,{size:16,style:{color:"var(--text-secondary)"}}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:l.phone}),u.phoneSent&&(0,un.jsx)(Xn,{size:16,style:{color:"var(--accent-primary)"}})]}),(0,un.jsx)("input",{type:"text",name:"phoneOTP",value:u.phoneOTP,onChange:m,className:"form-input",placeholder:"Enter 6-digit code",maxLength:"6",required:!0}),h.phoneOTP&&(0,un.jsx)("div",{className:"error-message",children:h.phoneOTP}),!u.phoneSent&&(0,un.jsx)("button",{type:"button",onClick:y,className:"btn btn-outline",style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:"Resend SMS OTP"})]}),h.general&&(0,un.jsx)("div",{className:"error-message",children:h.general}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,un.jsx)("button",{type:"button",onClick:()=>s(1),className:"btn btn-secondary",style:{flex:1},children:"Back"}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",style:{flex:1},disabled:i,children:i?"Verifying...":"Verify OTPs"})]})]})]}),3===a&&(0,un.jsxs)(un.Fragment,{children:[(0,un.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,un.jsx)(Xn,{size:64,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Verification Complete!"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Your email and phone number have been verified successfully"})]}),(0,un.jsxs)("div",{style:{background:"var(--glass-bg)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,un.jsx)("h3",{style:{marginBottom:"1rem"},children:"Account Summary"}),(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",fontSize:"0.875rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)("span",{children:"Account Type:"}),(0,un.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:"farmer"===l.userType?(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Zn,{size:14,style:{color:"var(--accent-primary)"}}),"Farmer/Producer"]}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(Sn,{size:14,style:{color:"var(--accent-primary)"}}),"Buyer/Business"]})})]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)("span",{children:"Username:"}),(0,un.jsx)("span",{children:l.username})]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)("span",{children:"Email:"}),(0,un.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.email,(0,un.jsx)(Xn,{size:14,style:{color:"var(--accent-primary)"}})]})]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)("span",{children:"Phone:"}),(0,un.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.phone,(0,un.jsx)(Xn,{size:14,style:{color:"var(--accent-primary)"}})]})]}),l.organization&&(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,un.jsx)("span",{children:"farmer"===l.userType?"Farm/Organization:":"Company/Business:"}),(0,un.jsx)("span",{children:l.organization})]})]})]}),(0,un.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{o(!0);const r=await t({username:l.username,email:l.email,password:l.password,organization:l.organization,phone:l.phone,role:"farmer"===l.userType?"producer":"buyer"});r.success?e("/dashboard"):f({general:r.error})}catch(n){f({general:n.message})}finally{o(!1)}},children:[h.general&&(0,un.jsx)("div",{className:"error-message",children:h.general}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:i,children:i?"Creating Account...":"Complete Registration"})]})]}),(0,un.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:(0,un.jsxs)("p",{style:{color:"var(--text-secondary)"},children:[r("auth.alreadyHaveAccount")," ",(0,un.jsx)(Re,{to:"/login",style:{color:"var(--accent-primary)",textDecoration:"none"},children:r("auth.signInHere")})]})})]})})},ia=jn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oa=jn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),la=jn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ca=()=>{const{user:e}=hn(),{t:t}=bn(),[r,a]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(""),c=(0,n.useCallback)(async()=>{try{const e=await cn.get("/api/batches");a(e.data)}catch(e){l(t("common.error"))}finally{i(!1)}},[t]);(0,n.useEffect)(()=>{c()},[c]);const u=e=>new Date(e).toLocaleDateString();return s?(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}})}):(0,un.jsx)("div",{style:{padding:"2rem 0"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsxs)("h1",{className:"text-3xl font-bold",children:[t("dashboard.welcome"),", ",e.username,"!"]}),(0,un.jsx)("p",{className:"text-gray-600 mt-2",children:t("dashboard.manageBatches")})]}),(0,un.jsxs)(Re,{to:"/create-batch",className:"btn btn-primary",children:[(0,un.jsx)(Pn,{size:20}),t("dashboard.createNewBatch")]})]}),o&&(0,un.jsx)("div",{className:"alert alert-error mb-6",children:o}),(0,un.jsxs)("div",{className:"grid grid-3 mb-8",children:[(0,un.jsxs)("div",{className:"card-glass text-center",children:[(0,un.jsx)(_n,{size:32,style:{color:"var(--accent-primary)",margin:"0 auto 0.5rem"}}),(0,un.jsx)("h3",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:r.length}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:t("dashboard.totalBatches")})]}),(0,un.jsxs)("div",{className:"card-glass text-center",children:[(0,un.jsx)(ia,{size:32,style:{color:"var(--accent-primary)",margin:"0 auto 0.5rem"}}),(0,un.jsx)("h3",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:r.reduce((e,t)=>e+(t.scan_count||0),0)}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:t("dashboard.qrScans")})]}),(0,un.jsxs)("div",{className:"card-glass text-center",children:[(0,un.jsx)(oa,{size:32,style:{color:"var(--accent-primary)",margin:"0 auto 0.5rem"}}),(0,un.jsx)("h3",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:r.filter(e=>{const t=new Date(e.harvest_date),r=new Date;return r.setDate(r.getDate()-30),t>=r}).length}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:t("dashboard.recentHarvests")})]})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t("dashboard.yourBatches")}),0===r.length?(0,un.jsxs)("div",{className:"text-center p-8",children:[(0,un.jsx)(_n,{size:64,style:{color:"var(--text-tertiary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-secondary)"},children:t("dashboard.noBatches")}),(0,un.jsx)("p",{style:{color:"var(--text-tertiary)",marginBottom:"1rem"},children:t("dashboard.createFirst")}),(0,un.jsxs)(Re,{to:"/create-batch",className:"btn btn-primary",children:[(0,un.jsx)(Pn,{size:16}),t("dashboard.createFirstBatch")]})]}):(0,un.jsx)("div",{className:"grid gap-4",children:r.map(e=>(0,un.jsxs)("div",{className:"card",style:{transition:"all 0.2s"},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("h3",{className:"text-lg font-semibold",children:e.product_name}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:e.product_type})]}),(0,un.jsxs)("span",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--accent-primary)",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.875rem",fontWeight:"500"},children:[e.quantity," ",e.unit]})]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(oa,{size:14}),u(e.harvest_date)]}),e.location&&(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(la,{size:14}),e.location]})]}),e.description&&(0,un.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"1rem"},children:e.description}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,un.jsxs)("span",{style:{fontSize:"0.875rem",color:"var(--text-tertiary)"},children:[t("dashboard.created")," ",u(e.created_at)]}),(0,un.jsxs)(Re,{to:"/batch/".concat(e.id),className:"btn btn-outline",style:{padding:"0.5rem 1rem"},children:[(0,un.jsx)(ia,{size:16}),t("dashboard.viewDetails")]})]})]},e.id))})]})]})})},ua=jn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),da=jn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ha=jn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fa=e=>{let{onPhotoSelect:t,currentPhoto:r,label:a="Upload Photo"}=e;const[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(r||null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),d=e=>{if(e&&e.type.startsWith("image/")){const r=new FileReader;r.onload=e=>{l(e.target.result)},r.readAsDataURL(e),t(e)}};return(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:a}),o?(0,un.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,un.jsx)("img",{src:o,alt:"Preview",style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"12px",border:"1px solid var(--border-color)"}}),(0,un.jsx)("button",{type:"button",onClick:()=>{l(null),t(null),c.current&&(c.current.value=""),u.current&&(u.current.value="")},style:{position:"absolute",top:"8px",right:"8px",background:"rgba(239, 68, 68, 0.9)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,un.jsx)(Dn,{size:12})})]}):(0,un.jsxs)("div",{className:"photo-upload-area ".concat(s?"dragover":""),onDrop:e=>{e.preventDefault(),i(!1);const t=Array.from(e.dataTransfer.files);t.length>0&&d(t[0])},onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:e=>{e.preventDefault(),i(!1)},onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.click()},children:[(0,un.jsx)(ua,{size:48,style:{color:"var(--text-tertiary)",marginBottom:"1rem"}}),(0,un.jsx)("p",{style:{marginBottom:"1rem",color:"var(--text-secondary)"},children:"Drag and drop an image here, or click to select"}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,un.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:e=>{var t;e.stopPropagation(),null===(t=c.current)||void 0===t||t.click()},children:[(0,un.jsx)(da,{size:16}),"Choose File"]}),(0,un.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:e=>{var t;e.stopPropagation(),null===(t=u.current)||void 0===t||t.click()},children:[(0,un.jsx)(ha,{size:16}),"Take Photo"]})]}),(0,un.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",marginTop:"0.5rem"},children:"Supports JPG, PNG, WebP (max 5MB)"})]}),(0,un.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&d(t)},style:{display:"none"}}),(0,un.jsx)("input",{ref:u,type:"file",accept:"image/*",capture:"environment",onChange:e=>{const t=e.target.files[0];t&&d(t)},style:{display:"none"}})]})},pa=jn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ma=jn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ga=e=>{let{message:t,type:r="success",duration:a=3e3,onClose:s}=e;const[i,o]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=setTimeout(()=>{o(!1),setTimeout(s,300)},a);return()=>clearTimeout(e)},[a,s]);return(0,un.jsxs)("div",{className:"toast ".concat((()=>{switch(r){case"success":default:return"toast-success";case"error":return"toast-error";case"warning":return"toast-warning"}})()," ").concat(i?"toast-show":"toast-hide"),children:[(0,un.jsxs)("div",{className:"toast-content",children:[(()=>{switch(r){case"success":default:return(0,un.jsx)(Xn,{size:20});case"error":return(0,un.jsx)(pa,{size:20});case"warning":return(0,un.jsx)(ma,{size:20})}})(),(0,un.jsx)("span",{children:t})]}),(0,un.jsx)("button",{onClick:()=>{o(!1),setTimeout(s,300)},className:"toast-close",children:(0,un.jsx)(Dn,{size:16})})]})};function ya(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function va(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(Gl){s(Gl)}}function o(e){try{l(n.throw(e))}catch(Gl){s(Gl)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class ba extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class wa extends ba{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xa extends ba{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ka extends ba{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ja;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(ja||(ja={}));class Sa{constructor(e){let{headers:t={},customFetch:r,region:n=ja.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return va(this,arguments,void 0,function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var n;let a,s;try{const{headers:i,method:o,body:l,signal:c,timeout:u}=r;let d={},{region:h}=r;h||(h=t.region);const f=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h)),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):"string"===typeof l?(d["Content-Type"]="text/plain",p=l):"undefined"!==typeof FormData&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;let m=c;u&&(s=new AbortController,a=setTimeout(()=>s.abort(),u),c?(m=s.signal,c.addEventListener("abort",()=>s.abort())):m=s.signal);const g=yield t.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),i),body:p,signal:m}).catch(e=>{throw new wa(e)}),y=g.headers.get("x-relay-error");if(y&&"true"===y)throw new xa(g);if(!g.ok)throw new ka(g);let v,b=(null!==(n=g.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return v="application/json"===b?yield g.json():"application/octet-stream"===b||"application/pdf"===b?yield g.blob():"text/event-stream"===b?g:"multipart/form-data"===b?yield g.formData():yield g.text(),{data:v,error:null,response:g}}catch(i){return{data:null,error:i,response:i instanceof ka||i instanceof xa?i.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var _a=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ea=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,n=null,a=null,s=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==r.method){var c;const t=await e.text();""===t||(n="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null===(c=r.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(o=r.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(n)&&(n.length>1?(t={code:"PGRST116",details:"Results contain ".concat(n.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},n=null,a=null,s=406,i="Not Acceptable"):n=1===n.length?n[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(n=[],t=null,s=200,i="OK")}catch(d){404===e.status&&""===a?(s=204,i="No Content"):t={message:a}}if(t&&r.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,s=200,i="OK"),t&&r.shouldThrowOnError)throw new _a(t)}return{error:t,data:n,count:a,status:s,statusText:i}});return this.shouldThrowOnError||(n=n.catch(e=>{var t;let r="";const n=null===e||void 0===e?void 0:e.cause;if(n){var a,s,i,o;const t=null!==(a=null===n||void 0===n?void 0:n.message)&&void 0!==a?a:"",l=null!==(s=null===n||void 0===n?void 0:n.code)&&void 0!==s?s:"";r="".concat(null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),r+="\n\nCaused by: ".concat(null!==(o=null===n||void 0===n?void 0:n.name)&&void 0!==o?o:"Error",": ").concat(t),l&&(r+=" (".concat(l,")")),(null===n||void 0===n?void 0:n.stack)&&(r+="\n".concat(n.stack))}else{var l;r=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:r,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},Ta=class extends Ea{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),s="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const Na=new RegExp("[,()]");var Ca=class extends Ta{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&Na.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}notIn(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&Na.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}},Oa=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,t){const{head:r=!1,count:n}=null!==t&&void 0!==t?t:{},a=r?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer","count=".concat(n)),new Ca({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;if(t&&this.headers.append("Prefer","count=".concat(t)),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new Ca({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;if(this.headers.append("Prefer","resolution=".concat(r?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer","count=".concat(n)),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new Ca({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return t&&this.headers.append("Prefer","count=".concat(t)),new Ca({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new Ca({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},Pa=class e{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new Oa(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:n=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let i;const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||n?(i=r?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(i="POST",l=t);const c=new Headers(this.headers);return a&&c.set("Prefer","count=".concat(a)),new Ca({method:i,url:o,headers:c,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}};const Ra=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(r," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(r," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Aa="realtime-js/".concat("2.89.0"),Ia="1.0.0",Da=Ia,za=1e4;var La,Ba,Ma,Ua,Fa,qa;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(La||(La={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ba||(Ba={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Ma||(Ma={})),function(e){e.websocket="websocket"}(Ua||(Ua={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Fa||(Fa={}));class Wa{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;const n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},a=(new TextEncoder).encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var n,a;const s=e.topic,i=null!==(n=e.ref)&&void 0!==n?n:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const r=JSON.parse(e),[n,a,s,i,o]=r;return t({join_ref:n,ref:a,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=r.decode(e.slice(o,o+n));o+=n;const c=r.decode(e.slice(o,o+a));o+=a;const u=r.decode(e.slice(o,o+s));o+=s;const d=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[r]=e;return t.includes(r)})):{}}}class Ha{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(qa||(qa={}));const Va=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((r,a)=>(r[a]=Ka(a,e,t,n),r),{}):{}},Ka=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=r[e];return s&&!n.includes(s)?Ga(s,i):Ja(i)},Ga=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Xa(t,r)}switch(e){case qa.bool:return Qa(t);case qa.float4:case qa.float8:case qa.int2:case qa.int4:case qa.int8:case qa.numeric:case qa.oid:return $a(t);case qa.json:case qa.jsonb:return Ya(t);case qa.timestamp:return Za(t);case qa.abstime:case qa.date:case qa.daterange:case qa.int4range:case qa.int8range:case qa.money:case qa.reltime:case qa.text:case qa.time:case qa.timestamptz:case qa.timetz:case qa.tsrange:case qa.tstzrange:default:return Ja(t)}},Ja=e=>e,Qa=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$a=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ya=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Xa=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(a){n=s?s.split(","):[]}return n.map(e=>Ga(t,e))}return e},Za=e=>"string"===typeof e?e.replace(" ","T"):e,es=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ts{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:za;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rs,ns,as,ss;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(rs||(rs={}));class is{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=is.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=is.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ns||(ns={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(as||(as={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ss||(ss={}));class os{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;var n,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ba.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ts(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new Ha(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ba.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Ba.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Ba.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Ba.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Ba.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new is(this),this.broadcastEndpointURL=es(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ba.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],c=!!this.bindings[as.PRESENCE]&&this.bindings[as.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ss.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ss.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=r&&r[n];if(!(u&&u.event===i&&os.isFilterValueEqual(u.schema,o)&&os.isFilterValueEqual(u.table,l)&&os.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=Ba.errored,void(null===e||void 0===e||e(ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(ss.SUBSCRIBED))}null===e||void 0===e||e(ss.SUBSCRIBED)}).receive("error",t=>{this.state=Ba.errored,null===e||void 0===e||e(ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ba.joined&&e===as.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ba.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new ts(this,Ma.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ba.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new ts(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Ma;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(u,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===Ba.closed}_isJoined(){return this.state===Ba.joined}_isJoining(){return this.state===Ba.joining}_isLeaving(){return this.state===Ba.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&os.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ma.close,{},e)}_onError(e){this._on(Ma.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ba.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Va(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Va(e.columns,e.old_record)),t}}const ls=()=>{},cs=25e3,us=10,ds=100,hs=[1e3,2e3,5e3,1e4];class fs{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=za,this.transport=null,this.heartbeatIntervalMs=cs,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ls,this.ref=0,this.reconnectTimer=null,this.vsn=Da,this.logger=ls,this.conn=null,this.sendBuffer=[],this.serializer=new Wa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Ua.websocket),this.httpEndpoint=es(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ra.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return Fa.Connecting;case La.open:return Fa.Open;case La.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new os("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Gl){this.log("error","error in heartbeat callback",Gl)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ds)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Gl){this.log("error","error in heartbeat callback",Gl)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Gl){this.log("error","error in heartbeat callback",Gl)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(Gl){this.log("error","error in heartbeat callback",Gl)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,s=a?"(".concat(a,")"):"",i=n.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(r," ").concat(s).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===La.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===La.open||this.conn.readyState===La.connecting)try{this.conn.close()}catch(Gl){this.log("error","Error closing connection",Gl)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ma.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=!1;if(t)e=t,r=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(Gl){this.log("error","Error fetching access token from callback",Gl),e=this.accessTokenValue}else e=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:Aa};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(Ma.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(Gl){this.log("error","error in ".concat(e," callback"),Gl)}})}catch(Gl){this.log("error","error triggering ".concat(e," callbacks"),Gl)}}_setupReconnectionTimer(){this.reconnectTimer=new Ha(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},us)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,s,i,o,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:za,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:cs,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:ls,this.vsn=null!==(o=null===e||void 0===e?void 0:e.vsn)&&void 0!==o?o:Da,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>hs[e-1]||1e4,this.vsn){case Ia:this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var ps=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(r=t.icebergType)||void 0===r?void 0:r.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function ms(e){var t;const r=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:n,path:a,query:s,body:i,headers:o}=t;const l=function(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))void 0!==s&&n.searchParams.set(a,s);return n.toString()}(e.baseUrl,a,s),c=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),u=await r(l,{method:n,headers:Wt(Wt(Wt({},i?{"Content-Type":"application/json"}:{}),c),o),body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){var p;const e=h?f:void 0,t=null===e||void 0===e?void 0:e.error;throw new ps(null!==(p=null===t||void 0===t?void 0:t.message)&&void 0!==p?p:"Request failed with status ".concat(u.status),{status:u.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:u.status,headers:u.headers,data:f}}}}function gs(e){return e.join("\x1f")}var ys=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:gs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(gs(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(gs(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(gs(e.namespace))}),!0}catch(t){if(t instanceof ps&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ps&&409===r.status)return;throw r}}};function vs(e){return e.join("\x1f")}var bs=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables"),body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){var r;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(r=null===t||void 0===t?void 0:t.purge)&&void 0!==r&&r)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(vs(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(r){if(r instanceof ps&&404===r.status)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ps&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ws=class{constructor(e){var t;let r="v1";e.catalogName&&(r+="/".concat(e.catalogName));const n=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=ms({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new ys(this.client,r),this.tableOps=new bs(this.client,r,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var xs=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ks(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var js=class extends xs{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ss=class extends xs{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const _s=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Es=e=>{if(Array.isArray(e))return e.map(e=>Es(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Es(n)}),t};function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ns(e){var t=function(e,t){if("object"!=Ts(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ts(t)?t:t+""}function Cs(e,t,r){return(t=Ns(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(r),!0).forEach(function(t){Cs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Rs=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},As=async(e,t,r)=>{e instanceof await Response&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new js(Rs(r),n,a))}).catch(e=>{t(new Ss(Rs(e),e))}):t(new Ss(Rs(e),e))},Is=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Ps({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Ps(Ps({},a),r)):a};async function Ds(e,t,r,n,a,s){return new Promise((i,o)=>{e(r,Is(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>As(e,o,n))})}async function zs(e,t,r,n){return Ds(e,"GET",t,r,n)}async function Ls(e,t,r,n,a){return Ds(e,"POST",t,n,a,r)}async function Bs(e,t,r,n,a){return Ds(e,"PUT",t,n,a,r)}async function Ms(e,t,r,n,a){return Ds(e,"DELETE",t,n,a,r)}var Us=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ks(e))return{data:null,error:e};throw e}}};let Fs;Fs=Symbol.toStringTag;var qs=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Fs]="BlobDownloadBuilder",this.promise=null}asStream(){return new Us(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ks(e))return{data:null,error:e};throw e}}};const Ws={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Vs=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=_s(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let s;const i=Ps(Ps({},Hs),n);let o=Ps(Ps({},a.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=r,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&s instanceof ReadableStream||s&&"object"===typeof s&&"pipe"in s&&"function"===typeof s.pipe)&&!i.duplex&&(i.duplex="half")),(null===n||void 0===n?void 0:n.headers)&&(o=Ps(Ps({},o),n.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?Bs:Ls)(a.fetch,"".concat(a.url,"/object/").concat(u),s,Ps({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(ks(s))return{data:null,error:s};throw s}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+"/object/upload/sign/".concat(i));o.searchParams.set("token",t);try{let e;const t=Ps({upsert:Hs.upsert},n),i=Ps(Ps({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType),{data:{path:s,fullPath:(await Bs(a.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(ks(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ps({},r.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const s=await Ls(r.fetch,"".concat(r.url,"/object/upload/sign/").concat(n),{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new xs("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ls(n.fetch,"".concat(n.url,"/object/move"),{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ls(n.fetch,"".concat(n.url,"/object/copy"),{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),s=await Ls(n.fetch,"".concat(n.url,"/object/sign/").concat(a),Ps({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:n.headers});const i=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return s={signedUrl:encodeURI("".concat(n.url).concat(s.signedURL).concat(i))},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Ls(n.fetch,"".concat(n.url,"/object/sign/").concat(n.bucketId),{expiresIn:t,paths:e},{headers:n.headers}),s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:a.map(e=>Ps(Ps({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(n.url).concat(e.signedURL).concat(s)):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}}download(e,t){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"",s=this._getFinalPath(e);return new qs(()=>zs(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Es(await zs(t.fetch,"".concat(t.url,"/object/info/").concat(r),{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await async function(e,t,r,n){return Ds(e,"HEAD",t,Ps(Ps({},r),{},{noResolveJson:!0}),n)}(t.fetch,"".concat(t.url,"/object/").concat(r),{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ks(n)&&n instanceof Ss){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(o))}}}async remove(e){var t=this;try{return{data:await Ms(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ps(Ps(Ps({},Ws),t),{},{prefix:e||""});return{data:await Ls(n.fetch,"".concat(n.url,"/object/list/").concat(n.bucketId),a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ks(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ps({},e);return{data:await Ls(r.fetch,"".concat(r.url,"/object/list-v2/").concat(r.bucketId),n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const Ks="2.89.0",Gs={"X-Client-Info":"storage-js/".concat(Ks)};var Js=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);(null===n||void 0===n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ps(Ps({},Gs),t),this.fetch=_s(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await zs(t.fetch,"".concat(t.url,"/bucket").concat(r),{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await zs(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var r=this;try{return{data:await Ls(r.fetch,"".concat(r.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Bs(r.fetch,"".concat(r.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ks(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ls(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ms(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Qs=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ps(Ps({},Gs),t),this.fetch=_s(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ls(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&r.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&r.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&r.set("search",e.search);const n=r.toString(),a=n?"".concat(t.url,"/bucket?").concat(n):"".concat(t.url,"/bucket");return{data:await zs(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ms(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ks(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new xs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ws({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(e,t){const r=e[t];return"function"!==typeof r?r:async function(){try{for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return{data:await r.apply(e,a),error:null}}catch(i){if(n)throw i;return{data:null,error:i}}}}})}};const $s={"X-Client-Info":"storage-js/".concat(Ks),"Content-Type":"application/json"};var Ys=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xs(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}var Zs=class extends Ys{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ei=class extends Ys{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ti=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ni=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Ps({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ps(Ps({},a),r)):a};async function ai(e,t,r,n,a,s){return new Promise((i,o)=>{e(r,ni(t,n,a,s)).then(e=>{if(!e.ok)throw e;if(null===n||void 0===n?void 0:n.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>(async(e,t,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===r||void 0===r?void 0:r.noResolveJson)){const r=e.status||500,n=e;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||r+"";t(new Zs(ri(e),r,n))}).catch(()=>{const e=r+"";t(new Zs(n.statusText||"HTTP ".concat(r," error"),r,e))});else{const e=r+"";t(new Zs(n.statusText||"HTTP ".concat(r," error"),r,e))}}else t(new ei(ri(e),e))})(e,o,n))})}async function si(e,t,r,n,a){return ai(e,"POST",t,n,a,r)}var ii=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ps(Ps({},$s),t),this.fetch=ti(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await si(r.fetch,"".concat(r.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await si(r.fetch,"".concat(r.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xs(n))return{data:null,error:n};throw n}}},oi=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ps(Ps({},$s),t),this.fetch=ti(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await si(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:await si(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await si(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}},li=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ps(Ps({},$s),t),this.fetch=ti(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await si(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xs(r))return{data:null,error:r};throw r}}},ci=class extends li{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new ui(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},ui=class extends ii{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){return(()=>super.createIndex)().call(this,Ps(Ps({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Ps(Ps({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new di(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},di=class extends oi{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Ps(Ps({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Ps(Ps({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Ps(Ps({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Ps(Ps({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Ps(Ps({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},hi=class extends Js{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Vs(this.url,this.headers,e,this.fetch)}get vectors(){return new ci(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qs(this.url+"/iceberg",this.headers,this.fetch)}};const fi="2.89.0",pi=3e4,mi=9e4,gi={"X-Client-Info":"gotrue-js/".concat(fi)},yi="X-Supabase-Api-Version",vi={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},bi=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class wi extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function xi(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ki extends wi{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class ji extends wi{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Si extends wi{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class _i extends Si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ei extends Si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ti extends Si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ni extends Si{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ci extends Si{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oi extends Si{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pi extends Si{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ri(e){return xi(e)&&"AuthRetryableFetchError"===e.name}class Ai extends Si{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ii extends Si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zi=" \t\n\r=".split(""),Li=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zi.length;t+=1)e[zi[t].charCodeAt(0)]=-2;for(let t=0;t<Di.length;t+=1)e[Di[t].charCodeAt(0)]=t;return e})();function Bi(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Di[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Di[e]),t.queuedBits-=6}}function Mi(e,t,r){const n=Li[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ui(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)Mi(e.charCodeAt(i),a,s);return t.join("")}function Fi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function qi(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Fi(n,t)}}function Wi(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Mi(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Hi(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>Bi(e,r,n)),Bi(null,r,n),t.join("")}const Vi=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ki={tested:!1,writable:!1},Gi=()=>{if(!Vi())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Gl){return!1}if(Ki.tested)return Ki.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ki.tested=!0,Ki.writable=!0}catch(Gl){Ki.tested=!0,Ki.writable=!1}return Ki.writable};const Ji=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Qi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$i=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},Yi=async(e,t)=>{await e.removeItem(t)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Zi(e){const t=e.split(".");if(3!==t.length)throw new Ii("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bi.test(t[r]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(Ui(t[0])),payload:JSON.parse(Ui(t[1])),signature:Wi(t[2]),raw:{header:t[0],payload:t[1]}}}function eo(e){return("0"+e.toString(16)).substr(-2)}async function to(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,eo).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Qi(e,"".concat(t,"-code-verifier"),a);const s=await to(n);return[s,n===s?"plain":"s256"]}Xi.promiseConstructor=Promise;const no=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ao=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function so(e){if(!ao.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function io(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function oo(e){return JSON.parse(JSON.stringify(e))}const lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),co=[502,503,504];async function uo(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Pi(lo(e),0);if(co.includes(e.status))throw new Pi(lo(e),e.status);let n,a;try{n=await e.json()}catch(Gl){throw new ji(lo(Gl),Gl)}const s=function(e){const t=e.headers.get(yi);if(!t)return null;if(!t.match(no))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Gl){return null}}(e);if(s&&s.getTime()>=vi.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new Ai(lo(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new _i}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Ai(lo(n),e.status,n.weak_password.reasons);throw new ki(lo(n),e.status||500,a)}async function ho(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[yi]||(s[yi]=vi.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization="Bearer ".concat(n.jwt));const i=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(Gl){throw console.error(Gl),new Pi(lo(Gl),0)}o.ok||await uo(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(Gl){await uo(Gl)}}(e,t,r+o,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function fo(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function po(e){const t=fo(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function mo(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function go(e){return{data:e,error:null}}function yo(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=ya(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function vo(e){return e}const bo=["global","local","others"];class wo{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=Ji(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo[0];if(bo.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(bo.join(", ")));try{return await ho(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xi(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await ho(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:mo})}catch(r){if(xi(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=ya(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await ho(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:yo,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(xi(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ho(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:mo})}catch(t){if(xi(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ho(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:vo});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(xi(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){so(e);try{return await ho(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:mo})}catch(t){if(xi(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){so(e);try{return await ho(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:mo})}catch(r){if(xi(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];so(e);try{return await ho(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:mo})}catch(r){if(xi(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){so(e.userId);try{const{data:t,error:r}=await ho(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(xi(t))return{data:null,error:t};throw t}}async _deleteFactor(e){so(e.userId),so(e.id);try{return{data:await ho(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(xi(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await ho(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:vo});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(xi(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await ho(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xi(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ho(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xi(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ho(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(r){if(xi(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ho(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(xi(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ho(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(xi(t))return{data:null,error:t};throw t}}}function xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ko=!!(globalThis&&Gi()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class jo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class So extends jo{}async function _o(e,t,r){ko&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ko&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw ko&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new So('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(ko)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Gl){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Gl)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}ko&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{ko&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}function Eo(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function To(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class No extends Error{constructor(e){let{message:t,code:r,cause:n,name:a}=e;var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:n instanceof Error?n.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=r}}class Co extends No{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Oo(e){let{error:t,options:r}=e;var n,a,s;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new No({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=i.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new No({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===r.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new No({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new No({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new No({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new No({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new No({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new No({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Lo(e))return new No({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new No({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new No({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new No({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new No({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Po(e){let{error:t,options:r}=e;const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(r.signal instanceof AbortSignal)return new No({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new No({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Lo(e))return new No({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==e)return new No({message:'The RP ID "'.concat(n.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new No({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new No({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ro=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ao(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ya(e,["challenge","user","excludeCredentials"]),s=Wi(t).buffer,i=Object.assign(Object.assign({},r),{id:Wi(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Wi(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Io(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ya(e,["challenge","allowCredentials"]),a=Wi(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Wi(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Do(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Hi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Hi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function zo(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Hi(new Uint8Array(a.authenticatorData)),clientDataJSON:Hi(new Uint8Array(a.clientDataJSON)),signature:Hi(new Uint8Array(a.signature)),userHandle:a.userHandle?Hi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:null!==(t=r.authenticatorAttachment)&&void 0!==t?t:void 0}}function Lo(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bo(){var e,t;return!!(Vi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Mo={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uo={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fo(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];for(const i of a)if(i)for(const n in i){const a=i[n];if(void 0!==a)if(Array.isArray(a))r[n]=a;else if(t(a))r[n]=a;else if(e(a)){const t=r[n];e(t)?r[n]=Fo(t,a):r[n]=Fo(a)}else r[n]=a}return r}class qo{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:r,webauthn:n,friendlyName:a,signal:s}=e;try{const{data:e,error:i}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!e)return{data:null,error:i};const o=null!==s&&void 0!==s?s:Ro.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const n=function(e,t){return Fo(Mo,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Co("Browser returned unexpected credential type",t)}:{data:null,error:new Co("Empty credential response",t)}}catch(t){return{data:null,error:Oo({error:t,options:e})}}}({publicKey:n,signal:o});return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const n=function(e,t){return Fo(Uo,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Co("Browser returned unexpected credential type",t)}:{data:null,error:new Co("Empty credential response",t)}}catch(t){return{data:null,error:Po({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:n,signal:o}));return a?{data:{factorId:r,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(i){return xi(i)?{data:null,error:i}:{data:null,error:new ji("Unexpected error in challenge",i)}}}async _verify(e){let{challengeId:t,factorId:r,webauthn:n}=e;return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate(e,t){let{factorId:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!n)return{data:null,error:new wi("rpId is required for WebAuthn authentication")};try{if(!Bo())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:r,challengeId:e.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return xi(i)?{data:null,error:i}:{data:null,error:new ji("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:r,webauthn:{rpId:n=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!n)return{data:null,error:new wi("rpId is required for WebAuthn registration")};try{if(!Bo())return{data:null,error:new ji("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:r});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===r&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return xi(i)?{data:null,error:i}:{data:null,error:new ji("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Gl){"undefined"!==typeof self&&(self.globalThis=self)}}();const Wo={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ho(e,t,r){return await r()}const Vo={};class Ko{get jwks(){var e,t;return null!==(t=null===(e=Vo[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Vo[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Wo),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=Ko.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Ko.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Vi()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wo({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ji(a.fetch),this.lock=a.lock||Ho,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Vi()&&(null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=_o:this.lock=Ho,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qo(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Gi()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xo(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=xo(this.memoryStorage)),Vi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Gl){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Gl)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(fi,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(Vi()&&(t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(Gl){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Vi()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return xi(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xi(t)?this._returnResult({error:t}):this._returnResult({error:new ji("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await ho(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:fo}),{data:s,error:i}=a;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(xi(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ro(this.storage,this.storageKey)),a=await ho(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:fo})}else{if(!("phone"in e))throw new Ti("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await ho(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:fo})}}const{data:s,error:i}=a;if(i||!s)return await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:po})}else{if(!("phone"in e))throw new Ti("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:po})}}const{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const e=new Ei;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(xi(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,r,n,a,s,i,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(Vi())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const y=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Eo(v[0]);let w=null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(r))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(r));if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=Eo(e.address),p=u?"".concat(u,"://").concat(n):n,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let y="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(r).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(y+="\nExpiration Time: ".concat(a.toISOString())),o&&(y+="\nNot Before: ".concat(o.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(g,"\n").concat(y)}({domain:y.host,address:b,statement:p,uri:y.href,version:"1",chainId:w,nonce:null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[To(h),b]})}try{const{data:t,error:r}=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:fo});if(r)throw r;if(!t||!t.session||!t.user){const e=new Ei;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(p){if(xi(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Vi())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Hi(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:fo});if(r)throw r;if(!t||!t.session||!t.user){const e=new Ei;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(m){if(xi(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await $i(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new Oi;const{data:t,error:a}=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:fo});if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new Ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a})}catch(a){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:fo}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Ei;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(xi(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await ro(this.storage,this.storageKey));const{error:o}=await ho(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await ho(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new Ti("You must provide either an email or phone number.")}catch(i){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await ho(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:fo});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(n){if(xi(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,r,n,a,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ro(this.storage,this.storageKey));const l=await ho(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:go});return(null===(a=l.data)||void 0===a?void 0:a.url)&&Vi()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new _i;const{error:n}=await ho(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(xi(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await ho(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await ho(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new Ti("You must provide either an email or phone number and a type")}catch(t){if(xi(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Gl){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Gl){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await $i(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<mi;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await $i(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=io()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,r,n)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"===typeof r){const t=r.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,r,n)}return t.value||"string"!==typeof r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,n)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ho(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:mo}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ho(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:mo}):{data:{user:null},error:new _i}})}catch(t){if(xi(t))return function(e){return xi(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Yi(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new _i;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await ro(this.storage,this.storageKey));const{data:l,error:c}=await ho(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:mo});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _i;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=Zi(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(xi(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new _i;const{data:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(xi(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Vi())throw new Ni("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ni(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ci("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ni("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ci("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new Ni("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=pi&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(xi(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await $i(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({error:a});const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return xi(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await Yi(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await ro(this.storage,this.storageKey,!0));try{return await ho(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await ho(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return Vi()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null})}catch(r){if(xi(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:n,data:{session:a}}=t;if(n)throw n;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,u=await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(r=null===a||void 0===a?void 0:a.access_token)&&void 0!==r?r:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:fo}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Ei})}catch(n){if(await Yi(this.storage,"".concat(this.storageKey,"-code-verifier")),xi(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await ho(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ho(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:fo})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Ri(t)&&Date.now()+r-a<pi},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await r(a);if(!n(a,null,t))return void e(t)}catch(Gl){if(!n(a,Gl))return void t(Gl)}})()}))}catch(a){if(this._debug(t,"error",a),xi(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Vi()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await $i(this.storage,this.storageKey);if(a&&this.userStorage){let t=await $i(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Qi(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:io()}else if(a&&!a.user&&!a.user){const e=await $i(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Yi(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,a)):a.user=io()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<mi;if(this._debug(r,"session has".concat(s?"":" not"," expired with margin of ").concat(mi,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Ri(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new _i;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new Xi;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new _i;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),xi(a)){const e={data:null,error:a};return Ri(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(Gl){n.push(Gl)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Yi(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=oo(e);await Qi(this.storage,this.storageKey,n)}else{const e=oo(t);await Qi(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yi(this.storage,this.storageKey),await Yi(this.storage,this.storageKey+"-code-verifier"),await Yi(this.storage,this.storageKey+"-user"),this.userStorage&&await Yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vi()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Gl){console.error("removing visibilitychange callback failed",Gl)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/pi);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(pi,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(Gl){console.error("Auto refresh tick failed with error. This is likely a transient error.",Gl)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Gl){if(!(Gl.isAcquireTimeout||Gl instanceof jo))throw Gl;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vi()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await ro(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?this._returnResult({data:null,error:a}):await ho(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await ho(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Do(e.webauthn.credential_response):zo(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await ho(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await ho(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ao(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Io(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(a),"verified"===a.status&&n[a.factor_type].push(a);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Zi(r.access_token);let s=null;a.aal&&(s=a.aal);let i=s;(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:s,nextLevel:i,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ho(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new _i})})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new _i});const s=await ho(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Vi()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(xi(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!n)return this._returnResult({data:null,error:new _i});const s=await ho(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Vi()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(xi(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await ho(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new _i})})}catch(e){if(xi(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await ho(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _i})})}catch(t){if(xi(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await ho(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=Zi(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return qi(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Ii("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(xi(r))return this._returnResult({data:null,error:r});throw r}}}Ko.nextInstanceID={};const Go=Ko;let Jo="";Jo="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Qo={headers:{"X-Client-Info":"supabase-js-".concat(Jo,"/").concat("2.89.0")}},$o={schema:"public"},Yo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xo={};function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e){var t=function(e,t){if("object"!=Zo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zo(t)?t:t+""}function tl(e,t,r){return(t=el(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach(function(t){tl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const al=(e,t,r)=>{const n=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(r),a=Headers;return async(r,s)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),n(r,nl(nl({},s),{},{headers:l}))}};var sl=class extends Go{constructor(e){super(e)}},il=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((r=t).endsWith("/")?r:r+"/")}catch(n){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var r}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i="sb-".concat(s.hostname.split(".")[0],"-auth-token"),o=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:nl(nl({},l),a),auth:nl(nl({},c),s),realtime:nl(nl({},u),i),storage:{},global:nl(nl(nl({},d),o),{},{headers:nl(nl({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:$o,realtime:Xo,auth:nl(nl({},Yo),{},{storageKey:i}),global:Qo});var l;(this.storageKey=null!==(n=o.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=o.global.headers)&&void 0!==a?a:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=al(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(nl({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new Pa(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new hi(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new Sa(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,r=this;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return null!==(e=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:r.supabaseKey}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new sl({url:this.authUrl.href,headers:nl(nl({},f),t),storageKey:l,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,throwOnError:h,fetch:r,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new fs(this.realtimeUrl.href,nl(nl({},e),{},{params:nl(nl({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}};(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ol=((e,t,r)=>new il(e,t,r))("https://uqarhxopmffoyrcndccx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxYXJoeG9wbWZmb3lyY25kY2N4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMjYxNTksImV4cCI6MjA4MjYwMjE1OX0.eBxBSighvwEXFs2Xck93qY5sAQKb-GLqmQrRNQ054JQ"),ll=jn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),cl=jn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ul=jn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),dl=()=>{const{t:e}=bn(),[t,r]=(0,n.useState)({product_name:"",product_type:"",quantity:"",unit:"kg",harvest_date:"",location:"",description:"",price:""}),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(null),[h,f]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),[g,y]=(0,n.useState)("checking"),v=ae();(0,n.useEffect)(()=>{(async()=>{try{const e=await(async()=>{try{console.log("Testing Supabase connection...");const{data:e,error:t}=await ol.from("crops").select("count",{count:"exact",head:!0});return t?(console.error("Supabase connection error:",t),{success:!1,error:t.message,details:t}):(console.log("\u2705 Supabase connection successful!"),console.log("Crops table accessible, record count:",e),{success:!0,message:"Supabase connection established successfully",recordCount:e})}catch(i){return console.error("Connection test failed:",i),{success:!1,error:i.message,details:i}}})(),t=await(async()=>{try{console.log("Checking if crops table exists...");const{error:e}=await ol.from("crops").select("id").limit(1);return e&&"PGRST116"===e.code?(console.log("Crops table does not exist. Please create it manually in Supabase dashboard."),{success:!1,error:"Table does not exist",message:"Please create the crops table in your Supabase dashboard using the SQL provided in SUPABASE_SETUP.md"}):e?(console.error("Error checking table:",e),{success:!1,error:e.message,details:e}):(console.log("\u2705 Crops table exists and is accessible"),{success:!0,message:"Crops table is ready"})}catch(i){return console.error("Table check failed:",i),{success:!1,error:i.message,details:i}}})();if(e.success&&t.success)y("connected"),k("\u2705 Supabase connected successfully!","success");else{y("error");const r=e.error||t.error||"Connection failed";k("\u26a0\ufe0f Supabase: ".concat(r),"warning"),console.log("Supabase connection details:",{connectionTest:e,tableTest:t})}}catch(i){y("error"),k("\u274c Supabase connection failed","error"),console.error("Supabase connection error:",i)}})()},[]);const b=[{value:"Fruits",label:e("batch.fruits")},{value:"Vegetables",label:e("batch.vegetables")},{value:"Grains",label:e("batch.grains")},{value:"Herbs",label:e("batch.herbs")},{value:"Dairy",label:e("batch.dairy")},{value:"Meat",label:e("batch.meat")},{value:"Processed Food",label:e("batch.processedFood")},{value:"Other",label:e("batch.other")}],w=e=>{r(Wt(Wt({},t),{},{[e.target.name]:e.target.value}))},x=e=>{try{let n=Wt({},t),a=[];const s=e.match(/(\d+(?:\.\d+)?)\s*(kg|kgs|kilogram|kilograms|lbs|pounds|tons|ton|pieces|piece|boxes|box|bags|bag)/i);if(s){n.quantity=s[1];let e=s[2].toLowerCase();e.includes("kg")||e.includes("kilogram")?e="kg":e.includes("lb")||e.includes("pound")?e="lbs":e.includes("ton")?e="tons":e.includes("piece")?e="pieces":e.includes("box")?e="boxes":e.includes("bag")&&(e="bags"),n.unit=e,a.push("quantity","unit")}const i=["potato","potatoes","tomato","tomatoes","apple","apples","rice","wheat","onion","onions","carrot","carrots","cabbage","spinach","corn","maize"];for(const t of i)if(e.includes(t)){n.product_name=t.charAt(0).toUpperCase()+t.slice(1),a.push("product name");break}const o=e.match(/price\s*(\d+(?:\.\d+)?)\s*(?:rupees?|rs|\u20b9)?/i);o&&(n.price=o[1],a.push("price")),r(n),a.length>0?(k("Auto-filled: ".concat(a.join(", ")),"success"),m("\u2713 Parsed: ".concat(a.join(", ")))):(k('Could not parse voice input. Try saying: "50 kg of Potatoes price 20 rupees"',"warning"),m("\u274c Could not parse input"))}catch(i){console.error("Error parsing voice input:",i),k("Error parsing voice input","error"),m("\u274c Parsing error")}},k=function(e){d({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",id:Date.now()})};return(0,un.jsxs)("div",{style:{padding:"2rem 0",minHeight:"100vh"},children:[u&&(0,un.jsx)(ga,{message:u.message,type:u.type,onClose:()=>{d(null)}}),(0,un.jsxs)("div",{className:"container",style:{maxWidth:"700px"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},children:[(0,un.jsx)("button",{onClick:()=>v("/dashboard"),className:"btn btn-secondary",style:{padding:"0.5rem"},children:(0,un.jsx)(ll,{size:20})}),(0,un.jsxs)("div",{children:[(0,un.jsx)("h1",{className:"text-2xl font-bold",children:e("batch.createNew")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:e("batch.registerNew")})]})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("div",{className:"text-center mb-6",children:[(0,un.jsx)("div",{className:"float-animation",children:(0,un.jsx)(_n,{size:48,style:{color:"var(--accent-primary)",margin:"0 auto 1rem"}})}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[(0,un.jsx)(qn,{size:20,style:{color:"var(--accent-primary)"}}),(0,un.jsx)("span",{style:{color:"var(--text-secondary)"},children:e("batch.aiEnhanced")})]}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",color:"connected"===g?"#22c55e":"error"===g?"#ef4444":"#f59e0b"},children:[(0,un.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"connected"===g?"#22c55e":"error"===g?"#ef4444":"#f59e0b",animation:"checking"===g?"pulse 1.5s infinite":"none"}}),(0,un.jsxs)("span",{children:["Supabase: ","connected"===g?"Connected":"error"===g?"Disconnected":"Connecting..."]})]})]}),i&&(0,un.jsx)("div",{className:"alert alert-error",children:i}),l&&(0,un.jsx)("div",{className:"alert alert-success",children:l}),(0,un.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),o(""),c(""),s(!0);try{const{data:r,error:n}=await ol.from("crops").insert([{product_name:t.product_name,product_type:t.product_type,quantity:parseFloat(t.quantity),unit:t.unit,harvest_date:t.harvest_date||null,location:t.location,description:t.description,price:t.price?parseFloat(t.price):null,created_at:(new Date).toISOString()}]).select();n?(console.error("Supabase error:",n),k("Supabase save failed, saving locally...","warning")):(console.log("Saved to Supabase:",r),k("Successfully saved to Supabase!","success"));const a=await cn.post("/api/batches",t);c(e("batch.success")),k("Batch created successfully!","success"),setTimeout(()=>{v("/batch/".concat(a.data.batch.id))},2e3)}catch(i){var n,a;console.error("Error creating batch:",i);const r=(null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||e("common.error");o(r),k(r,"error")}finally{s(!1)}},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem",padding:"1rem",background:"rgba(var(--accent-primary-rgb), 0.05)",borderRadius:"12px",border:"1px solid rgba(var(--accent-primary-rgb), 0.1)"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem",fontWeight:"600"},children:"\ud83c\udfa4 AI Voice Auto-Fill"}),(0,un.jsx)("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:'Say: "50 kg of Potatoes price 20 rupees"'})]}),(0,un.jsxs)("button",{type:"button",onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void k("Voice recognition is not supported in this browser","error");const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.continuous=!1,e.interimResults=!1,e.lang="en-US",f(!0),m('Listening... Say something like "50 kg of Potatoes price 20 rupees"'),e.onstart=()=>{console.log("Voice recognition started")},e.onresult=e=>{const t=e.results[0][0].transcript.toLowerCase();console.log("Voice input:",t),x(t)},e.onerror=e=>{console.error("Voice recognition error:",e.error),f(!1),m(""),k("Voice recognition error. Please try again.","error")},e.onend=()=>{f(!1),m("")},e.start()},className:"mic-button ".concat(h?"listening":""),disabled:h,title:"Click to start voice recognition",children:[h?(0,un.jsx)(cl,{size:20,color:"white"}):(0,un.jsx)(ul,{size:20,color:"white"}),h&&(0,un.jsx)("div",{className:"listening-indicator"})]})]}),p&&(0,un.jsxs)("div",{className:"voice-status ".concat(h?"listening":""),children:[(0,un.jsx)(qn,{size:16}),(0,un.jsx)("span",{children:p})]}),(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:[e("batch.productName")," *"]}),(0,un.jsx)("input",{type:"text",name:"product_name",value:t.product_name,onChange:w,className:"form-input",placeholder:"\u091c\u0948\u0938\u0947: \u091c\u0948\u0935\u093f\u0915 \u091f\u092e\u093e\u091f\u0930",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:[e("batch.productType")," *"]}),(0,un.jsxs)("select",{name:"product_type",value:t.product_type,onChange:w,className:"form-input",required:!0,children:[(0,un.jsx)("option",{value:"",children:e("batch.selectType")}),b.map(e=>(0,un.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:[e("batch.quantity")," *"]}),(0,un.jsx)("input",{type:"number",name:"quantity",value:t.quantity,onChange:w,className:"form-input",placeholder:"\u091c\u0948\u0938\u0947: 100",min:"0",step:"0.01",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:[e("batch.unit")," *"]}),(0,un.jsx)("select",{name:"unit",value:t.unit,onChange:w,className:"form-input",required:!0,children:["kg","lbs","tons","pieces","boxes","bags"].map(e=>(0,un.jsx)("option",{value:e,children:e},e))})]})]}),(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsxs)("label",{className:"form-label",children:["Price (\u20b9 per ",t.unit,")"]}),(0,un.jsx)("input",{type:"number",name:"price",value:t.price,onChange:w,className:"form-input",placeholder:"\u091c\u0948\u0938\u0947: 25",min:"0",step:"0.01"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:e("batch.harvestDate")}),(0,un.jsx)("input",{type:"date",name:"harvest_date",value:t.harvest_date,onChange:w,className:"form-input"})]})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:e("batch.location")}),(0,un.jsx)("input",{type:"text",name:"location",value:t.location,onChange:w,className:"form-input",placeholder:"\u091c\u0948\u0938\u0947: \u0916\u0947\u0924 A, \u092a\u0902\u091c\u093e\u092c"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:e("batch.description")}),(0,un.jsx)("textarea",{name:"description",value:t.description,onChange:w,className:"form-input form-textarea",placeholder:"\u0907\u0938 \u092c\u0948\u091a \u0915\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902 \u0905\u0924\u093f\u0930\u093f\u0915\u094d\u0924 \u0935\u093f\u0935\u0930\u0923...",rows:"4"})]}),(0,un.jsx)(fa,{onPhotoSelect:()=>{},label:e("batch.photo")}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"2rem"},children:[(0,un.jsx)("button",{type:"button",onClick:()=>v("/dashboard"),className:"btn btn-secondary",children:e("batch.cancel")}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?(0,un.jsx)("div",{className:"loading"}):(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(qn,{size:16}),e("batch.create")]})})]})]})]})]})]})};var hl=r(245);const fl=jn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),pl=jn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ml=()=>{const{id:e}=se(),t=ae(),[r,a]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0),[o,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)({event_type:"",description:"",location:"",photo:null}),[f,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m()},[e]);const m=async()=>{try{const t=await cn.get("/api/batches/".concat(e));a(t.data)}catch(o){l("Failed to fetch batch details")}finally{i(!1)}},g=e=>new Date(e).toLocaleString();return s?(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}})}):o||!r?(0,un.jsx)("div",{style:{padding:"2rem 0"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsx)("div",{className:"alert alert-error",children:o||"Batch not found"}),(0,un.jsxs)("button",{onClick:()=>t("/dashboard"),className:"btn btn-secondary mt-4",children:[(0,un.jsx)(ll,{size:16}),"Back to Dashboard"]})]})}):(0,un.jsx)("div",{style:{padding:"2rem 0"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},children:[(0,un.jsx)("button",{onClick:()=>t("/dashboard"),className:"btn btn-secondary",style:{padding:"0.5rem"},children:(0,un.jsx)(ll,{size:20})}),(0,un.jsxs)("div",{children:[(0,un.jsx)("h1",{className:"text-2xl font-bold",children:r.product_name}),(0,un.jsxs)("p",{className:"text-gray-600",children:[r.product_type," \u2022 ",r.quantity," ",r.unit]})]})]}),(0,un.jsxs)("div",{className:"grid grid-2 mb-8",children:[(0,un.jsxs)("div",{className:"card",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Batch Information"}),(0,un.jsxs)("div",{className:"grid gap-4",children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Product Name"}),(0,un.jsx)("p",{className:"font-semibold",children:r.product_name})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Type"}),(0,un.jsx)("p",{children:r.product_type})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Quantity"}),(0,un.jsxs)("p",{children:[r.quantity," ",r.unit]})]}),r.harvest_date&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Harvest Date"}),(0,un.jsx)("p",{children:new Date(r.harvest_date).toLocaleDateString()})]}),r.location&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Location"}),(0,un.jsx)("p",{children:r.location})]}),r.description&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,un.jsx)("p",{children:r.description})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Created"}),(0,un.jsx)("p",{children:g(r.created_at)})]})]})]}),(0,un.jsxs)("div",{className:"card text-center",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"QR Code"}),(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:(0,un.jsx)(hl.Ay,{id:"qr-code",value:r.qr_code,size:200,style:{border:"1px solid #e2e8f0",padding:"1rem"}})}),(0,un.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Buyers can scan this code to verify your product"}),(0,un.jsxs)("button",{onClick:()=>{const e=document.getElementById("qr-code"),t=(new XMLSerializer).serializeToString(e),n=document.createElement("canvas"),a=n.getContext("2d"),s=new Image;s.onload=()=>{n.width=s.width,n.height=s.height,a.drawImage(s,0,0);const e=n.toDataURL("image/png"),t=document.createElement("a");t.download="".concat(r.product_name,"-QR.png"),t.href=e,t.click()},s.src="data:image/svg+xml;base64,"+btoa(t)},className:"btn btn-outline",children:[(0,un.jsx)(fl,{size:16}),"Download QR Code"]})]})]}),(0,un.jsxs)("div",{className:"card",children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,un.jsx)("h2",{className:"text-xl font-semibold",children:"Supply Chain Events"}),(0,un.jsxs)("button",{onClick:()=>u(!0),className:"btn btn-primary",children:[(0,un.jsx)(Pn,{size:16}),"Add Event"]})]}),c&&(0,un.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1.5rem",background:"#f8fafc"},children:[(0,un.jsx)("h3",{className:"font-semibold mb-4",children:"Add New Event"}),(0,un.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(!0);try{const t=new FormData;t.append("event_type",d.event_type),t.append("description",d.description),t.append("location",d.location),d.photo&&t.append("photo",d.photo),await cn.post("/api/batches/".concat(e,"/events"),t,{headers:{"Content-Type":"multipart/form-data"}}),h({event_type:"",description:"",location:"",photo:null}),u(!1),m()}catch(o){l("Failed to add event")}finally{p(!1)}},children:[(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Event Type *"}),(0,un.jsxs)("select",{value:d.event_type,onChange:e=>h(Wt(Wt({},d),{},{event_type:e.target.value})),className:"form-input",required:!0,children:[(0,un.jsx)("option",{value:"",children:"Select type"}),["Processing","Quality Check","Packaging","Storage","Transport","Certification","Other"].map(e=>(0,un.jsx)("option",{value:e,children:e},e))]})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Location"}),(0,un.jsx)("input",{type:"text",value:d.location,onChange:e=>h(Wt(Wt({},d),{},{location:e.target.value})),className:"form-input",placeholder:"Event location"})]})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Description *"}),(0,un.jsx)("textarea",{value:d.description,onChange:e=>h(Wt(Wt({},d),{},{description:e.target.value})),className:"form-input form-textarea",placeholder:"Describe what happened...",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Photo (optional)"}),(0,un.jsx)("input",{type:"file",accept:"image/*",onChange:e=>h(Wt(Wt({},d),{},{photo:e.target.files[0]})),className:"form-input"})]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[(0,un.jsx)("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",children:"Cancel"}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?(0,un.jsx)("div",{className:"loading"}):"Add Event"})]})]})]}),r.events&&r.events.length>0?(0,un.jsx)("div",{className:"grid gap-4",children:r.events.map((e,t)=>(0,un.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",position:"relative"},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("h4",{className:"font-semibold text-green-600",children:e.event_type}),(0,un.jsx)("p",{className:"text-gray-600",children:e.description})]}),(0,un.jsx)("span",{className:"text-sm text-gray-500",children:g(e.timestamp)})]}),e.location&&(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:[(0,un.jsx)(la,{size:14}),e.location]}),e.photo_url&&(0,un.jsx)("div",{style:{marginTop:"1rem"},children:(0,un.jsx)("img",{src:e.photo_url,alt:"Event photo",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"0.5rem",border:"1px solid #e2e8f0"}})})]},e.id))}):(0,un.jsxs)("div",{className:"text-center p-8",children:[(0,un.jsx)(pl,{size:64,style:{color:"#d1d5db",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No events yet"}),(0,un.jsx)("p",{className:"text-gray-500 mb-4",children:"Add events to track your product's journey through the supply chain"})]})]})]})})},gl=jn("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),yl=jn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),vl=()=>{const{batchId:e}=se(),[t,r]=(0,n.useState)(null),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)("");(0,n.useEffect)(()=>{l()},[e]);const l=async()=>{try{const t=await cn.get("/api/verify/".concat(e));r(t.data)}catch(i){var t,n;o((null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Verification failed")}finally{s(!1)}},c=e=>new Date(e).toLocaleString(),u=e=>e>=80?"#059669":e>=60?"#f59e0b":"#dc2626";return a?(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"50vh",gap:"1rem"},children:[(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}}),(0,un.jsx)("p",{className:"text-gray-600",children:"Verifying product authenticity..."})]}):i?(0,un.jsx)("div",{style:{padding:"2rem 0"},children:(0,un.jsx)("div",{className:"container",style:{maxWidth:"600px"},children:(0,un.jsxs)("div",{className:"card text-center",children:[(0,un.jsx)(Hn,{size:64,style:{color:"#dc2626",margin:"0 auto 1rem"}}),(0,un.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Verification Failed"}),(0,un.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,un.jsx)("p",{className:"text-sm text-gray-500",children:"This product could not be verified. Please check the QR code or contact the producer."})]})})}):(0,un.jsx)("div",{style:{padding:"2rem 0",background:"#f8fafc",minHeight:"100vh"},children:(0,un.jsxs)("div",{className:"container",style:{maxWidth:"800px"},children:[(0,un.jsxs)("div",{className:"card mb-6 text-center",children:[(0,un.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:u(t.trust_score),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",margin:"0 auto 1rem"},children:t.trust_score}),(0,un.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Product Verified"}),(0,un.jsx)("p",{style:{color:u(t.trust_score),fontWeight:"600"},children:(d=t.trust_score,d>=80?"High Trust":d>=60?"Medium Trust":"Low Trust")}),(0,un.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Verified on ",c(t.verified_at)]})]}),(0,un.jsxs)("div",{className:"grid grid-2 mb-6",children:[(0,un.jsxs)("div",{className:"card",children:[(0,un.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,un.jsx)(Xn,{size:24,style:{color:"#059669"}}),"Product Details"]}),(0,un.jsxs)("div",{className:"grid gap-3",children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Product Name"}),(0,un.jsx)("p",{className:"font-semibold text-lg",children:t.batch.product_name})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Type"}),(0,un.jsx)("p",{children:t.batch.product_type})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Quantity"}),(0,un.jsxs)("p",{children:[t.batch.quantity," ",t.batch.unit]})]}),t.batch.harvest_date&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Harvest Date"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(oa,{size:16,style:{color:"#6b7280"}}),(0,un.jsx)("p",{children:new Date(t.batch.harvest_date).toLocaleDateString()})]})]}),t.batch.location&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Origin"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(la,{size:16,style:{color:"#6b7280"}}),(0,un.jsx)("p",{children:t.batch.location})]})]}),t.batch.description&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,un.jsx)("p",{className:"text-sm",children:t.batch.description})]})]})]}),(0,un.jsxs)("div",{className:"card",children:[(0,un.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,un.jsx)(ea,{size:24,style:{color:"#059669"}}),"Producer Details"]}),(0,un.jsxs)("div",{className:"grid gap-3",children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Producer"}),(0,un.jsx)("p",{className:"font-semibold",children:t.producer.name})]}),t.producer.organization&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Organization"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(gl,{size:16,style:{color:"#6b7280"}}),(0,un.jsx)("p",{children:t.producer.organization})]})]}),t.producer.phone&&(0,un.jsxs)("div",{children:[(0,un.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Contact"}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(ra,{size:16,style:{color:"#6b7280"}}),(0,un.jsx)("p",{children:t.producer.phone})]})]})]})]})]}),t.certifications&&t.certifications.length>0&&(0,un.jsxs)("div",{className:"card mb-6",children:[(0,un.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,un.jsx)(yl,{size:24,style:{color:"#059669"}}),"Certifications"]}),(0,un.jsx)("div",{className:"grid gap-3",children:t.certifications.map((e,t)=>(0,un.jsx)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",background:"#f8fafc"},children:(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("h4",{className:"font-semibold",children:e.cert_type}),(0,un.jsxs)("p",{className:"text-sm text-gray-600",children:["Issued by: ",e.issuer]}),e.cert_number&&(0,un.jsxs)("p",{className:"text-sm text-gray-500",children:["Certificate #: ",e.cert_number]})]}),(0,un.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[e.issue_date&&(0,un.jsxs)("p",{children:["Issued: ",new Date(e.issue_date).toLocaleDateString()]}),e.expiry_date&&(0,un.jsxs)("p",{children:["Expires: ",new Date(e.expiry_date).toLocaleDateString()]})]})]})},t))})]}),(0,un.jsxs)("div",{className:"card",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Supply Chain Journey"}),t.events&&t.events.length>0?(0,un.jsx)("div",{className:"grid gap-4",children:t.events.map((e,r)=>(0,un.jsxs)("div",{style:{border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1.5rem",position:"relative"},children:[r<t.events.length-1&&(0,un.jsx)("div",{style:{position:"absolute",left:"1rem",top:"3rem",bottom:"-1rem",width:"2px",background:"#e2e8f0"}}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,un.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:"#059669",position:"relative",zIndex:1}}),(0,un.jsxs)("div",{children:[(0,un.jsx)("h4",{className:"font-semibold text-green-600",children:e.event_type}),(0,un.jsx)("p",{className:"text-gray-600",children:e.description})]})]}),(0,un.jsx)("span",{className:"text-sm text-gray-500",children:c(e.timestamp)})]}),e.location&&(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",marginLeft:"1.75rem",fontSize:"0.875rem",color:"#6b7280"},children:[(0,un.jsx)(la,{size:14}),e.location]}),e.photo_url&&(0,un.jsx)("div",{style:{marginLeft:"1.75rem",marginTop:"0.75rem"},children:(0,un.jsx)("img",{src:e.photo_url,alt:"Event documentation",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"0.5rem",border:"1px solid #e2e8f0"}})})]},r))}):(0,un.jsxs)("div",{className:"text-center p-6",children:[(0,un.jsx)(oa,{size:48,style:{color:"#d1d5db",margin:"0 auto 1rem"}}),(0,un.jsx)("p",{className:"text-gray-500",children:"No supply chain events recorded"})]})]}),(0,un.jsxs)("div",{className:"card mt-6",children:[(0,un.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Trust Indicators"}),(0,un.jsxs)("div",{className:"grid grid-3 gap-4",children:[(0,un.jsxs)("div",{className:"text-center",children:[(0,un.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.events.length>0?"#d1fae5":"#fee2e2",color:t.events.length>0?"#065f46":"#991b1b",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem"},children:(0,un.jsx)(Xn,{size:24})}),(0,un.jsx)("p",{className:"text-sm font-medium",children:"Supply Chain Events"}),(0,un.jsxs)("p",{className:"text-xs text-gray-500",children:[t.events.length," recorded"]})]}),(0,un.jsxs)("div",{className:"text-center",children:[(0,un.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.certifications.length>0?"#d1fae5":"#fee2e2",color:t.certifications.length>0?"#065f46":"#991b1b",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem"},children:(0,un.jsx)(yl,{size:24})}),(0,un.jsx)("p",{className:"text-sm font-medium",children:"Certifications"}),(0,un.jsxs)("p",{className:"text-xs text-gray-500",children:[t.certifications.length," active"]})]}),(0,un.jsxs)("div",{className:"text-center",children:[(0,un.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:t.events.filter(e=>e.photo_url).length>0?"#d1fae5":"#fee2e2",color:t.events.filter(e=>e.photo_url).length>0?"#065f46":"#991b1b",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 0.5rem"},children:(0,un.jsx)(ha,{size:24})}),(0,un.jsx)("p",{className:"text-sm font-medium",children:"Photo Evidence"}),(0,un.jsxs)("p",{className:"text-xs text-gray-500",children:[t.events.filter(e=>e.photo_url).length," photos"]})]})]})]}),(0,un.jsx)("div",{className:"text-center mt-8",children:(0,un.jsxs)("p",{className:"text-sm text-gray-500",children:["Powered by AgriSync \u2022 Verified at ",c(t.verified_at)]})})]})});var d},bl=jn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wl=jn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),xl=jn("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kl=jn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),jl=jn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Sl=jn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_l=e=>{let{product:t,featured:r,t:a}=e;const[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1);return(0,un.jsxs)("div",{className:r?"card-glass":"card",style:{position:"relative"},children:[r&&(0,un.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"white",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600"},children:"BULK"}),(0,un.jsx)("div",{style:{fontSize:"3rem",textAlign:"center",marginBottom:"1rem"},children:t.image}),(0,un.jsx)("h3",{className:"font-semibold text-lg mb-1",children:t.name}),(0,un.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,un.jsx)(na,{size:14,style:{color:"var(--text-tertiary)"}}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:t.organization}),t.verified&&(0,un.jsx)(xl,{size:14,style:{color:"var(--accent-primary)"}})]}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(la,{size:14,style:{color:"var(--text-tertiary)"}}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:t.location})]})]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsxs)("span",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:["\u20b9",t.price]}),(0,un.jsxs)("span",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["/",t.unit]})]}),(0,un.jsxs)("div",{style:{textAlign:"right"},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Available"}),(0,un.jsxs)("div",{className:"font-semibold",children:[t.quantity," ",t.unit]})]})]}),(0,un.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",marginBottom:"0.25rem"},children:[(0,un.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Min Order:"}),(0,un.jsxs)("span",{children:[t.minOrderQuantity," ",t.unit]})]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",marginBottom:"0.25rem"},children:[(0,un.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Lead Time:"}),(0,un.jsx)("span",{children:t.leadTime})]}),t.bulkDiscount&&(0,un.jsx)("div",{style:{background:"rgba(16, 185, 129, 0.1)",color:"var(--accent-primary)",padding:"0.25rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",textAlign:"center",marginTop:"0.25rem"},children:t.bulkDiscount})]}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(kl,{size:14,style:{color:"#f59e0b",fill:"#f59e0b"}}),(0,un.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:t.rating}),(0,un.jsxs)("span",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)"},children:["(",t.reviews,")"]})]}),(0,un.jsxs)("div",{style:{background:t.trustScore>=90?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",color:t.trustScore>=90?"var(--accent-primary)":"#f59e0b",padding:"0.125rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.75rem",fontWeight:"600"},children:["Trust: ",t.trustScore,"%"]})]}),(0,un.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"1rem"},children:t.certifications.map(e=>(0,un.jsxs)("span",{style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",padding:"0.125rem 0.5rem",borderRadius:"0.5rem",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(Hn,{size:10}),e]},e))}),t.harvestDate&&(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(0,un.jsx)(oa,{size:14}),"Harvested: ",new Date(t.harvestDate).toLocaleDateString()]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,un.jsxs)("button",{className:"btn btn-primary",style:{flex:1},onClick:()=>{u(!0)},children:[(0,un.jsx)(jl,{size:16}),"Request Quote"]}),(0,un.jsx)("button",{className:"btn btn-secondary",onClick:()=>{l(!o)},style:{padding:"0.75rem"},title:"View Details",children:(0,un.jsx)(ia,{size:16})}),(0,un.jsx)("button",{className:"btn btn-secondary",onClick:()=>i(!s),style:{padding:"0.75rem"},title:s?"Remove from Wishlist":"Add to Wishlist",children:(0,un.jsx)(Sl,{size:16,style:{fill:s?"#ef4444":"none",color:s?"#ef4444":"inherit"}})})]}),(0,un.jsx)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:(0,un.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,un.jsxs)("button",{className:"btn btn-outline",style:{flex:1,fontSize:"0.875rem"},onClick:()=>{alert("Calling ".concat(t.organization,"...\nPhone: +91-98765-43210"))},title:"Call Producer",children:[(0,un.jsx)(ra,{size:14}),"Call"]}),(0,un.jsxs)("button",{className:"btn btn-outline",style:{flex:1,fontSize:"0.875rem"},onClick:()=>{const e="Inquiry about ".concat(t.name),r="Hi ".concat(t.organization,",\n\nI'm interested in your ").concat(t.name," (").concat(t.quantity," ").concat(t.unit," available).\n\nPlease provide more details about:\n- Pricing for bulk orders\n- Quality specifications\n- Delivery terms\n\nThank you!"),n="mailto:contact@".concat(t.organization.toLowerCase().replace(/\s+/g,""),".com?subject=").concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(r));window.open(n)},title:"Send Email",children:[(0,un.jsx)(ta,{size:14}),"Email"]}),(0,un.jsxs)("button",{className:"btn btn-outline",style:{flex:1,fontSize:"0.875rem"},onClick:()=>{t.qrCode?window.open(t.qrCode,"_blank"):alert("QR code will be available once the product is verified.")},title:"View QR Code",children:[(0,un.jsx)(fl,{size:14}),"QR"]})]})}),o&&(0,un.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)",background:"var(--glass-bg)",borderRadius:"8px",padding:"1rem"},children:[(0,un.jsx)("h4",{style:{marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Product Details"}),(0,un.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",lineHeight:"1.5"},children:[(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Description:"})," ",t.description]}),t.harvestDate&&(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Harvest Date:"})," ",new Date(t.harvestDate).toLocaleDateString()]}),(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Available Quantity:"})," ",t.quantity," ",t.unit]}),(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Minimum Order:"})," ",t.minOrderQuantity," ",t.unit]}),(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Lead Time:"})," ",t.leadTime]}),t.location&&(0,un.jsxs)("p",{children:[(0,un.jsx)("strong",{children:"Location:"})," ",t.location]})]})]}),c&&(0,un.jsx)(El,{product:t,onClose:()=>u(!1)})]})},El=e=>{let{product:t,onClose:r}=e;const[a,s]=(0,n.useState)({companyName:"",contactName:"",email:"",phone:"",quantity:t.minOrderQuantity,message:""}),i=e=>{s(Wt(Wt({},a),{},{[e.target.name]:e.target.value}))};return(0,un.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,un.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"16px",padding:"2rem",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto"},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,un.jsx)("h3",{className:"text-xl font-semibold",children:"Request Quote"}),(0,un.jsx)("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"\xd7"})]}),(0,un.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"var(--glass-bg)",borderRadius:"8px"},children:[(0,un.jsx)("h4",{style:{marginBottom:"0.5rem"},children:t.name}),(0,un.jsxs)("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["From: ",t.organization," \u2022 Available: ",t.quantity," ",t.unit," \u2022 Price: \u20b9",t.price,"/",t.unit]})]}),(0,un.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Wt({productId:t.id,productName:t.name,producer:t.organization},a),n=await fetch("http://localhost:5000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const e=await n.json();alert("Quote request sent successfully!\n\nReference ID: ".concat(e.quoteId,"\n\n").concat(t.organization," will contact you within 24 hours at ").concat(a.email)),r()}else{const e=await n.json();alert("Failed to send quote request: ".concat(e.error))}}catch(n){console.error("Quote request error:",n),alert("Failed to send quote request. Please try again.")}},children:[(0,un.jsxs)("div",{className:"grid grid-2",style:{gap:"1rem",marginBottom:"1rem"},children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Company Name *"}),(0,un.jsx)("input",{type:"text",name:"companyName",value:a.companyName,onChange:i,className:"form-input",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Contact Name *"}),(0,un.jsx)("input",{type:"text",name:"contactName",value:a.contactName,onChange:i,className:"form-input",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Email *"}),(0,un.jsx)("input",{type:"email",name:"email",value:a.email,onChange:i,className:"form-input",required:!0})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:"Phone *"}),(0,un.jsx)("input",{type:"tel",name:"phone",value:a.phone,onChange:i,className:"form-input",required:!0})]})]}),(0,un.jsxs)("div",{className:"form-group",style:{marginBottom:"1rem"},children:[(0,un.jsxs)("label",{className:"form-label",children:["Quantity Required (",t.unit,") *"]}),(0,un.jsx)("input",{type:"number",name:"quantity",value:a.quantity,onChange:i,className:"form-input",min:t.minOrderQuantity,max:t.maxOrderQuantity,required:!0}),(0,un.jsxs)("small",{style:{color:"var(--text-secondary)"},children:["Min: ",t.minOrderQuantity," ",t.unit,", Max: ",t.maxOrderQuantity," ",t.unit]})]}),(0,un.jsxs)("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[(0,un.jsx)("label",{className:"form-label",children:"Additional Requirements"}),(0,un.jsx)("textarea",{name:"message",value:a.message,onChange:i,className:"form-input",rows:"3",placeholder:"Delivery timeline, quality specifications, packaging requirements, etc."})]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,un.jsx)("button",{type:"button",onClick:r,className:"btn btn-secondary",style:{flex:1},children:"Cancel"}),(0,un.jsx)("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:"Send Quote Request"})]})]})]})})},Tl=()=>{const{t:e}=bn(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(""),[l,c]=(0,n.useState)("all"),[u,d]=(0,n.useState)("newest"),[h,f]=(0,n.useState)(""),[p,m]=(0,n.useState)(!1),g={all:e("marketplace.allCategories"),Fruits:e("batch.fruits"),Vegetables:e("batch.vegetables"),Grains:e("batch.grains"),Herbs:e("batch.herbs"),Dairy:e("batch.dairy"),Meat:e("batch.meat"),"Processed Food":e("batch.processedFood")},y=(0,n.useCallback)(async()=>{try{const e=await fetch("http://localhost:5000/api/marketplace");if(e.ok){const t=(await e.json()).map(e=>{const t={Vegetables:35,Fruits:60,Grains:25,Herbs:150,Dairy:80,Meat:200,"Processed Food":120}[e.product_type]||50,r=e.quantity>100?.9:e.quantity>50?.95:1,n=Math.round(t*r);return{id:e.id,name:e.product_name,producer:e.producer_name||e.organization||"Unknown Producer",organization:e.organization||e.producer_name||"Individual Producer",category:e.product_type,price:n,unit:e.unit,quantity:e.quantity,location:e.location||"India",harvestDate:e.harvest_date,description:e.description||"Fresh quality product",qrCode:e.qr_code,createdAt:e.created_at,minOrderQuantity:Math.max(1,Math.floor(.1*e.quantity)),maxOrderQuantity:e.quantity,leadTime:e.quantity>100?"3-7 days":"2-5 days",certifications:["FSSAI Certified","Quality Assured"],rating:"4.5",reviews:Math.max(5,Math.floor(e.quantity/10)),trustScore:88,image:v(e.product_name,e.product_type),featured:e.quantity>50,verified:!0,bulkDiscount:e.quantity>100?"10% off on orders >50kg":e.quantity>25?"5% off on orders >25kg":null}});r(t)}else r([])}catch(e){console.error("Failed to fetch marketplace products:",e),r([])}finally{s(!1)}},[]);(0,n.useEffect)(()=>{y()},[y]);const v=(e,t)=>{const r=e.toLowerCase();if(r.includes("tomato"))return"\ud83c\udf45";if(r.includes("apple"))return"\ud83c\udf4e";if(r.includes("mango"))return"\ud83e\udd6d";if(r.includes("banana"))return"\ud83c\udf4c";if(r.includes("orange"))return"\ud83c\udf4a";if(r.includes("grape"))return"\ud83c\udf47";if(r.includes("strawberry"))return"\ud83c\udf53";if(r.includes("pineapple"))return"\ud83c\udf4d";if(r.includes("watermelon"))return"\ud83c\udf49";if(r.includes("peach"))return"\ud83c\udf51";if(r.includes("potato"))return"\ud83e\udd54";if(r.includes("carrot"))return"\ud83e\udd55";if(r.includes("onion"))return"\ud83e\uddc5";if(r.includes("garlic"))return"\ud83e\uddc4";if(r.includes("pepper")||r.includes("capsicum"))return"\ud83e\uded1";if(r.includes("broccoli"))return"\ud83e\udd66";if(r.includes("lettuce")||r.includes("cabbage"))return"\ud83e\udd6c";if(r.includes("corn"))return"\ud83c\udf3d";if(r.includes("cucumber"))return"\ud83e\udd52";if(r.includes("eggplant")||r.includes("brinjal"))return"\ud83c\udf46";if(r.includes("rice"))return"\ud83c\udf5a";if(r.includes("wheat"))return"\ud83c\udf3e";if(r.includes("oats"))return"\ud83c\udf3e";if(r.includes("barley"))return"\ud83c\udf3e";if(r.includes("milk"))return"\ud83e\udd5b";if(r.includes("cheese"))return"\ud83e\uddc0";if(r.includes("butter")||r.includes("ghee"))return"\ud83e\uddc8";if(r.includes("egg"))return"\ud83e\udd5a";if(r.includes("yogurt")||r.includes("curd"))return"\ud83e\udd5b";if(r.includes("chicken"))return"\ud83d\udc14";if(r.includes("beef"))return"\ud83e\udd69";if(r.includes("pork"))return"\ud83e\udd53";if(r.includes("fish"))return"\ud83d\udc1f";if(r.includes("shrimp"))return"\ud83e\udd90";if(r.includes("basil")||r.includes("mint")||r.includes("cilantro")||r.includes("parsley")||r.includes("herb"))return"\ud83c\udf3f";return{Fruits:"\ud83c\udf4e",Vegetables:"\ud83e\udd55",Grains:"\ud83c\udf3e",Herbs:"\ud83c\udf3f",Dairy:"\ud83e\udd5b",Meat:"\ud83e\udd69","Processed Food":"\ud83c\udf5e"}[t]||"\ud83c\udf31"},b=t.filter(e=>"all"===l||e.category===l).filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.producer.toLowerCase().includes(i.toLowerCase())||e.organization.toLowerCase().includes(i.toLowerCase())).filter(e=>!h||e.quantity>=parseInt(h)).sort((e,t)=>"price-low"===u?e.price-t.price:"price-high"===u?t.price-e.price:"quantity-high"===u?t.quantity-e.quantity:"quantity-low"===u?e.quantity-t.quantity:"rating"===u?parseFloat(t.rating)-parseFloat(e.rating):"trust"===u?t.trustScore-e.trustScore:"newest"===u?new Date(t.createdAt)-new Date(e.createdAt):0),w=t.filter(e=>e.featured);return a?(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}})}):(0,un.jsx)("div",{style:{padding:"2rem 0",minHeight:"100vh"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsxs)("h1",{className:"text-3xl font-bold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(na,{size:32,style:{color:"var(--accent-primary)"}}),e("marketplace.title")]}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Connect directly with verified producers. Bulk orders, competitive pricing, quality assured."})]}),(0,un.jsxs)("div",{className:"card-glass",style:{marginBottom:"2rem"},children:[(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center",marginBottom:"1rem"},children:[(0,un.jsxs)("div",{style:{flex:"1",minWidth:"250px",position:"relative"},children:[(0,un.jsx)(bl,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"text",placeholder:"Search products, producers, or organizations...",value:i,onChange:e=>o(e.target.value),className:"form-input",style:{paddingLeft:"3rem"}})]}),(0,un.jsxs)("button",{className:"btn btn-secondary",onClick:()=>m(!p),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:p?"var(--accent-primary)":void 0,color:p?"white":void 0},children:[(0,un.jsx)(wl,{size:16}),"Filters ",p?"\u25b2":"\u25bc"]})]}),p&&(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",paddingTop:"1rem",borderTop:"1px solid var(--border-color)",alignItems:"center"},children:[(0,un.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"form-input",style:{width:"auto",minWidth:"150px"},children:["all","Fruits","Vegetables","Grains","Herbs","Dairy","Meat","Processed Food"].map(e=>(0,un.jsx)("option",{value:e,children:g[e]||e},e))}),(0,un.jsx)("input",{type:"number",placeholder:"Min quantity",value:h,onChange:e=>f(e.target.value),className:"form-input",style:{width:"150px"}}),(0,un.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"form-input",style:{width:"auto",minWidth:"150px"},children:[(0,un.jsx)("option",{value:"newest",children:"Newest First"}),(0,un.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,un.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,un.jsx)("option",{value:"quantity-high",children:"Quantity: High to Low"}),(0,un.jsx)("option",{value:"quantity-low",children:"Quantity: Low to High"}),(0,un.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,un.jsx)("option",{value:"trust",children:"Trust Score"})]}),(0,un.jsx)("button",{className:"btn btn-outline",onClick:()=>{o(""),c("all"),d("newest"),f("")},style:{fontSize:"0.875rem"},children:"Clear All"})]})]}),(0,un.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",marginBottom:"2rem"},children:[(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Total Products"}),(0,un.jsx)("div",{className:"text-2xl font-bold",children:t.length})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Verified Producers"}),(0,un.jsx)("div",{className:"text-2xl font-bold",children:new Set(t.map(e=>e.producer)).size})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Total Quantity"}),(0,un.jsxs)("div",{className:"text-2xl font-bold",children:[t.reduce((e,t)=>e+parseFloat(t.quantity),0).toFixed(0)," kg"]})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Avg Trust Score"}),(0,un.jsxs)("div",{className:"text-2xl font-bold",children:[t.length>0?(t.reduce((e,t)=>e+t.trustScore,0)/t.length).toFixed(0):0,"%"]})]})]}),w.length>0&&(0,un.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,un.jsxs)("h2",{className:"text-xl font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Kn,{size:24,style:{color:"var(--accent-primary)"}}),"Bulk Available - Featured"]}),(0,un.jsx)("div",{className:"grid grid-3",children:w.slice(0,6).map(t=>(0,un.jsx)(_l,{product:t,featured:!0,t:e},t.id))})]}),(0,un.jsxs)("div",{children:[(0,un.jsxs)("h2",{className:"text-xl font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(_n,{size:20}),"All Products (",b.length,")"]}),(0,un.jsx)("div",{className:"grid grid-3",children:b.map(t=>(0,un.jsx)(_l,{product:t,t:e},t.id))}),0===b.length&&(0,un.jsxs)("div",{className:"card-glass text-center",style:{padding:"3rem"},children:[(0,un.jsx)(bl,{size:48,style:{color:"var(--text-tertiary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Try adjusting your search or filters"})]})]})]})})},Nl=jn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Cl=jn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ol=jn("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Pl=jn("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Rl=jn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Al=e=>{let{title:t,value:r,growth:n,icon:a}=e;return(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,un.jsx)("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,un.jsx)(a,{size:24,style:{color:"white"}})}),(0,un.jsxs)("span",{style:{fontSize:"0.75rem",color:n>=0?"var(--accent-primary)":"#ef4444",display:"flex",alignItems:"center",gap:"0.125rem",fontWeight:"600"},children:[n>=0?(0,un.jsx)(Ol,{size:14}):(0,un.jsx)(Pl,{size:14}),Math.abs(n),"%"]})]}),(0,un.jsx)("div",{className:"text-2xl font-bold mb-1",children:r}),(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:t})]})},Il=()=>{const{t:e}=bn(),[t,r]=(0,n.useState)("30d"),[a,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),l=(0,n.useCallback)(async()=>{try{const e=await cn.get("/api/batches");s(e.data)}catch(e){console.error("Failed to fetch data:",e)}finally{o(!1)}},[]);(0,n.useEffect)(()=>{l()},[l]);const c=a.reduce((e,t)=>e+(t.scan_count||0),0),u=a.length>0?Math.round(a.reduce((e,t)=>e+(t.trust_score||85),0)/a.length):0,d=a.reduce((e,t)=>e+50*(parseFloat(t.quantity)||0),0),h={totalScans:c,scanGrowth:c>10?8.5:0,totalBatches:a.length,batchGrowth:a.length>0?5.2:0,avgTrustScore:u,trustGrowth:u>80?2.1:0,revenue:d,revenueGrowth:d>1e3?12.3:0,uniqueBuyers:Math.max(Math.floor(.6*c),0),buyerGrowth:c>5?6.8:0,premiumRate:a.length>2?15.2:0,premiumGrowth:a.length>2?3.4:0},f=[{day:e("analytics.mon"),scans:Math.floor(.12*c)||2},{day:e("analytics.tue"),scans:Math.floor(.15*c)||3},{day:e("analytics.wed"),scans:Math.floor(.14*c)||3},{day:e("analytics.thu"),scans:Math.floor(.18*c)||4},{day:e("analytics.fri"),scans:Math.floor(.16*c)||3},{day:e("analytics.sat"),scans:Math.floor(.13*c)||2},{day:e("analytics.sun"),scans:Math.floor(.12*c)||2}],p=a.slice(0,5).map((e,t)=>({name:e.product_name,scans:e.scan_count||Math.max(1,Math.floor(e.quantity/10)),growth:t<2?"12.5":t<4?"8.3":"5.1"})),m=[{region:e("analytics.northIndia"),scans:Math.floor(.35*c)||5,percentage:35},{region:e("analytics.southIndia"),scans:Math.floor(.28*c)||4,percentage:28},{region:e("analytics.westIndia"),scans:Math.floor(.22*c)||3,percentage:22},{region:e("analytics.eastIndia"),scans:Math.floor(.1*c)||1,percentage:10},{region:e("analytics.others"),scans:Math.floor(.05*c)||1,percentage:5}],g=[{device:e("analytics.mobile"),icon:Vn,percentage:72,color:"#10b981"},{device:e("analytics.desktop"),icon:Nl,percentage:20,color:"#3b82f6"},{device:e("analytics.tablet"),icon:Nl,percentage:8,color:"#f59e0b"}],y=a.slice(0,3).map((t,r)=>({action:e("analytics.qrScan"),product:t.product_name,location:t.location||"India",time:"".concat(15*(r+1)," ").concat(e("common.minAgo"))})),v=Math.max(...f.map(e=>e.scans),1);return i?(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}})}):(0,un.jsx)("div",{style:{padding:"2rem 0",minHeight:"100vh"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("h1",{className:"text-3xl font-bold mb-2",children:e("analytics.title")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:e("analytics.subtitle")})]}),(0,un.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"form-input",style:{width:"auto"},children:[(0,un.jsx)("option",{value:"7d",children:e("analytics.last7Days")}),(0,un.jsx)("option",{value:"30d",children:e("analytics.last30Days")}),(0,un.jsx)("option",{value:"90d",children:e("analytics.last90Days")}),(0,un.jsx)("option",{value:"1y",children:e("analytics.lastYear")})]})]}),(0,un.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",marginBottom:"2rem"},children:[(0,un.jsx)(Al,{title:e("analytics.totalScans"),value:h.totalScans.toLocaleString("en-IN"),growth:h.scanGrowth,icon:Wn}),(0,un.jsx)(Al,{title:e("analytics.activeBatches"),value:h.totalBatches,growth:h.batchGrowth,icon:_n}),(0,un.jsx)(Al,{title:e("analytics.avgTrustScore"),value:"".concat(h.avgTrustScore,"%"),growth:h.trustGrowth,icon:Kn}),(0,un.jsx)(Al,{title:e("analytics.estRevenue"),value:"\u20b9".concat(h.revenue.toLocaleString("en-IN")),growth:h.revenueGrowth,icon:Cl}),(0,un.jsx)(Al,{title:e("analytics.uniqueBuyers"),value:h.uniqueBuyers,growth:h.buyerGrowth,icon:Gn}),(0,un.jsx)(Al,{title:e("analytics.premiumRate"),value:"".concat(h.premiumRate,"%"),growth:h.premiumGrowth,icon:Kn})]}),(0,un.jsxs)("div",{className:"grid grid-2",style:{marginBottom:"2rem"},children:[(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Tn,{size:20,style:{color:"var(--accent-primary)"}}),e("analytics.scansThisWeek")]}),(0,un.jsx)("div",{style:{display:"flex",alignItems:"flex-end",gap:"0.5rem",height:"200px"},children:f.map((e,t)=>(0,un.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,un.jsx)("div",{style:{width:"100%",height:"".concat(Math.max(e.scans/v*160,10),"px"),background:"linear-gradient(180deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"8px 8px 0 0",transition:"height 0.3s ease",position:"relative"},children:(0,un.jsx)("span",{style:{position:"absolute",top:"-24px",left:"50%",transform:"translateX(-50%)",fontSize:"0.75rem",fontWeight:"600",color:"var(--text-primary)"},children:e.scans})}),(0,un.jsx)("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:e.day})]},t))})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Kn,{size:20,style:{color:"var(--accent-primary)"}}),e("analytics.topProducts")]}),0===p.length?(0,un.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"2rem"},children:e("dashboard.noBatches")}):(0,un.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:p.map((t,r)=>{var n;return(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,un.jsx)("span",{style:{width:"24px",height:"24px",background:"var(--glass-bg)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"600"},children:r+1}),(0,un.jsxs)("div",{style:{flex:1},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,un.jsx)("span",{className:"font-semibold",children:t.name}),(0,un.jsxs)("span",{style:{fontSize:"0.875rem"},children:[t.scans," ",e("analytics.scans")]})]}),(0,un.jsx)("div",{style:{height:"4px",background:"var(--border-color)",borderRadius:"2px",overflow:"hidden"},children:(0,un.jsx)("div",{style:{height:"100%",width:"".concat(t.scans/((null===(n=p[0])||void 0===n?void 0:n.scans)||1)*100,"%"),background:"linear-gradient(90deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"2px"}})})]}),(0,un.jsxs)("span",{style:{fontSize:"0.75rem",color:parseFloat(t.growth)>=0?"var(--accent-primary)":"#ef4444",display:"flex",alignItems:"center",gap:"0.125rem"},children:[parseFloat(t.growth)>=0?(0,un.jsx)(Ol,{size:12}):(0,un.jsx)(Pl,{size:12}),Math.abs(parseFloat(t.growth)),"%"]})]},r)})})]})]}),(0,un.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"2rem"},children:[(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Jn,{size:20,style:{color:"var(--accent-primary)"}}),e("analytics.geoDistribution")]}),(0,un.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:m.map(e=>(0,un.jsxs)("div",{children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,un.jsx)("span",{style:{fontSize:"0.875rem"},children:e.region}),(0,un.jsxs)("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[e.percentage,"%"]})]}),(0,un.jsx)("div",{style:{height:"6px",background:"var(--border-color)",borderRadius:"3px",overflow:"hidden"},children:(0,un.jsx)("div",{style:{height:"100%",width:"".concat(e.percentage,"%"),background:"var(--accent-primary)",borderRadius:"3px"}})})]},e.region))})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Vn,{size:20,style:{color:"var(--accent-primary)"}}),e("analytics.deviceBreakdown")]}),(0,un.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:g.map(e=>(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,un.jsx)("div",{style:{width:"40px",height:"40px",background:"".concat(e.color,"20"),borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,un.jsx)(e.icon,{size:20,style:{color:e.color}})}),(0,un.jsxs)("div",{style:{flex:1},children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[(0,un.jsx)("span",{className:"font-semibold",children:e.device}),(0,un.jsxs)("span",{style:{fontWeight:"600",color:e.color},children:[e.percentage,"%"]})]}),(0,un.jsx)("div",{style:{height:"6px",background:"var(--border-color)",borderRadius:"3px",overflow:"hidden"},children:(0,un.jsx)("div",{style:{height:"100%",width:"".concat(e.percentage,"%"),background:e.color,borderRadius:"3px"}})})]})]},e.device))})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Rl,{size:20,style:{color:"var(--accent-primary)"}}),e("analytics.recentActivity")]}),0===y.length?(0,un.jsx)("p",{style:{color:"var(--text-secondary)",textAlign:"center",padding:"2rem"},children:e("dashboard.noBatches")}):(0,un.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:y.map((e,t)=>(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",background:"var(--glass-bg)",borderRadius:"8px"},children:[(0,un.jsx)("div",{style:{width:"8px",height:"8px",background:"var(--accent-primary)",borderRadius:"50%"}}),(0,un.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500"},children:e.action}),(0,un.jsxs)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[e.product," \u2022 ",e.location]})]}),(0,un.jsx)("span",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)",whiteSpace:"nowrap"},children:e.time})]},t))})]})]})]})})},Dl=jn("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),zl=()=>{const{t:e}=bn(),[t,r]=(0,n.useState)("all"),[a,s]=(0,n.useState)(""),[i,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),u=(0,n.useCallback)(async()=>{try{const e=localStorage.getItem("token");if(!e)return o([]),void c(!1);const t=await fetch("http://localhost:5000/api/orders",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=(await t.json()).map(e=>({id:e.id,order_number:e.order_number,buyer_name:e.buyer_name,buyer_email:e.buyer_email,products:e.products||[],total_amount:e.total_amount,status:e.status,order_date:e.order_date,delivery_date:e.delivery_date,tracking_id:e.tracking_id}));o(e)}else o([])}catch(e){console.error("Failed to fetch orders:",e),o([])}finally{c(!1)}},[]);(0,n.useEffect)(()=>{u()},[u]);const d={pending:{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)",icon:Rl,label:e("orders.pending")},processing:{color:"#3b82f6",bg:"rgba(59, 130, 246, 0.1)",icon:_n,label:e("orders.processing")},shipped:{color:"#8b5cf6",bg:"rgba(139, 92, 246, 0.1)",icon:Dl,label:e("orders.shipped")},delivered:{color:"#10b981",bg:"rgba(16, 185, 129, 0.1)",icon:Xn,label:e("orders.delivered")},cancelled:{color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)",icon:ma,label:e("orders.cancelled")}},h=[{id:"all",label:e("orders.allOrders"),count:i.length},{id:"pending",label:e("orders.pending"),count:i.filter(e=>"pending"===e.status).length},{id:"processing",label:e("orders.processing"),count:i.filter(e=>"processing"===e.status).length},{id:"shipped",label:e("orders.shipped"),count:i.filter(e=>"shipped"===e.status).length},{id:"delivered",label:e("orders.delivered"),count:i.filter(e=>"delivered"===e.status).length}],f=i.filter(e=>"all"===t||e.status===t).filter(e=>(e.order_number||"").toLowerCase().includes(a.toLowerCase())||(e.buyer_name||"").toLowerCase().includes(a.toLowerCase())),p=i.filter(e=>"delivered"===e.status).reduce((e,t)=>e+(t.total_amount||0),0),m=i.filter(e=>["pending","processing","shipped"].includes(e.status)).reduce((e,t)=>e+(t.total_amount||0),0);return l?(0,un.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,un.jsx)("div",{className:"loading",style:{width:"40px",height:"40px"}})}):(0,un.jsx)("div",{style:{padding:"2rem 0",minHeight:"100vh"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsx)("h1",{className:"text-3xl font-bold mb-2",children:e("orders.title")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:e("orders.subtitle")})]}),(0,un.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",marginBottom:"2rem"},children:[(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:e("orders.totalOrders")}),(0,un.jsx)("div",{className:"text-2xl font-bold",children:i.length})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:e("orders.completedRevenue")}),(0,un.jsxs)("div",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:["\u20b9",p.toLocaleString("en-IN")]})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:e("orders.pendingRevenue")}),(0,un.jsxs)("div",{className:"text-2xl font-bold",style:{color:"#f59e0b"},children:["\u20b9",m.toLocaleString("en-IN")]})]}),(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:e("orders.fulfillmentRate")}),(0,un.jsxs)("div",{className:"text-2xl font-bold",children:[i.length>0?(i.filter(e=>"delivered"===e.status).length/i.length*100).toFixed(1):0,"%"]})]})]}),(0,un.jsx)("div",{className:"card-glass",style:{marginBottom:"2rem"},children:(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,un.jsx)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:h.map(e=>(0,un.jsxs)("button",{onClick:()=>r(e.id),className:"btn ".concat(t===e.id?"btn-primary":"btn-secondary"),style:{padding:"0.5rem 1rem"},children:[e.label,(0,un.jsx)("span",{style:{background:t===e.id?"rgba(255,255,255,0.2)":"var(--glass-bg)",padding:"0.125rem 0.5rem",borderRadius:"1rem",fontSize:"0.75rem",marginLeft:"0.5rem"},children:e.count})]},e.id))}),(0,un.jsxs)("div",{style:{position:"relative",minWidth:"250px"},children:[(0,un.jsx)(bl,{size:18,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),(0,un.jsx)("input",{type:"text",placeholder:e("common.search")+"...",value:a,onChange:e=>s(e.target.value),className:"form-input",style:{paddingLeft:"2.5rem"}})]})]})}),(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[f.map(t=>{const r=d[t.status]||d.pending,n=r.icon;return(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem",flexWrap:"wrap",gap:"1rem"},children:[(0,un.jsxs)("div",{children:[(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,un.jsx)("h3",{className:"font-semibold text-lg",children:t.order_number}),(0,un.jsxs)("span",{style:{background:r.bg,color:r.color,padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,un.jsx)(n,{size:12}),r.label]})]}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:t.buyer_name}),(0,un.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-tertiary)"},children:t.buyer_email})]}),(0,un.jsxs)("div",{style:{textAlign:"right"},children:[(0,un.jsxs)("div",{className:"text-2xl font-bold",style:{color:"var(--accent-primary)"},children:["\u20b9",(t.total_amount||0).toLocaleString("en-IN")]}),(0,un.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[e("orders.ordered"),": ",new Date(t.order_date).toLocaleDateString("hi-IN")]})]})]}),t.products&&t.products.length>0&&(0,un.jsxs)("div",{style:{background:"var(--glass-bg)",borderRadius:"12px",padding:"1rem",marginBottom:"1rem"},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.75rem"},children:e("orders.products")}),t.products.map((e,r)=>(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 0",borderBottom:r<t.products.length-1?"1px solid var(--border-color)":"none"},children:[(0,un.jsx)("span",{children:e.name}),(0,un.jsxs)("span",{style:{color:"var(--text-secondary)"},children:[e.quantity," ",e.unit," \xd7 \u20b9",e.price]})]},r))]}),(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,un.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[t.tracking_id&&(0,un.jsxs)("span",{children:[e("orders.tracking"),": ",(0,un.jsx)("strong",{children:t.tracking_id})]}),t.delivery_date&&(0,un.jsxs)("span",{style:{marginLeft:t.tracking_id?"1rem":0},children:[e("orders.estDelivery"),": ",(0,un.jsx)("strong",{children:new Date(t.delivery_date).toLocaleDateString("hi-IN")})]})]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,un.jsxs)("button",{className:"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:[(0,un.jsx)(ia,{size:16}),e("orders.viewDetails")]}),(0,un.jsxs)("button",{className:"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:[(0,un.jsx)(fl,{size:16}),e("orders.invoice")]})]})]})]},t.id)}),0===f.length&&(0,un.jsxs)("div",{className:"card-glass text-center",style:{padding:"3rem"},children:[(0,un.jsx)(_n,{size:48,style:{color:"var(--text-tertiary)",margin:"0 auto 1rem"}}),(0,un.jsx)("h3",{className:"text-lg font-semibold mb-2",children:0===i.length?"No orders yet":"No orders found"}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:0===i.length?"Orders from buyers will appear here once you start receiving them.":"Try adjusting your search or filters to find specific orders."})]})]})]})})},Ll=jn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Bl=jn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Ml=jn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ul=jn("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Fl=jn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ql=jn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Wl=e=>{let{label:t,description:r,checked:n,onChange:a}=e;return(0,un.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--glass-bg)",borderRadius:"12px"},children:[(0,un.jsxs)("div",{children:[(0,un.jsx)("div",{className:"font-semibold",children:t}),(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:r})]}),(0,un.jsx)("button",{onClick:a,style:{width:"50px",height:"28px",borderRadius:"14px",background:n?"var(--accent-primary)":"var(--border-color)",border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s"},children:(0,un.jsx)("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:n?"25px":"3px",transition:"left 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})},Hl=()=>{const{user:e}=hn(),{isDark:t,toggleTheme:r}=mn(),{language:a,changeLanguage:s,t:i,languages:o}=bn(),[l,c]=(0,n.useState)("profile"),[u,d]=(0,n.useState)(!1),[h,f]=(0,n.useState)({username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",organization:(null===e||void 0===e?void 0:e.organization)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",bio:"",location:"",website:""}),[p,m]=(0,n.useState)({emailOrders:!0,emailScans:!1,emailMarketing:!1,pushOrders:!0,pushScans:!0,smsOrders:!1}),[g,y]=(0,n.useState)({twoFactor:!1,loginAlerts:!0,sessionTimeout:"30"}),v=[{id:"profile",label:i("settings.profile"),icon:ea},{id:"notifications",label:i("settings.notifications"),icon:Ll},{id:"security",label:i("settings.security"),icon:Hn},{id:"appearance",label:i("settings.appearance"),icon:Bl},{id:"billing",label:i("settings.billing"),icon:Ml},{id:"api",label:i("settings.apiKeys"),icon:Ul}];return(0,un.jsx)("div",{style:{padding:"2rem 0",minHeight:"100vh"},children:(0,un.jsxs)("div",{className:"container",children:[(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsx)("h1",{className:"text-3xl font-bold mb-2",children:i("settings.title")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)"},children:i("settings.subtitle")})]}),(0,un.jsxs)("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[(0,un.jsx)("div",{style:{width:"250px",flexShrink:0},children:(0,un.jsx)("div",{className:"card-glass",style:{padding:"0.5rem"},children:v.map(e=>(0,un.jsxs)("button",{onClick:()=>c(e.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",border:"none",background:l===e.id?"var(--accent-primary)":"transparent",color:l===e.id?"white":"var(--text-primary)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[(0,un.jsx)(e.icon,{size:18}),e.label]},e.id))})}),(0,un.jsxs)("div",{style:{flex:1,minWidth:"300px"},children:["profile"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.profileSettings")}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"2rem"},children:[(0,un.jsx)("div",{style:{width:"100px",height:"100px",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",color:"white",fontWeight:"bold"},children:h.username.charAt(0).toUpperCase()}),(0,un.jsxs)("div",{children:[(0,un.jsxs)("button",{className:"btn btn-secondary",style:{marginBottom:"0.5rem"},children:[(0,un.jsx)(ha,{size:16}),i("settings.changePhoto")]}),(0,un.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:i("settings.photoHint")})]})]}),(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.username")}),(0,un.jsx)("input",{type:"text",value:h.username,onChange:e=>f(Wt(Wt({},h),{},{username:e.target.value})),className:"form-input"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.email")}),(0,un.jsx)("input",{type:"email",value:h.email,onChange:e=>f(Wt(Wt({},h),{},{email:e.target.value})),className:"form-input"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.organization")}),(0,un.jsx)("input",{type:"text",value:h.organization,onChange:e=>f(Wt(Wt({},h),{},{organization:e.target.value})),className:"form-input"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.phone")}),(0,un.jsx)("input",{type:"tel",value:h.phone,onChange:e=>f(Wt(Wt({},h),{},{phone:e.target.value})),className:"form-input"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("batch.location")}),(0,un.jsx)("input",{type:"text",value:h.location,onChange:e=>f(Wt(Wt({},h),{},{location:e.target.value})),className:"form-input",placeholder:i("settings.cityCountry")})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.website")}),(0,un.jsx)("input",{type:"url",value:h.website,onChange:e=>f(Wt(Wt({},h),{},{website:e.target.value})),className:"form-input",placeholder:"https://"})]})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.bio")}),(0,un.jsx)("textarea",{value:h.bio,onChange:e=>f(Wt(Wt({},h),{},{bio:e.target.value})),className:"form-input",rows:"4",placeholder:i("settings.bioPlaceholder")})]})]}),"notifications"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.notificationPrefs")}),(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(ta,{size:18}),i("settings.emailNotifications")]}),(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,un.jsx)(Wl,{label:i("settings.orderUpdates"),description:i("settings.orderUpdatesDesc"),checked:p.emailOrders,onChange:()=>m(Wt(Wt({},p),{},{emailOrders:!p.emailOrders}))}),(0,un.jsx)(Wl,{label:i("settings.qrScanAlerts"),description:i("settings.qrScanAlertsDesc"),checked:p.emailScans,onChange:()=>m(Wt(Wt({},p),{},{emailScans:!p.emailScans}))}),(0,un.jsx)(Wl,{label:i("settings.marketingTips"),description:i("settings.marketingTipsDesc"),checked:p.emailMarketing,onChange:()=>m(Wt(Wt({},p),{},{emailMarketing:!p.emailMarketing}))})]})]}),(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsxs)("h3",{className:"font-semibold mb-4",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,un.jsx)(Vn,{size:18}),i("settings.pushNotifications")]}),(0,un.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,un.jsx)(Wl,{label:i("settings.orderAlerts"),description:i("settings.orderAlertsDesc"),checked:p.pushOrders,onChange:()=>m(Wt(Wt({},p),{},{pushOrders:!p.pushOrders}))}),(0,un.jsx)(Wl,{label:i("settings.scanNotifications"),description:i("settings.scanNotificationsDesc"),checked:p.pushScans,onChange:()=>m(Wt(Wt({},p),{},{pushScans:!p.pushScans}))})]})]})]}),"security"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.security")}),(0,un.jsx)("div",{style:{marginBottom:"2rem"},children:(0,un.jsx)(Wl,{label:i("settings.twoFactor"),description:i("settings.twoFactorDesc"),checked:g.twoFactor,onChange:()=>y(Wt(Wt({},g),{},{twoFactor:!g.twoFactor}))})}),(0,un.jsx)("div",{style:{marginBottom:"2rem"},children:(0,un.jsx)(Wl,{label:i("settings.loginAlerts"),description:i("settings.loginAlertsDesc"),checked:g.loginAlerts,onChange:()=>y(Wt(Wt({},g),{},{loginAlerts:!g.loginAlerts}))})}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.sessionTimeout")}),(0,un.jsxs)("select",{value:g.sessionTimeout,onChange:e=>y(Wt(Wt({},g),{},{sessionTimeout:e.target.value})),className:"form-input",style:{width:"auto"},children:[(0,un.jsxs)("option",{value:"15",children:["15 ",i("settings.minutes")]}),(0,un.jsxs)("option",{value:"30",children:["30 ",i("settings.minutes")]}),(0,un.jsxs)("option",{value:"60",children:["1 ",i("settings.hour")]}),(0,un.jsxs)("option",{value:"240",children:["4 ",i("settings.hours")]}),(0,un.jsx)("option",{value:"never",children:i("settings.never")})]})]}),(0,un.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,un.jsx)("h3",{className:"font-semibold mb-4",children:i("settings.changePassword")}),(0,un.jsxs)("div",{className:"grid grid-2",children:[(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.currentPassword")}),(0,un.jsx)("input",{type:"password",className:"form-input"})]}),(0,un.jsx)("div",{}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.newPassword")}),(0,un.jsx)("input",{type:"password",className:"form-input"})]}),(0,un.jsxs)("div",{className:"form-group",children:[(0,un.jsx)("label",{className:"form-label",children:i("settings.confirmNewPassword")}),(0,un.jsx)("input",{type:"password",className:"form-input"})]})]}),(0,un.jsx)("button",{className:"btn btn-secondary",children:i("settings.updatePassword")})]})]}),"appearance"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.appearance")}),(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsx)("h3",{className:"font-semibold mb-4",children:i("settings.theme")}),(0,un.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,un.jsxs)("button",{onClick:()=>t&&r(),className:"btn ".concat(t?"btn-secondary":"btn-primary"),style:{flex:1,padding:"1.5rem",flexDirection:"column",gap:"0.5rem"},children:[(0,un.jsx)("div",{style:{fontSize:"2rem"},children:"\u2600\ufe0f"}),i("settings.lightMode")]}),(0,un.jsxs)("button",{onClick:()=>!t&&r(),className:"btn ".concat(t?"btn-primary":"btn-secondary"),style:{flex:1,padding:"1.5rem",flexDirection:"column",gap:"0.5rem"},children:[(0,un.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83c\udf19"}),i("settings.darkMode")]})]})]}),(0,un.jsxs)("div",{children:[(0,un.jsx)("h3",{className:"font-semibold mb-4",children:i("settings.language")}),(0,un.jsx)("select",{className:"form-input",style:{width:"auto",minWidth:"200px"},value:a,onChange:e=>s(e.target.value),children:o.map(e=>(0,un.jsxs)("option",{value:e.code,children:[e.nativeName," (",e.name,")"]},e.code))}),(0,un.jsx)("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:i("settings.languageChangeHint")})]})]}),"billing"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.billingSubscription")}),(0,un.jsxs)("div",{style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"16px",padding:"1.5rem",color:"white",marginBottom:"2rem"},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",opacity:.9,marginBottom:"0.5rem"},children:i("settings.currentPlan")}),(0,un.jsx)("div",{className:"text-2xl font-bold mb-2",children:i("settings.proPlan")}),(0,un.jsxs)("div",{style:{fontSize:"0.875rem",opacity:.9},children:["\u20b92,499/month \u2022 ",i("settings.renewsOn")," Jan 15, 2025"]})]}),(0,un.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,un.jsx)("h3",{className:"font-semibold mb-4",children:i("settings.paymentMethod")}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:"var(--glass-bg)",borderRadius:"12px"},children:[(0,un.jsx)("div",{style:{fontSize:"2rem"},children:"\ud83d\udcb3"}),(0,un.jsxs)("div",{children:[(0,un.jsx)("div",{className:"font-semibold",children:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 4242"}),(0,un.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[i("settings.expires")," 12/26"]})]}),(0,un.jsx)("button",{className:"btn btn-secondary",style:{marginLeft:"auto"},children:i("settings.update")})]})]}),(0,un.jsx)("button",{className:"btn btn-outline",children:i("settings.viewBillingHistory")})]}),"api"===l&&(0,un.jsxs)("div",{className:"card-glass",children:[(0,un.jsx)("h2",{className:"text-xl font-semibold mb-6",children:i("settings.apiKeys")}),(0,un.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"2rem"},children:i("settings.apiKeysDesc")}),(0,un.jsxs)("div",{style:{padding:"1rem",background:"var(--glass-bg)",borderRadius:"12px",marginBottom:"1rem",fontFamily:"monospace"},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:i("settings.productionKey")}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,un.jsx)("code",{style:{flex:1},children:"sk_live_\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,un.jsx)("button",{className:"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:i("settings.copy")})]})]}),(0,un.jsxs)("div",{style:{padding:"1rem",background:"var(--glass-bg)",borderRadius:"12px",marginBottom:"2rem",fontFamily:"monospace"},children:[(0,un.jsx)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:i("settings.testKey")}),(0,un.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,un.jsx)("code",{style:{flex:1},children:"sk_test_\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,un.jsx)("button",{className:"btn btn-secondary",style:{padding:"0.5rem 1rem"},children:i("settings.copy")})]})]}),(0,un.jsx)("button",{className:"btn btn-primary",children:i("settings.generateNewKey")})]}),(0,un.jsx)("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:(0,un.jsxs)("button",{className:"btn btn-primary",onClick:()=>{d(!0),setTimeout(()=>d(!1),2e3)},children:[u?(0,un.jsx)(Fl,{size:16}):(0,un.jsx)(ql,{size:16}),i(u?"settings.saved":"settings.saveChanges")]})})]})]})]})})},Vl=e=>{let{children:t}=e;const{user:r}=hn();return r?t:(0,un.jsx)(we,{to:"/login"})};const Kl=function(){return(0,un.jsx)(wn,{children:(0,un.jsx)(gn,{children:(0,un.jsx)(fn,{children:(0,un.jsx)(Ce,{children:(0,un.jsxs)("div",{className:"App",children:[(0,un.jsx)(Ln,{}),(0,un.jsx)("main",{children:(0,un.jsxs)(je,{children:[(0,un.jsx)(xe,{path:"/",element:(0,un.jsx)(Qn,{})}),(0,un.jsx)(xe,{path:"/login",element:(0,un.jsx)(Yn,{})}),(0,un.jsx)(xe,{path:"/register",element:(0,un.jsx)(sa,{})}),(0,un.jsx)(xe,{path:"/verify/:batchId",element:(0,un.jsx)(vl,{})}),(0,un.jsx)(xe,{path:"/marketplace",element:(0,un.jsx)(Tl,{})}),(0,un.jsx)(xe,{path:"/dashboard",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(ca,{})})}),(0,un.jsx)(xe,{path:"/create-batch",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(dl,{})})}),(0,un.jsx)(xe,{path:"/batch/:id",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(ml,{})})}),(0,un.jsx)(xe,{path:"/analytics",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(Il,{})})}),(0,un.jsx)(xe,{path:"/orders",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(zl,{})})}),(0,un.jsx)(xe,{path:"/settings",element:(0,un.jsx)(Vl,{children:(0,un.jsx)(Hl,{})})})]})}),(0,un.jsx)(Fn,{})]})})})})})};s.createRoot(document.getElementById("root")).render((0,un.jsx)(n.StrictMode,{children:(0,un.jsx)(Kl,{})}))})()})();
//# sourceMappingURL=main.4eaff438.js.map